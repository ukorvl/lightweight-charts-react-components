var Ra=Object.defineProperty;var _a=(i,t,e)=>t in i?Ra(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var Jt=(i,t,e)=>_a(i,typeof t!="symbol"?t+"":t,e);import{u as $a,g as Ea,r as m,R as Ba,a as Fe,s as za,b as La,e as Ta,j as p,c as A,d as Ia,f as it,h as nt,i as Da,k as ye,l as st,m as ht,n as Se,B as je,o as z,p as R,q as at,t as pt,v as Ft,w as Oe,x as Pi,y as Fi,z as Na,A as Wo,C as Fa,D as Vo,E as qt,F as ja,P as Yo,G as dt,T as ut,H as Jn,I as Js,J as Ao,K as Ho,L as xe,M as gn,N as ai,O as Oa,Q as Wa,U as vn,V as Va,W as bn,X as Li,Y as tr,Z as Ya,_ as Aa,$ as Ha,a0 as C,a1 as Uo,S as We,a2 as Ua,a3 as Ga,a4 as Xa,a5 as Pt,a6 as ne,a7 as ji,a8 as ve,a9 as Go}from"./index-bVID1Lxt.js";function Qa(i,t,e,s,n){const[r,o]=m.useState(()=>n&&e?e(i).matches:s?s(i).matches:t);return Fe(()=>{if(!e)return;const l=e(i),a=()=>{o(l.matches)};return a(),l.addEventListener("change",a),()=>{l.removeEventListener("change",a)}},[i,e]),r}const Ka={...Ba},Xo=Ka.useSyncExternalStore;function qa(i,t,e,s,n){const r=m.useCallback(()=>t,[t]),o=m.useMemo(()=>{if(n&&e)return()=>e(i).matches;if(s!==null){const{matches:c}=s(i);return()=>c}return r},[r,i,s,n,e]),[l,a]=m.useMemo(()=>{if(e===null)return[r,()=>()=>{}];const c=e(i);return[()=>c.matches,u=>(c.addEventListener("change",u),()=>{c.removeEventListener("change",u)})]},[r,e,i]);return Xo(a,l,o)}function Qo(i={}){const{themeId:t}=i;return function(s,n={}){let r=$a();r&&t&&(r=r[t]||r);const o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:l=!1,matchMedia:a=o?window.matchMedia:null,ssrMatchMedia:h=null,noSsr:c=!1}=Ea({name:"MuiUseMediaQuery",props:n,theme:r});let u=typeof s=="function"?s(r):s;return u=u.replace(/^@media( ?)/m,""),u.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(Xo!==void 0?qa:Qa)(u,l,a,h,c)}}Qo();function es(i,t){var e,s,n;return m.isValidElement(i)&&t.indexOf(i.type.muiName??((n=(s=(e=i.type)==null?void 0:e._payload)==null?void 0:s.value)==null?void 0:n.muiName))!==-1}function Za(i){return m.Children.toArray(i).filter(t=>m.isValidElement(t))}const Ja=(i,t)=>i.filter(e=>t.includes(e)),hi=(i,t,e)=>{const s=i.keys[0];Array.isArray(t)?t.forEach((n,r)=>{e((o,l)=>{r<=i.keys.length-1&&(r===0?Object.assign(o,l):o[i.up(i.keys[r])]=l)},n)}):t&&typeof t=="object"?(Object.keys(t).length>i.keys.length?i.keys:Ja(i.keys,Object.keys(t))).forEach(r=>{if(i.keys.includes(r)){const o=t[r];o!==void 0&&e((l,a)=>{s===r?Object.assign(l,a):l[i.up(r)]=a},o)}}):(typeof t=="number"||typeof t=="string")&&e((n,r)=>{Object.assign(n,r)},t)};function ns(i){return`--Grid-${i}Spacing`}function us(i){return`--Grid-parent-${i}Spacing`}const er="--Grid-columns",Je="--Grid-parent-columns",th=({theme:i,ownerState:t})=>{const e={};return hi(i.breakpoints,t.size,(s,n)=>{let r={};n==="grow"&&(r={flexBasis:0,flexGrow:1,maxWidth:"100%"}),n==="auto"&&(r={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof n=="number"&&(r={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${n} / var(${Je}) - (var(${Je}) - ${n}) * (var(${us("column")}) / var(${Je})))`}),s(e,r)}),e},eh=({theme:i,ownerState:t})=>{const e={};return hi(i.breakpoints,t.offset,(s,n)=>{let r={};n==="auto"&&(r={marginLeft:"auto"}),typeof n=="number"&&(r={marginLeft:n===0?"0px":`calc(100% * ${n} / var(${Je}) + var(${us("column")}) * ${n} / var(${Je}))`}),s(e,r)}),e},ih=({theme:i,ownerState:t})=>{if(!t.container)return{};const e={[er]:12};return hi(i.breakpoints,t.columns,(s,n)=>{const r=n??12;s(e,{[er]:r,"> *":{[Je]:r}})}),e},sh=({theme:i,ownerState:t})=>{if(!t.container)return{};const e={};return hi(i.breakpoints,t.rowSpacing,(s,n)=>{var o;const r=typeof n=="string"?n:(o=i.spacing)==null?void 0:o.call(i,n);s(e,{[ns("row")]:r,"> *":{[us("row")]:r}})}),e},nh=({theme:i,ownerState:t})=>{if(!t.container)return{};const e={};return hi(i.breakpoints,t.columnSpacing,(s,n)=>{var o;const r=typeof n=="string"?n:(o=i.spacing)==null?void 0:o.call(i,n);s(e,{[ns("column")]:r,"> *":{[us("column")]:r}})}),e},rh=({theme:i,ownerState:t})=>{if(!t.container)return{};const e={};return hi(i.breakpoints,t.direction,(s,n)=>{s(e,{flexDirection:n})}),e},oh=({ownerState:i})=>({minWidth:0,boxSizing:"border-box",...i.container&&{display:"flex",flexWrap:"wrap",...i.wrap&&i.wrap!=="wrap"&&{flexWrap:i.wrap},gap:`var(${ns("row")}) var(${ns("column")})`}}),lh=i=>{const t=[];return Object.entries(i).forEach(([e,s])=>{s!==!1&&s!==void 0&&t.push(`grid-${e}-${String(s)}`)}),t},ah=(i,t="xs")=>{function e(s){return s===void 0?!1:typeof s=="string"&&!Number.isNaN(Number(s))||typeof s=="number"&&s>0}if(e(i))return[`spacing-${t}-${String(i)}`];if(typeof i=="object"&&!Array.isArray(i)){const s=[];return Object.entries(i).forEach(([n,r])=>{e(r)&&s.push(`spacing-${n}-${String(r)}`)}),s}return[]},hh=i=>i===void 0?[]:typeof i=="object"?Object.entries(i).map(([t,e])=>`direction-${t}-${e}`):[`direction-xs-${String(i)}`];function ch(i,t){i.item!==void 0&&delete i.item,i.zeroMinWidth!==void 0&&delete i.zeroMinWidth,t.keys.forEach(e=>{i[e]!==void 0&&delete i[e]})}const uh=Da(),dh=za("div",{name:"MuiGrid",slot:"Root",overridesResolver:(i,t)=>t.root});function ph(i){return Ia({props:i,name:"MuiGrid",defaultTheme:uh})}function fh(i={}){const{createStyledComponent:t=dh,useThemeProps:e=ph,useTheme:s=La,componentName:n="MuiGrid"}=i,r=(h,c)=>{const{container:u,direction:d,spacing:f,wrap:g,size:v}=h,b={root:["root",u&&"container",g!=="wrap"&&`wrap-xs-${String(g)}`,...hh(d),...lh(v),...u?ah(f,c.breakpoints.keys[0]):[]]};return it(b,w=>nt(n,w),{})};function o(h,c,u=()=>!0){const d={};return h===null||(Array.isArray(h)?h.forEach((f,g)=>{f!==null&&u(f)&&c.keys[g]&&(d[c.keys[g]]=f)}):typeof h=="object"?Object.keys(h).forEach(f=>{const g=h[f];g!=null&&u(g)&&(d[f]=g)}):d[c.keys[0]]=h),d}const l=t(ih,nh,sh,th,rh,oh,eh),a=m.forwardRef(function(c,u){const d=s(),f=e(c),g=Ta(f);ch(g,d.breakpoints);const{className:v,children:b,columns:w=12,container:x=!1,component:S="div",direction:y="row",wrap:P="wrap",size:k={},offset:B={},spacing:_=0,rowSpacing:I=_,columnSpacing:N=_,unstable_level:O=0,...T}=g,L=o(k,d.breakpoints,Z=>Z!==!1),F=o(B,d.breakpoints),V=c.columns??(O?void 0:w),W=c.spacing??(O?void 0:_),G=c.rowSpacing??c.spacing??(O?void 0:I),X=c.columnSpacing??c.spacing??(O?void 0:N),$={...g,level:O,columns:V,container:x,direction:y,wrap:P,spacing:W,rowSpacing:G,columnSpacing:X,size:L,offset:F},H=r($,d);return p.jsx(l,{ref:u,as:S,ownerState:$,className:A(H.root,v),...T,children:m.Children.map(b,Z=>{var Vt;return m.isValidElement(Z)&&es(Z,["Grid"])&&x&&Z.props.container?m.cloneElement(Z,{unstable_level:((Vt=Z.props)==null?void 0:Vt.unstable_level)??O+1}):Z})})});return a.muiName="Grid",a}const mh=ye(p.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function gh(i){return nt("MuiChip",i)}const U=st("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),vh=i=>{const{classes:t,disabled:e,size:s,color:n,iconColor:r,onDelete:o,clickable:l,variant:a}=i,h={root:["root",a,e&&"disabled",`size${R(s)}`,`color${R(n)}`,l&&"clickable",l&&`clickableColor${R(n)}`,o&&"deletable",o&&`deletableColor${R(n)}`,`${a}${R(n)}`],label:["label",`label${R(s)}`],avatar:["avatar",`avatar${R(s)}`,`avatarColor${R(n)}`],icon:["icon",`icon${R(s)}`,`iconColor${R(r)}`],deleteIcon:["deleteIcon",`deleteIcon${R(s)}`,`deleteIconColor${R(n)}`,`deleteIcon${R(a)}Color${R(n)}`]};return it(h,gh,t)},bh=z("div",{name:"MuiChip",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i,{color:s,iconColor:n,clickable:r,onDelete:o,size:l,variant:a}=e;return[{[`& .${U.avatar}`]:t.avatar},{[`& .${U.avatar}`]:t[`avatar${R(l)}`]},{[`& .${U.avatar}`]:t[`avatarColor${R(s)}`]},{[`& .${U.icon}`]:t.icon},{[`& .${U.icon}`]:t[`icon${R(l)}`]},{[`& .${U.icon}`]:t[`iconColor${R(n)}`]},{[`& .${U.deleteIcon}`]:t.deleteIcon},{[`& .${U.deleteIcon}`]:t[`deleteIcon${R(l)}`]},{[`& .${U.deleteIcon}`]:t[`deleteIconColor${R(s)}`]},{[`& .${U.deleteIcon}`]:t[`deleteIcon${R(a)}Color${R(s)}`]},t.root,t[`size${R(l)}`],t[`color${R(s)}`],r&&t.clickable,r&&s!=="default"&&t[`clickableColor${R(s)})`],o&&t.deletable,o&&s!=="default"&&t[`deletableColor${R(s)}`],t[a],t[`${a}${R(s)}`]]}})(at(({theme:i})=>{const t=i.palette.mode==="light"?i.palette.grey[700]:i.palette.grey[300];return{maxWidth:"100%",fontFamily:i.typography.fontFamily,fontSize:i.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(i.vars||i).palette.text.primary,backgroundColor:(i.vars||i).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:i.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${U.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${U.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:i.vars?i.vars.palette.Chip.defaultAvatarColor:t,fontSize:i.typography.pxToRem(12)},[`& .${U.avatarColorPrimary}`]:{color:(i.vars||i).palette.primary.contrastText,backgroundColor:(i.vars||i).palette.primary.dark},[`& .${U.avatarColorSecondary}`]:{color:(i.vars||i).palette.secondary.contrastText,backgroundColor:(i.vars||i).palette.secondary.dark},[`& .${U.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:i.typography.pxToRem(10)},[`& .${U.icon}`]:{marginLeft:5,marginRight:-6},[`& .${U.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / 0.26)`:pt(i.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / 0.4)`:pt(i.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${U.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${U.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(i.palette).filter(Ft(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(i.vars||i).palette[e].main,color:(i.vars||i).palette[e].contrastText,[`& .${U.deleteIcon}`]:{color:i.vars?`rgba(${i.vars.palette[e].contrastTextChannel} / 0.7)`:pt(i.palette[e].contrastText,.7),"&:hover, &:active":{color:(i.vars||i).palette[e].contrastText}}}})),{props:e=>e.iconColor===e.color,style:{[`& .${U.icon}`]:{color:i.vars?i.vars.palette.Chip.defaultIconColor:t}}},{props:e=>e.iconColor===e.color&&e.color!=="default",style:{[`& .${U.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${U.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.action.selectedChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:pt(i.palette.action.selected,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)}}},...Object.entries(i.palette).filter(Ft(["dark"])).map(([e])=>({props:{color:e,onDelete:!0},style:{[`&.${U.focusVisible}`]:{background:(i.vars||i).palette[e].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.action.selectedChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:pt(i.palette.action.selected,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity)},[`&.${U.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.action.selectedChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:pt(i.palette.action.selected,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)},"&:active":{boxShadow:(i.vars||i).shadows[1]}}},...Object.entries(i.palette).filter(Ft(["dark"])).map(([e])=>({props:{color:e,clickable:!0},style:{[`&:hover, &.${U.focusVisible}`]:{backgroundColor:(i.vars||i).palette[e].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:i.vars?`1px solid ${i.vars.palette.Chip.defaultBorder}`:`1px solid ${i.palette.mode==="light"?i.palette.grey[400]:i.palette.grey[700]}`,[`&.${U.clickable}:hover`]:{backgroundColor:(i.vars||i).palette.action.hover},[`&.${U.focusVisible}`]:{backgroundColor:(i.vars||i).palette.action.focus},[`& .${U.avatar}`]:{marginLeft:4},[`& .${U.avatarSmall}`]:{marginLeft:2},[`& .${U.icon}`]:{marginLeft:4},[`& .${U.iconSmall}`]:{marginLeft:2},[`& .${U.deleteIcon}`]:{marginRight:5},[`& .${U.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(i.palette).filter(Ft()).map(([e])=>({props:{variant:"outlined",color:e},style:{color:(i.vars||i).palette[e].main,border:`1px solid ${i.vars?`rgba(${i.vars.palette[e].mainChannel} / 0.7)`:pt(i.palette[e].main,.7)}`,[`&.${U.clickable}:hover`]:{backgroundColor:i.vars?`rgba(${i.vars.palette[e].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:pt(i.palette[e].main,i.palette.action.hoverOpacity)},[`&.${U.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette[e].mainChannel} / ${i.vars.palette.action.focusOpacity})`:pt(i.palette[e].main,i.palette.action.focusOpacity)},[`& .${U.deleteIcon}`]:{color:i.vars?`rgba(${i.vars.palette[e].mainChannel} / 0.7)`:pt(i.palette[e].main,.7),"&:hover, &:active":{color:(i.vars||i).palette[e].main}}}}))]}})),wh=z("span",{name:"MuiChip",slot:"Label",overridesResolver:(i,t)=>{const{ownerState:e}=i,{size:s}=e;return[t.label,t[`label${R(s)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function ir(i){return i.key==="Backspace"||i.key==="Delete"}const xh=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiChip"}),{avatar:n,className:r,clickable:o,color:l="default",component:a,deleteIcon:h,disabled:c=!1,icon:u,label:d,onClick:f,onDelete:g,onKeyDown:v,onKeyUp:b,size:w="medium",variant:x="filled",tabIndex:S,skipFocusWhenDisabled:y=!1,...P}=s,k=m.useRef(null),B=Se(k,e),_=$=>{$.stopPropagation(),g&&g($)},I=$=>{$.currentTarget===$.target&&ir($)&&$.preventDefault(),v&&v($)},N=$=>{$.currentTarget===$.target&&g&&ir($)&&g($),b&&b($)},O=o!==!1&&f?!0:o,T=O||g?je:a||"div",L={...s,component:T,disabled:c,size:w,color:l,iconColor:m.isValidElement(u)&&u.props.color||l,onDelete:!!g,clickable:O,variant:x},F=vh(L),V=T===je?{component:a||"div",focusVisibleClassName:F.focusVisible,...g&&{disableRipple:!0}}:{};let W=null;g&&(W=h&&m.isValidElement(h)?m.cloneElement(h,{className:A(h.props.className,F.deleteIcon),onClick:_}):p.jsx(mh,{className:A(F.deleteIcon),onClick:_}));let G=null;n&&m.isValidElement(n)&&(G=m.cloneElement(n,{className:A(F.avatar,n.props.className)}));let X=null;return u&&m.isValidElement(u)&&(X=m.cloneElement(u,{className:A(F.icon,u.props.className)})),p.jsxs(bh,{as:T,className:A(F.root,r),disabled:O&&c?!0:void 0,onClick:f,onKeyDown:I,onKeyUp:N,ref:B,tabIndex:y&&c?-1:S,ownerState:L,...V,...P,children:[G||X,p.jsx(wh,{className:A(F.label),ownerState:L,children:d}),W]})});function Vi(i){return parseInt(i,10)||0}const yh={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Sh(i){for(const t in i)return!1;return!0}function sr(i){return Sh(i)||i.outerHeightStyle===0&&!i.overflowing}const Ch=m.forwardRef(function(t,e){const{onChange:s,maxRows:n,minRows:r=1,style:o,value:l,...a}=t,{current:h}=m.useRef(l!=null),c=m.useRef(null),u=Se(e,c),d=m.useRef(null),f=m.useRef(null),g=m.useCallback(()=>{const S=c.current,y=f.current;if(!S||!y)return;const k=Oe(S).getComputedStyle(S);if(k.width==="0px")return{outerHeightStyle:0,overflowing:!1};y.style.width=k.width,y.value=S.value||t.placeholder||"x",y.value.slice(-1)===`
`&&(y.value+=" ");const B=k.boxSizing,_=Vi(k.paddingBottom)+Vi(k.paddingTop),I=Vi(k.borderBottomWidth)+Vi(k.borderTopWidth),N=y.scrollHeight;y.value="x";const O=y.scrollHeight;let T=N;r&&(T=Math.max(Number(r)*O,T)),n&&(T=Math.min(Number(n)*O,T)),T=Math.max(T,O);const L=T+(B==="border-box"?_+I:0),F=Math.abs(T-N)<=1;return{outerHeightStyle:L,overflowing:F}},[n,r,t.placeholder]),v=Pi(()=>{const S=c.current,y=g();if(!S||!y||sr(y))return!1;const P=y.outerHeightStyle;return d.current!=null&&d.current!==P}),b=m.useCallback(()=>{const S=c.current,y=g();if(!S||!y||sr(y))return;const P=y.outerHeightStyle;d.current!==P&&(d.current=P,S.style.height=`${P}px`),S.style.overflow=y.overflowing?"hidden":""},[g]),w=m.useRef(-1);Fe(()=>{const S=Fi(b),y=c==null?void 0:c.current;if(!y)return;const P=Oe(y);P.addEventListener("resize",S);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(()=>{v()&&(k.unobserve(y),cancelAnimationFrame(w.current),b(),w.current=requestAnimationFrame(()=>{k.observe(y)}))}),k.observe(y)),()=>{S.clear(),cancelAnimationFrame(w.current),P.removeEventListener("resize",S),k&&k.disconnect()}},[g,b,v]),Fe(()=>{b()});const x=S=>{h||b(),s&&s(S)};return p.jsxs(m.Fragment,{children:[p.jsx("textarea",{value:l,onChange:x,ref:u,rows:r,style:o,...a}),p.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:f,tabIndex:-1,style:{...yh.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function tn(i){return typeof i=="string"}function Xe({props:i,states:t,muiFormControl:e}){return t.reduce((s,n)=>(s[n]=i[n],e&&typeof i[n]>"u"&&(s[n]=e[n]),s),{})}const wn=m.createContext(void 0);function Ce(){return m.useContext(wn)}function nr(i){return i!=null&&!(Array.isArray(i)&&i.length===0)}function rs(i,t=!1){return i&&(nr(i.value)&&i.value!==""||t&&nr(i.defaultValue)&&i.defaultValue!=="")}function Mh(i){return i.startAdornment}function Ph(i){return nt("MuiInputBase",i)}const si=st("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var rr;const ds=(i,t)=>{const{ownerState:e}=i;return[t.root,e.formControl&&t.formControl,e.startAdornment&&t.adornedStart,e.endAdornment&&t.adornedEnd,e.error&&t.error,e.size==="small"&&t.sizeSmall,e.multiline&&t.multiline,e.color&&t[`color${R(e.color)}`],e.fullWidth&&t.fullWidth,e.hiddenLabel&&t.hiddenLabel]},ps=(i,t)=>{const{ownerState:e}=i;return[t.input,e.size==="small"&&t.inputSizeSmall,e.multiline&&t.inputMultiline,e.type==="search"&&t.inputTypeSearch,e.startAdornment&&t.inputAdornedStart,e.endAdornment&&t.inputAdornedEnd,e.hiddenLabel&&t.inputHiddenLabel]},kh=i=>{const{classes:t,color:e,disabled:s,error:n,endAdornment:r,focused:o,formControl:l,fullWidth:a,hiddenLabel:h,multiline:c,readOnly:u,size:d,startAdornment:f,type:g}=i,v={root:["root",`color${R(e)}`,s&&"disabled",n&&"error",a&&"fullWidth",o&&"focused",l&&"formControl",d&&d!=="medium"&&`size${R(d)}`,c&&"multiline",f&&"adornedStart",r&&"adornedEnd",h&&"hiddenLabel",u&&"readOnly"],input:["input",s&&"disabled",g==="search"&&"inputTypeSearch",c&&"inputMultiline",d==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",f&&"inputAdornedStart",r&&"inputAdornedEnd",u&&"readOnly"]};return it(v,Ph,t)},fs=z("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ds})(at(({theme:i})=>({...i.typography.body1,color:(i.vars||i).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${si.disabled}`]:{color:(i.vars||i).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:e})=>t.multiline&&e==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),ms=z("input",{name:"MuiInputBase",slot:"Input",overridesResolver:ps})(at(({theme:i})=>{const t=i.palette.mode==="light",e={color:"currentColor",...i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:i.transitions.create("opacity",{duration:i.transitions.duration.shorter})},s={opacity:"0 !important"},n=i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":e,"&::-moz-placeholder":e,"&::-ms-input-placeholder":e,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${si.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":n,"&:focus::-moz-placeholder":n,"&:focus::-ms-input-placeholder":n},[`&.${si.disabled}`]:{opacity:1,WebkitTextFillColor:(i.vars||i).palette.text.disabled},variants:[{props:({ownerState:r})=>!r.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:r})=>r.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),or=Na({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),xn=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiInputBase"}),{"aria-describedby":n,autoComplete:r,autoFocus:o,className:l,color:a,components:h={},componentsProps:c={},defaultValue:u,disabled:d,disableInjectingGlobalStyles:f,endAdornment:g,error:v,fullWidth:b=!1,id:w,inputComponent:x="input",inputProps:S={},inputRef:y,margin:P,maxRows:k,minRows:B,multiline:_=!1,name:I,onBlur:N,onChange:O,onClick:T,onFocus:L,onKeyDown:F,onKeyUp:V,placeholder:W,readOnly:G,renderSuffix:X,rows:$,size:H,slotProps:Z={},slots:Vt={},startAdornment:Dt,type:St="text",value:Q,...ct}=s,mt=S.value!=null?S.value:Q,{current:te}=m.useRef(mt!=null),Yt=m.useRef(),K=m.useCallback(rt=>{},[]),ft=Se(Yt,y,S.ref,K),[et,$t]=m.useState(!1),J=Ce(),gt=Xe({props:s,muiFormControl:J,states:["color","disabled","error","hiddenLabel","size","required","filled"]});gt.focused=J?J.focused:et,m.useEffect(()=>{!J&&d&&et&&($t(!1),N&&N())},[J,d,et,N]);const Xt=J&&J.onFilled,Ct=J&&J.onEmpty,Mt=m.useCallback(rt=>{rs(rt)?Xt&&Xt():Ct&&Ct()},[Xt,Ct]);Fe(()=>{te&&Mt({value:mt})},[mt,Mt,te]);const At=rt=>{L&&L(rt),S.onFocus&&S.onFocus(rt),J&&J.onFocus?J.onFocus(rt):$t(!0)},Ht=rt=>{N&&N(rt),S.onBlur&&S.onBlur(rt),J&&J.onBlur?J.onBlur(rt):$t(!1)},bt=(rt,...ce)=>{if(!te){const $e=rt.target||Yt.current;if($e==null)throw new Error(Wo(1));Mt({value:$e.value})}S.onChange&&S.onChange(rt,...ce),O&&O(rt,...ce)};m.useEffect(()=>{Mt(Yt.current)},[]);const Qt=rt=>{Yt.current&&rt.currentTarget===rt.target&&Yt.current.focus(),T&&T(rt)};let ae=x,kt=S;_&&ae==="input"&&($?kt={type:void 0,minRows:$,maxRows:$,...kt}:kt={type:void 0,maxRows:k,minRows:B,...kt},ae=Ch);const fe=rt=>{Mt(rt.animationName==="mui-auto-fill-cancel"?Yt.current:{value:"x"})};m.useEffect(()=>{J&&J.setAdornedStart(!!Dt)},[J,Dt]);const Re={...s,color:gt.color||"primary",disabled:gt.disabled,endAdornment:g,error:gt.error,focused:gt.focused,formControl:J,fullWidth:b,hiddenLabel:gt.hiddenLabel,multiline:_,size:gt.size,startAdornment:Dt,type:St},_e=kh(Re),Zt=Vt.root||h.Root||fs,me=Z.root||c.root||{},he=Vt.input||h.Input||ms;return kt={...kt,...Z.input??c.input},p.jsxs(m.Fragment,{children:[!f&&typeof or=="function"&&(rr||(rr=p.jsx(or,{}))),p.jsxs(Zt,{...me,ref:e,onClick:Qt,...ct,...!tn(Zt)&&{ownerState:{...Re,...me.ownerState}},className:A(_e.root,me.className,l,G&&"MuiInputBase-readOnly"),children:[Dt,p.jsx(wn.Provider,{value:null,children:p.jsx(he,{"aria-invalid":gt.error,"aria-describedby":n,autoComplete:r,autoFocus:o,defaultValue:u,disabled:gt.disabled,id:w,onAnimationStart:fe,name:I,placeholder:W,readOnly:G,required:gt.required,rows:$,value:mt,onKeyDown:F,onKeyUp:V,type:St,...kt,...!tn(he)&&{as:ae,ownerState:{...Re,...kt.ownerState}},ref:ft,className:A(_e.input,kt.className,G&&"MuiInputBase-readOnly"),onBlur:Ht,onChange:bt,onFocus:At})}),g,X?X({...gt,startAdornment:Dt}):null]})]})});function Rh(i){return nt("MuiInput",i)}const mi={...si,...st("MuiInput",["root","underline","input"])};function _h(i){return nt("MuiOutlinedInput",i)}const ie={...si,...st("MuiOutlinedInput",["root","notchedOutline","input"])};function $h(i){return nt("MuiFilledInput",i)}const ze={...si,...st("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},Eh=ye(p.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function Bh(i){return nt("MuiButton",i)}const Le=st("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Ko=m.createContext({}),qo=m.createContext(void 0),zh=i=>{const{color:t,disableElevation:e,fullWidth:s,size:n,variant:r,loading:o,loadingPosition:l,classes:a}=i,h={root:["root",o&&"loading",r,`${r}${R(t)}`,`size${R(n)}`,`${r}Size${R(n)}`,`color${R(t)}`,e&&"disableElevation",s&&"fullWidth",o&&`loadingPosition${R(l)}`],startIcon:["icon","startIcon",`iconSize${R(n)}`],endIcon:["icon","endIcon",`iconSize${R(n)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},c=it(h,Bh,a);return{...a,...c}},Zo=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Lh=z(je,{shouldForwardProp:i=>qt(i)||i==="classes",name:"MuiButton",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[e.variant],t[`${e.variant}${R(e.color)}`],t[`size${R(e.size)}`],t[`${e.variant}Size${R(e.size)}`],e.color==="inherit"&&t.colorInherit,e.disableElevation&&t.disableElevation,e.fullWidth&&t.fullWidth,e.loading&&t.loading]}})(at(({theme:i})=>{const t=i.palette.mode==="light"?i.palette.grey[300]:i.palette.grey[800],e=i.palette.mode==="light"?i.palette.grey.A100:i.palette.grey[700];return{...i.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Le.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(i.vars||i).shadows[2],"&:hover":{boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2]}},"&:active":{boxShadow:(i.vars||i).shadows[8]},[`&.${Le.focusVisible}`]:{boxShadow:(i.vars||i).shadows[6]},[`&.${Le.disabled}`]:{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Le.disabled}`]:{border:`1px solid ${(i.vars||i).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(i.palette).filter(Ft()).map(([s])=>({props:{color:s},style:{"--variant-textColor":(i.vars||i).palette[s].main,"--variant-outlinedColor":(i.vars||i).palette[s].main,"--variant-outlinedBorder":i.vars?`rgba(${i.vars.palette[s].mainChannel} / 0.5)`:pt(i.palette[s].main,.5),"--variant-containedColor":(i.vars||i).palette[s].contrastText,"--variant-containedBg":(i.vars||i).palette[s].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(i.vars||i).palette[s].dark,"--variant-textBg":i.vars?`rgba(${i.vars.palette[s].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:pt(i.palette[s].main,i.palette.action.hoverOpacity),"--variant-outlinedBorder":(i.vars||i).palette[s].main,"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette[s].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:pt(i.palette[s].main,i.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedHoverBg:e,"--variant-textBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:pt(i.palette.text.primary,i.palette.action.hoverOpacity),"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:pt(i.palette.text.primary,i.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:i.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Le.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Le.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:i.transitions.create(["background-color","box-shadow","border-color"],{duration:i.transitions.duration.short}),[`&.${Le.loading}`]:{color:"transparent"}}}]}})),Th=z("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.startIcon,e.loading&&t.startIconLoadingStart,t[`iconSize${R(e.size)}`]]}})(({theme:i})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Zo]})),Ih=z("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.endIcon,e.loading&&t.endIconLoadingEnd,t[`iconSize${R(e.size)}`]]}})(({theme:i})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Zo]})),Dh=z("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(i,t)=>t.loadingIndicator})(({theme:i})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(i.vars||i).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),lr=z("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(i,t)=>t.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Jo=m.forwardRef(function(t,e){const s=m.useContext(Ko),n=m.useContext(qo),r=Fa(s,t),o=ht({props:r,name:"MuiButton"}),{children:l,color:a="primary",component:h="button",className:c,disabled:u=!1,disableElevation:d=!1,disableFocusRipple:f=!1,endIcon:g,focusVisibleClassName:v,fullWidth:b=!1,id:w,loading:x=null,loadingIndicator:S,loadingPosition:y="center",size:P="medium",startIcon:k,type:B,variant:_="text",...I}=o,N=Vo(w),O=S??p.jsx(ja,{"aria-labelledby":N,color:"inherit",size:16}),T={...o,color:a,component:h,disabled:u,disableElevation:d,disableFocusRipple:f,fullWidth:b,loading:x,loadingIndicator:O,loadingPosition:y,size:P,type:B,variant:_},L=zh(T),F=(k||x&&y==="start")&&p.jsx(Th,{className:L.startIcon,ownerState:T,children:k||p.jsx(lr,{className:L.loadingIconPlaceholder,ownerState:T})}),V=(g||x&&y==="end")&&p.jsx(Ih,{className:L.endIcon,ownerState:T,children:g||p.jsx(lr,{className:L.loadingIconPlaceholder,ownerState:T})}),W=n||"",G=typeof x=="boolean"?p.jsx("span",{className:L.loadingWrapper,style:{display:"contents"},children:x&&p.jsx(Dh,{className:L.loadingIndicator,ownerState:T,children:O})}):null;return p.jsxs(Lh,{ownerState:T,className:A(s.className,L.root,c,W),component:h,disabled:u||x,focusRipple:!f,focusVisibleClassName:A(L.focusVisible,v),ref:e,type:B,id:x?N:w,...I,classes:L,children:[F,y!=="end"&&G,l,y==="end"&&G,V]})});function Nh(i){return nt("MuiButtonGroup",i)}const Y=st("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","horizontal","vertical","colorPrimary","colorSecondary","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),Fh=(i,t)=>{const{ownerState:e}=i;return[{[`& .${Y.grouped}`]:t.grouped},{[`& .${Y.grouped}`]:t[`grouped${R(e.orientation)}`]},{[`& .${Y.grouped}`]:t[`grouped${R(e.variant)}`]},{[`& .${Y.grouped}`]:t[`grouped${R(e.variant)}${R(e.orientation)}`]},{[`& .${Y.grouped}`]:t[`grouped${R(e.variant)}${R(e.color)}`]},{[`& .${Y.firstButton}`]:t.firstButton},{[`& .${Y.lastButton}`]:t.lastButton},{[`& .${Y.middleButton}`]:t.middleButton},t.root,t[e.variant],e.disableElevation===!0&&t.disableElevation,e.fullWidth&&t.fullWidth,e.orientation==="vertical"&&t.vertical]},jh=i=>{const{classes:t,color:e,disabled:s,disableElevation:n,fullWidth:r,orientation:o,variant:l}=i,a={root:["root",l,o,r&&"fullWidth",n&&"disableElevation",`color${R(e)}`],grouped:["grouped",`grouped${R(o)}`,`grouped${R(l)}`,`grouped${R(l)}${R(o)}`,`grouped${R(l)}${R(e)}`,s&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return it(a,Nh,t)},Oh=z("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:Fh})(at(({theme:i})=>({display:"inline-flex",borderRadius:(i.vars||i).shape.borderRadius,variants:[{props:{variant:"contained"},style:{boxShadow:(i.vars||i).shadows[2]}},{props:{disableElevation:!0},style:{boxShadow:"none"}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${Y.lastButton},& .${Y.middleButton}`]:{borderTopRightRadius:0,borderTopLeftRadius:0},[`& .${Y.firstButton},& .${Y.middleButton}`]:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}},{props:{orientation:"horizontal"},style:{[`& .${Y.firstButton},& .${Y.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${Y.lastButton},& .${Y.middleButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},{props:{variant:"text",orientation:"horizontal"},style:{[`& .${Y.firstButton},& .${Y.middleButton}`]:{borderRight:i.vars?`1px solid rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Y.disabled}`]:{borderRight:`1px solid ${(i.vars||i).palette.action.disabled}`}}}},{props:{variant:"text",orientation:"vertical"},style:{[`& .${Y.firstButton},& .${Y.middleButton}`]:{borderBottom:i.vars?`1px solid rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Y.disabled}`]:{borderBottom:`1px solid ${(i.vars||i).palette.action.disabled}`}}}},...Object.entries(i.palette).filter(Ft()).flatMap(([t])=>[{props:{variant:"text",color:t},style:{[`& .${Y.firstButton},& .${Y.middleButton}`]:{borderColor:i.vars?`rgba(${i.vars.palette[t].mainChannel} / 0.5)`:pt(i.palette[t].main,.5)}}}]),{props:{variant:"outlined",orientation:"horizontal"},style:{[`& .${Y.firstButton},& .${Y.middleButton}`]:{borderRightColor:"transparent","&:hover":{borderRightColor:"currentColor"}},[`& .${Y.lastButton},& .${Y.middleButton}`]:{marginLeft:-1}}},{props:{variant:"outlined",orientation:"vertical"},style:{[`& .${Y.firstButton},& .${Y.middleButton}`]:{borderBottomColor:"transparent","&:hover":{borderBottomColor:"currentColor"}},[`& .${Y.lastButton},& .${Y.middleButton}`]:{marginTop:-1}}},{props:{variant:"contained",orientation:"horizontal"},style:{[`& .${Y.firstButton},& .${Y.middleButton}`]:{borderRight:`1px solid ${(i.vars||i).palette.grey[400]}`,[`&.${Y.disabled}`]:{borderRight:`1px solid ${(i.vars||i).palette.action.disabled}`}}}},{props:{variant:"contained",orientation:"vertical"},style:{[`& .${Y.firstButton},& .${Y.middleButton}`]:{borderBottom:`1px solid ${(i.vars||i).palette.grey[400]}`,[`&.${Y.disabled}`]:{borderBottom:`1px solid ${(i.vars||i).palette.action.disabled}`}}}},...Object.entries(i.palette).filter(Ft(["dark"])).map(([t])=>({props:{variant:"contained",color:t},style:{[`& .${Y.firstButton},& .${Y.middleButton}`]:{borderColor:(i.vars||i).palette[t].dark}}}))],[`& .${Y.grouped}`]:{minWidth:40,boxShadow:"none",props:{variant:"contained"},style:{"&:hover":{boxShadow:"none"}}}}))),Wh=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiButtonGroup"}),{children:n,className:r,color:o="primary",component:l="div",disabled:a=!1,disableElevation:h=!1,disableFocusRipple:c=!1,disableRipple:u=!1,fullWidth:d=!1,orientation:f="horizontal",size:g="medium",variant:v="outlined",...b}=s,w={...s,color:o,component:l,disabled:a,disableElevation:h,disableFocusRipple:c,disableRipple:u,fullWidth:d,orientation:f,size:g,variant:v},x=jh(w),S=m.useMemo(()=>({className:x.grouped,color:o,disabled:a,disableElevation:h,disableFocusRipple:c,disableRipple:u,fullWidth:d,size:g,variant:v}),[o,a,h,c,u,d,g,v,x.grouped]),y=Za(n),P=y.length,k=B=>{const _=B===0,I=B===P-1;return _&&I?"":_?x.firstButton:I?x.lastButton:x.middleButton};return p.jsx(Oh,{as:l,role:"group",className:A(x.root,r),ref:e,ownerState:w,...b,children:p.jsx(Ko.Provider,{value:S,children:y.map((B,_)=>p.jsx(qo.Provider,{value:k(_),children:B},_))})})});function Vh(i){return nt("MuiCard",i)}st("MuiCard",["root"]);const Yh=i=>{const{classes:t}=i;return it({root:["root"]},Vh,t)},Ah=z(Yo,{name:"MuiCard",slot:"Root",overridesResolver:(i,t)=>t.root})({overflow:"hidden"}),Hh=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiCard"}),{className:n,raised:r=!1,...o}=s,l={...s,raised:r},a=Yh(l);return p.jsx(Ah,{className:A(a.root,n),elevation:r?8:void 0,ref:e,ownerState:l,...o})});function Uh(i){return nt("MuiCardContent",i)}st("MuiCardContent",["root"]);const Gh=i=>{const{classes:t}=i;return it({root:["root"]},Uh,t)},Xh=z("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(i,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),Qh=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiCardContent"}),{className:n,component:r="div",...o}=s,l={...s,component:r},a=Gh(l);return p.jsx(Xh,{as:r,className:A(a.root,n),ownerState:l,ref:e,...o})});function Kh(i){return nt("MuiCardHeader",i)}const os=st("MuiCardHeader",["root","avatar","action","content","title","subheader"]),qh=i=>{const{classes:t}=i;return it({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},Kh,t)},Zh=z("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(i,t)=>[{[`& .${os.title}`]:t.title},{[`& .${os.subheader}`]:t.subheader},t.root]})({display:"flex",alignItems:"center",padding:16}),Jh=z("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(i,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),tc=z("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(i,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),ec=z("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(i,t)=>t.content})({flex:"1 1 auto",[`.${Jn.root}:where(& .${os.title})`]:{display:"block"},[`.${Jn.root}:where(& .${os.subheader})`]:{display:"block"}}),ic=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiCardHeader"}),{action:n,avatar:r,component:o="div",disableTypography:l=!1,subheader:a,subheaderTypographyProps:h,title:c,titleTypographyProps:u,slots:d={},slotProps:f={},...g}=s,v={...s,component:o,disableTypography:l},b=qh(v),w={slots:d,slotProps:{title:u,subheader:h,...f}};let x=c;const[S,y]=dt("title",{className:b.title,elementType:ut,externalForwardedProps:w,ownerState:v,additionalProps:{variant:r?"body2":"h5",component:"span"}});x!=null&&x.type!==ut&&!l&&(x=p.jsx(S,{...y,children:x}));let P=a;const[k,B]=dt("subheader",{className:b.subheader,elementType:ut,externalForwardedProps:w,ownerState:v,additionalProps:{variant:r?"body2":"body1",color:"textSecondary",component:"span"}});P!=null&&P.type!==ut&&!l&&(P=p.jsx(k,{...B,children:P}));const[_,I]=dt("root",{ref:e,className:b.root,elementType:Zh,externalForwardedProps:{...w,...g,component:o},ownerState:v}),[N,O]=dt("avatar",{className:b.avatar,elementType:Jh,externalForwardedProps:w,ownerState:v}),[T,L]=dt("content",{className:b.content,elementType:ec,externalForwardedProps:w,ownerState:v}),[F,V]=dt("action",{className:b.action,elementType:tc,externalForwardedProps:w,ownerState:v});return p.jsxs(_,{...I,children:[r&&p.jsx(N,{...O,children:r}),p.jsxs(T,{...L,children:[x,P]}),n&&p.jsx(F,{...V,children:n})]})});function sc(i){return nt("PrivateSwitchBase",i)}st("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const nc=i=>{const{classes:t,checked:e,disabled:s,edge:n}=i,r={root:["root",e&&"checked",s&&"disabled",n&&`edge${R(n)}`],input:["input"]};return it(r,sc,t)},rc=z(je,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:i,ownerState:t})=>i==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:i,ownerState:t})=>i==="end"&&t.size!=="small",style:{marginRight:-12}}]}),oc=z("input",{name:"MuiSwitchBase",shouldForwardProp:qt})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),tl=m.forwardRef(function(t,e){const{autoFocus:s,checked:n,checkedIcon:r,defaultChecked:o,disabled:l,disableFocusRipple:a=!1,edge:h=!1,icon:c,id:u,inputProps:d,inputRef:f,name:g,onBlur:v,onChange:b,onFocus:w,readOnly:x,required:S=!1,tabIndex:y,type:P,value:k,slots:B={},slotProps:_={},...I}=t,[N,O]=Js({controlled:n,default:!!o,name:"SwitchBase",state:"checked"}),T=Ce(),L=Q=>{w&&w(Q),T&&T.onFocus&&T.onFocus(Q)},F=Q=>{v&&v(Q),T&&T.onBlur&&T.onBlur(Q)},V=Q=>{if(Q.nativeEvent.defaultPrevented)return;const ct=Q.target.checked;O(ct),b&&b(Q,ct)};let W=l;T&&typeof W>"u"&&(W=T.disabled);const G=P==="checkbox"||P==="radio",X={...t,checked:N,disabled:W,disableFocusRipple:a,edge:h},$=nc(X),H={slots:B,slotProps:{input:d,..._}},[Z,Vt]=dt("root",{ref:e,elementType:rc,className:$.root,shouldForwardComponentProp:!0,externalForwardedProps:{...H,component:"span",...I},getSlotProps:Q=>({...Q,onFocus:ct=>{var mt;(mt=Q.onFocus)==null||mt.call(Q,ct),L(ct)},onBlur:ct=>{var mt;(mt=Q.onBlur)==null||mt.call(Q,ct),F(ct)}}),ownerState:X,additionalProps:{centerRipple:!0,focusRipple:!a,disabled:W,role:void 0,tabIndex:null}}),[Dt,St]=dt("input",{ref:f,elementType:oc,className:$.input,externalForwardedProps:H,getSlotProps:Q=>({onChange:ct=>{var mt;(mt=Q.onChange)==null||mt.call(Q,ct),V(ct)}}),ownerState:X,additionalProps:{autoFocus:s,checked:n,defaultChecked:o,disabled:W,id:G?u:void 0,name:g,readOnly:x,required:S,tabIndex:y,type:P,...P==="checkbox"&&k===void 0?{}:{value:k}}});return p.jsxs(Z,{...Vt,children:[p.jsx(Dt,{...St}),N?r:c]})}),lc=ye(p.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),ac=ye(p.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),hc=ye(p.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function cc(i){return nt("MuiCheckbox",i)}const _s=st("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),uc=i=>{const{classes:t,indeterminate:e,color:s,size:n}=i,r={root:["root",e&&"indeterminate",`color${R(s)}`,`size${R(n)}`]},o=it(r,cc,t);return{...t,...o}},dc=z(tl,{shouldForwardProp:i=>qt(i)||i==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.indeterminate&&t.indeterminate,t[`size${R(e.size)}`],e.color!=="default"&&t[`color${R(e.color)}`]]}})(at(({theme:i})=>({color:(i.vars||i).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:pt(i.palette.action.active,i.palette.action.hoverOpacity)}}},...Object.entries(i.palette).filter(Ft()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette[t].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:pt(i.palette[t].main,i.palette.action.hoverOpacity)}}})),...Object.entries(i.palette).filter(Ft()).map(([t])=>({props:{color:t},style:{[`&.${_s.checked}, &.${_s.indeterminate}`]:{color:(i.vars||i).palette[t].main},[`&.${_s.disabled}`]:{color:(i.vars||i).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),pc=p.jsx(ac,{}),fc=p.jsx(lc,{}),mc=p.jsx(hc,{}),ki=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiCheckbox"}),{checkedIcon:n=pc,color:r="primary",icon:o=fc,indeterminate:l=!1,indeterminateIcon:a=mc,inputProps:h,size:c="medium",disableRipple:u=!1,className:d,slots:f={},slotProps:g={},...v}=s,b=l?a:o,w=l?a:n,x={...s,disableRipple:u,color:r,indeterminate:l,size:c},S=uc(x),y=g.input??h,[P,k]=dt("root",{ref:e,elementType:dc,className:A(S.root,d),shouldForwardComponentProp:!0,externalForwardedProps:{slots:f,slotProps:g,...v},ownerState:x,additionalProps:{type:"checkbox",icon:m.cloneElement(b,{fontSize:b.props.fontSize??c}),checkedIcon:m.cloneElement(w,{fontSize:w.props.fontSize??c}),disableRipple:u,slots:f,slotProps:{input:Ao(typeof y=="function"?y(x):y,{"data-indeterminate":l})}}});return p.jsx(P,{...k,classes:S})});function ar(i){return i.substring(2).toLowerCase()}function gc(i,t){return t.documentElement.clientWidth<i.clientX||t.documentElement.clientHeight<i.clientY}function vc(i){const{children:t,disableReactTree:e=!1,mouseEvent:s="onClick",onClickAway:n,touchEvent:r="onTouchEnd"}=i,o=m.useRef(!1),l=m.useRef(null),a=m.useRef(!1),h=m.useRef(!1);m.useEffect(()=>(setTimeout(()=>{a.current=!0},0),()=>{a.current=!1}),[]);const c=Se(Ho(t),l),u=Pi(g=>{const v=h.current;h.current=!1;const b=xe(l.current);if(!a.current||!l.current||"clientX"in g&&gc(g,b))return;if(o.current){o.current=!1;return}let w;g.composedPath?w=g.composedPath().includes(l.current):w=!b.documentElement.contains(g.target)||l.current.contains(g.target),!w&&(e||!v)&&n(g)}),d=g=>v=>{h.current=!0;const b=t.props[g];b&&b(v)},f={ref:c};return r!==!1&&(f[r]=d(r)),m.useEffect(()=>{if(r!==!1){const g=ar(r),v=xe(l.current),b=()=>{o.current=!0};return v.addEventListener(g,u),v.addEventListener("touchmove",b),()=>{v.removeEventListener(g,u),v.removeEventListener("touchmove",b)}}},[u,r]),s!==!1&&(f[s]=d(s)),m.useEffect(()=>{if(s!==!1){const g=ar(s),v=xe(l.current);return v.addEventListener(g,u),()=>{v.removeEventListener(g,u)}}},[u,s]),m.cloneElement(t,f)}const bc=i=>{const{classes:t,disableUnderline:e,startAdornment:s,endAdornment:n,size:r,hiddenLabel:o,multiline:l}=i,a={root:["root",!e&&"underline",s&&"adornedStart",n&&"adornedEnd",r==="small"&&`size${R(r)}`,o&&"hiddenLabel",l&&"multiline"],input:["input"]},h=it(a,$h,t);return{...t,...h}},wc=z(fs,{shouldForwardProp:i=>qt(i)||i==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[...ds(i,t),!e.disableUnderline&&t.underline]}})(at(({theme:i})=>{const t=i.palette.mode==="light",e=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",n=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",r=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:n,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s}},[`&.${ze.focused}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s},[`&.${ze.disabled}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:r},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ze.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ze.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`:e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ze.disabled}, .${ze.error}):before`]:{borderBottom:`1px solid ${(i.vars||i).palette.text.primary}`},[`&.${ze.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(Ft()).map(([o])=>{var l;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(l=(i.vars||i).palette[o])==null?void 0:l.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:l})=>o.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),xc=z(ms,{name:"MuiFilledInput",slot:"Input",overridesResolver:ps})(at(({theme:i})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),el=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiFilledInput"}),{disableUnderline:n=!1,components:r={},componentsProps:o,fullWidth:l=!1,hiddenLabel:a,inputComponent:h="input",multiline:c=!1,slotProps:u,slots:d={},type:f="text",...g}=s,v={...s,disableUnderline:n,fullWidth:l,inputComponent:h,multiline:c,type:f},b=bc(s),w={root:{ownerState:v},input:{ownerState:v}},x=u??o?gn(w,u??o):w,S=d.root??r.Root??wc,y=d.input??r.Input??xc;return p.jsx(xn,{slots:{root:S,input:y},slotProps:x,fullWidth:l,inputComponent:h,multiline:c,ref:e,type:f,...g,classes:b})});el.muiName="Input";function yc(i){return nt("MuiFormControl",i)}st("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Sc=i=>{const{classes:t,margin:e,fullWidth:s}=i,n={root:["root",e!=="none"&&`margin${R(e)}`,s&&"fullWidth"]};return it(n,yc,t)},Cc=z("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[`margin${R(e.margin)}`],e.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),il=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiFormControl"}),{children:n,className:r,color:o="primary",component:l="div",disabled:a=!1,error:h=!1,focused:c,fullWidth:u=!1,hiddenLabel:d=!1,margin:f="none",required:g=!1,size:v="medium",variant:b="outlined",...w}=s,x={...s,color:o,component:l,disabled:a,error:h,fullWidth:u,hiddenLabel:d,margin:f,required:g,size:v,variant:b},S=Sc(x),[y,P]=m.useState(()=>{let V=!1;return n&&m.Children.forEach(n,W=>{if(!es(W,["Input","Select"]))return;const G=es(W,["Select"])?W.props.input:W;G&&Mh(G.props)&&(V=!0)}),V}),[k,B]=m.useState(()=>{let V=!1;return n&&m.Children.forEach(n,W=>{es(W,["Input","Select"])&&(rs(W.props,!0)||rs(W.props.inputProps,!0))&&(V=!0)}),V}),[_,I]=m.useState(!1);a&&_&&I(!1);const N=c!==void 0&&!a?c:_;let O;m.useRef(!1);const T=m.useCallback(()=>{B(!0)},[]),L=m.useCallback(()=>{B(!1)},[]),F=m.useMemo(()=>({adornedStart:y,setAdornedStart:P,color:o,disabled:a,error:h,filled:k,focused:N,fullWidth:u,hiddenLabel:d,size:v,onBlur:()=>{I(!1)},onFocus:()=>{I(!0)},onEmpty:L,onFilled:T,registerEffect:O,required:g,variant:b}),[y,o,a,h,k,N,u,d,O,L,T,g,v,b]);return p.jsx(wn.Provider,{value:F,children:p.jsx(Cc,{as:l,ownerState:x,className:A(S.root,r),ref:e,...w,children:n})})});function Mc(i){return nt("MuiFormControlLabel",i)}const Si=st("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Pc=i=>{const{classes:t,disabled:e,labelPlacement:s,error:n,required:r}=i,o={root:["root",e&&"disabled",`labelPlacement${R(s)}`,n&&"error",r&&"required"],label:["label",e&&"disabled"],asterisk:["asterisk",n&&"error"]};return it(o,Mc,t)},kc=z("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[{[`& .${Si.label}`]:t.label},t.root,t[`labelPlacement${R(e.labelPlacement)}`]]}})(at(({theme:i})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Si.disabled}`]:{cursor:"default"},[`& .${Si.label}`]:{[`&.${Si.disabled}`]:{color:(i.vars||i).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),Rc=z("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(i,t)=>t.asterisk})(at(({theme:i})=>({[`&.${Si.error}`]:{color:(i.vars||i).palette.error.main}}))),Ie=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiFormControlLabel"}),{checked:n,className:r,componentsProps:o={},control:l,disabled:a,disableTypography:h,inputRef:c,label:u,labelPlacement:d="end",name:f,onChange:g,required:v,slots:b={},slotProps:w={},value:x,...S}=s,y=Ce(),P=a??l.props.disabled??(y==null?void 0:y.disabled),k=v??l.props.required,B={disabled:P,required:k};["checked","name","onChange","value","inputRef"].forEach(V=>{typeof l.props[V]>"u"&&typeof s[V]<"u"&&(B[V]=s[V])});const _=Xe({props:s,muiFormControl:y,states:["error"]}),I={...s,disabled:P,labelPlacement:d,required:k,error:_.error},N=Pc(I),O={slots:b,slotProps:{...o,...w}},[T,L]=dt("typography",{elementType:ut,externalForwardedProps:O,ownerState:I});let F=u;return F!=null&&F.type!==ut&&!h&&(F=p.jsx(T,{component:"span",...L,className:A(N.label,L==null?void 0:L.className),children:F})),p.jsxs(kc,{className:A(N.root,r),ownerState:I,ref:e,...S,children:[m.cloneElement(l,B),k?p.jsxs("div",{children:[F,p.jsxs(Rc,{ownerState:I,"aria-hidden":!0,className:N.asterisk,children:[" ","*"]})]}):F]})});function _c(i){return nt("MuiFormGroup",i)}st("MuiFormGroup",["root","row","error"]);const $c=i=>{const{classes:t,row:e,error:s}=i;return it({root:["root",e&&"row",s&&"error"]},_c,t)},Ec=z("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.row&&t.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),gs=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiFormGroup"}),{className:n,row:r=!1,...o}=s,l=Ce(),a=Xe({props:s,muiFormControl:l,states:["error"]}),h={...s,row:r,error:a.error},c=$c(h);return p.jsx(Ec,{className:A(c.root,n),ownerState:h,ref:e,...o})});function Bc(i){return nt("MuiFormHelperText",i)}const hr=st("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var cr;const zc=i=>{const{classes:t,contained:e,size:s,disabled:n,error:r,filled:o,focused:l,required:a}=i,h={root:["root",n&&"disabled",r&&"error",s&&`size${R(s)}`,e&&"contained",l&&"focused",o&&"filled",a&&"required"]};return it(h,Bc,t)},Lc=z("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.size&&t[`size${R(e.size)}`],e.contained&&t.contained,e.filled&&t.filled]}})(at(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${hr.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${hr.error}`]:{color:(i.vars||i).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),Tc=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiFormHelperText"}),{children:n,className:r,component:o="p",disabled:l,error:a,filled:h,focused:c,margin:u,required:d,variant:f,...g}=s,v=Ce(),b=Xe({props:s,muiFormControl:v,states:["variant","size","disabled","error","filled","focused","required"]}),w={...s,component:o,contained:b.variant==="filled"||b.variant==="outlined",variant:b.variant,size:b.size,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required};delete w.ownerState;const x=zc(w);return p.jsx(Lc,{as:o,className:A(x.root,r),ref:e,...g,ownerState:w,children:n===" "?cr||(cr=p.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):n})});function Ic(i){return nt("MuiFormLabel",i)}const is=st("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Dc=i=>{const{classes:t,color:e,focused:s,disabled:n,error:r,filled:o,required:l}=i,a={root:["root",`color${R(e)}`,n&&"disabled",r&&"error",o&&"filled",s&&"focused",l&&"required"],asterisk:["asterisk",r&&"error"]};return it(a,Ic,t)},Nc=z("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled]}})(at(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(i.palette).filter(Ft()).map(([t])=>({props:{color:t},style:{[`&.${is.focused}`]:{color:(i.vars||i).palette[t].main}}})),{props:{},style:{[`&.${is.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${is.error}`]:{color:(i.vars||i).palette.error.main}}}]}))),Fc=z("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(i,t)=>t.asterisk})(at(({theme:i})=>({[`&.${is.error}`]:{color:(i.vars||i).palette.error.main}}))),jc=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiFormLabel"}),{children:n,className:r,color:o,component:l="label",disabled:a,error:h,filled:c,focused:u,required:d,...f}=s,g=Ce(),v=Xe({props:s,muiFormControl:g,states:["color","required","focused","disabled","error","filled"]}),b={...s,color:v.color||"primary",component:l,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required},w=Dc(b);return p.jsxs(Nc,{as:l,ownerState:b,className:A(w.root,r),ref:e,...f,children:[n,v.required&&p.jsxs(Fc,{ownerState:b,"aria-hidden":!0,className:w.asterisk,children:[" ","*"]})]})}),ur=fh({createStyledComponent:z("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.container&&t.container]}}),componentName:"MuiGrid2",useThemeProps:i=>ht({props:i,name:"MuiGrid2"}),useTheme:ai}),Oc=Qo({themeId:Oa}),Wc=i=>{const{classes:t,disableUnderline:e}=i,n=it({root:["root",!e&&"underline"],input:["input"]},Rh,t);return{...t,...n}},Vc=z(fs,{shouldForwardProp:i=>qt(i)||i==="classes",name:"MuiInput",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[...ds(i,t),!e.disableUnderline&&t.underline]}})(at(({theme:i})=>{let e=i.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return i.vars&&(e=`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:s})=>s.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${mi.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${mi.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${mi.disabled}, .${mi.error}):before`]:{borderBottom:`2px solid ${(i.vars||i).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${e}`}},[`&.${mi.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(Ft()).map(([s])=>({props:{color:s,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(i.vars||i).palette[s].main}`}}}))]}})),Yc=z(ms,{name:"MuiInput",slot:"Input",overridesResolver:ps})({}),sl=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiInput"}),{disableUnderline:n=!1,components:r={},componentsProps:o,fullWidth:l=!1,inputComponent:a="input",multiline:h=!1,slotProps:c,slots:u={},type:d="text",...f}=s,g=Wc(s),b={root:{ownerState:{disableUnderline:n}}},w=c??o?gn(c??o,b):b,x=u.root??r.Root??Vc,S=u.input??r.Input??Yc;return p.jsx(xn,{slots:{root:x,input:S},slotProps:w,fullWidth:l,inputComponent:a,multiline:h,ref:e,type:d,...f,classes:g})});sl.muiName="Input";const en=m.createContext({});function Ac(i){return nt("MuiList",i)}st("MuiList",["root","padding","dense","subheader"]);const Hc=i=>{const{classes:t,disablePadding:e,dense:s,subheader:n}=i;return it({root:["root",!e&&"padding",s&&"dense",n&&"subheader"]},Ac,t)},Uc=z("ul",{name:"MuiList",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,!e.disablePadding&&t.padding,e.dense&&t.dense,e.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:i})=>!i.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:i})=>i.subheader,style:{paddingTop:0}}]}),Gc=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiList"}),{children:n,className:r,component:o="ul",dense:l=!1,disablePadding:a=!1,subheader:h,...c}=s,u=m.useMemo(()=>({dense:l}),[l]),d={...s,component:o,dense:l,disablePadding:a},f=Hc(d);return p.jsx(en.Provider,{value:u,children:p.jsxs(Uc,{as:o,className:A(f.root,r),ref:e,ownerState:d,...c,children:[h,n]})})}),dr=st("MuiListItemIcon",["root","alignItemsFlexStart"]),pr=st("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function $s(i,t,e){return i===t?i.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e?null:i.firstChild}function fr(i,t,e){return i===t?e?i.firstChild:i.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e?null:i.lastChild}function nl(i,t){if(t===void 0)return!0;let e=i.innerText;return e===void 0&&(e=i.textContent),e=e.trim().toLowerCase(),e.length===0?!1:t.repeating?e[0]===t.keys[0]:e.startsWith(t.keys.join(""))}function gi(i,t,e,s,n,r){let o=!1,l=n(i,t,t?e:!1);for(;l;){if(l===i.firstChild){if(o)return!1;o=!0}const a=s?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!nl(l,r)||a)l=n(i,l,e);else return l.focus(),!0}return!1}const Xc=m.forwardRef(function(t,e){const{actions:s,autoFocus:n=!1,autoFocusItem:r=!1,children:o,className:l,disabledItemsFocusable:a=!1,disableListWrap:h=!1,onKeyDown:c,variant:u="selectedMenu",...d}=t,f=m.useRef(null),g=m.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Fe(()=>{n&&f.current.focus()},[n]),m.useImperativeHandle(s,()=>({adjustStyleForScrollbar:(S,{direction:y})=>{const P=!f.current.style.width;if(S.clientHeight<f.current.clientHeight&&P){const k=`${Wa(Oe(S))}px`;f.current.style[y==="rtl"?"paddingLeft":"paddingRight"]=k,f.current.style.width=`calc(100% + ${k})`}return f.current}}),[]);const v=S=>{const y=f.current,P=S.key;if(S.ctrlKey||S.metaKey||S.altKey){c&&c(S);return}const B=xe(y).activeElement;if(P==="ArrowDown")S.preventDefault(),gi(y,B,h,a,$s);else if(P==="ArrowUp")S.preventDefault(),gi(y,B,h,a,fr);else if(P==="Home")S.preventDefault(),gi(y,null,h,a,$s);else if(P==="End")S.preventDefault(),gi(y,null,h,a,fr);else if(P.length===1){const _=g.current,I=P.toLowerCase(),N=performance.now();_.keys.length>0&&(N-_.lastTime>500?(_.keys=[],_.repeating=!0,_.previousKeyMatched=!0):_.repeating&&I!==_.keys[0]&&(_.repeating=!1)),_.lastTime=N,_.keys.push(I);const O=B&&!_.repeating&&nl(B,_);_.previousKeyMatched&&(O||gi(y,B,!1,a,$s,_))?S.preventDefault():_.previousKeyMatched=!1}c&&c(S)},b=Se(f,e);let w=-1;m.Children.forEach(o,(S,y)=>{if(!m.isValidElement(S)){w===y&&(w+=1,w>=o.length&&(w=-1));return}S.props.disabled||(u==="selectedMenu"&&S.props.selected||w===-1)&&(w=y),w===y&&(S.props.disabled||S.props.muiSkipListHighlight||S.type.muiSkipListHighlight)&&(w+=1,w>=o.length&&(w=-1))});const x=m.Children.map(o,(S,y)=>{if(y===w){const P={};return r&&(P.autoFocus=!0),S.props.tabIndex===void 0&&u==="selectedMenu"&&(P.tabIndex=0),m.cloneElement(S,P)}return S});return p.jsx(Gc,{role:"menu",ref:b,className:l,onKeyDown:v,tabIndex:n?0:-1,...d,children:x})});function Qc(i){return nt("MuiPopover",i)}st("MuiPopover",["root","paper"]);function mr(i,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=i.height/2:t==="bottom"&&(e=i.height),e}function gr(i,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=i.width/2:t==="right"&&(e=i.width),e}function vr(i){return[i.horizontal,i.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Yi(i){return typeof i=="function"?i():i}const Kc=i=>{const{classes:t}=i;return it({root:["root"],paper:["paper"]},Qc,t)},qc=z(Va,{name:"MuiPopover",slot:"Root",overridesResolver:(i,t)=>t.root})({}),rl=z(Yo,{name:"MuiPopover",slot:"Paper",overridesResolver:(i,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Zc=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiPopover"}),{action:n,anchorEl:r,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:a="anchorEl",children:h,className:c,container:u,elevation:d=8,marginThreshold:f=16,open:g,PaperProps:v={},slots:b={},slotProps:w={},transformOrigin:x={vertical:"top",horizontal:"left"},TransitionComponent:S,transitionDuration:y="auto",TransitionProps:P={},disableScrollLock:k=!1,...B}=s,_=m.useRef(),I={...s,anchorOrigin:o,anchorReference:a,elevation:d,marginThreshold:f,transformOrigin:x,TransitionComponent:S,transitionDuration:y,TransitionProps:P},N=Kc(I),O=m.useCallback(()=>{if(a==="anchorPosition")return l;const K=Yi(r),et=(K&&K.nodeType===1?K:xe(_.current).body).getBoundingClientRect();return{top:et.top+mr(et,o.vertical),left:et.left+gr(et,o.horizontal)}},[r,o.horizontal,o.vertical,l,a]),T=m.useCallback(K=>({vertical:mr(K,x.vertical),horizontal:gr(K,x.horizontal)}),[x.horizontal,x.vertical]),L=m.useCallback(K=>{const ft={width:K.offsetWidth,height:K.offsetHeight},et=T(ft);if(a==="none")return{top:null,left:null,transformOrigin:vr(et)};const $t=O();let J=$t.top-et.vertical,gt=$t.left-et.horizontal;const Xt=J+ft.height,Ct=gt+ft.width,Mt=Oe(Yi(r)),At=Mt.innerHeight-f,Ht=Mt.innerWidth-f;if(f!==null&&J<f){const bt=J-f;J-=bt,et.vertical+=bt}else if(f!==null&&Xt>At){const bt=Xt-At;J-=bt,et.vertical+=bt}if(f!==null&&gt<f){const bt=gt-f;gt-=bt,et.horizontal+=bt}else if(Ct>Ht){const bt=Ct-Ht;gt-=bt,et.horizontal+=bt}return{top:`${Math.round(J)}px`,left:`${Math.round(gt)}px`,transformOrigin:vr(et)}},[r,a,O,T,f]),[F,V]=m.useState(g),W=m.useCallback(()=>{const K=_.current;if(!K)return;const ft=L(K);ft.top!==null&&K.style.setProperty("top",ft.top),ft.left!==null&&(K.style.left=ft.left),K.style.transformOrigin=ft.transformOrigin,V(!0)},[L]);m.useEffect(()=>(k&&window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)),[r,k,W]);const G=()=>{W()},X=()=>{V(!1)};m.useEffect(()=>{g&&W()}),m.useImperativeHandle(n,()=>g?{updatePosition:()=>{W()}}:null,[g,W]),m.useEffect(()=>{if(!g)return;const K=Fi(()=>{W()}),ft=Oe(Yi(r));return ft.addEventListener("resize",K),()=>{K.clear(),ft.removeEventListener("resize",K)}},[r,g,W]);let $=y;const H={slots:{transition:S,...b},slotProps:{transition:P,paper:v,...w}},[Z,Vt]=dt("transition",{elementType:vn,externalForwardedProps:H,ownerState:I,getSlotProps:K=>({...K,onEntering:(ft,et)=>{var $t;($t=K.onEntering)==null||$t.call(K,ft,et),G()},onExited:ft=>{var et;(et=K.onExited)==null||et.call(K,ft),X()}}),additionalProps:{appear:!0,in:g}});y==="auto"&&!Z.muiSupportAuto&&($=void 0);const Dt=u||(r?xe(Yi(r)).body:void 0),[St,{slots:Q,slotProps:ct,...mt}]=dt("root",{ref:e,elementType:qc,externalForwardedProps:{...H,...B},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:b.backdrop},slotProps:{backdrop:Ao(typeof w.backdrop=="function"?w.backdrop(I):w.backdrop,{invisible:!0})},container:Dt,open:g},ownerState:I,className:A(N.root,c)}),[te,Yt]=dt("paper",{ref:_,className:N.paper,elementType:rl,externalForwardedProps:H,shouldForwardComponentProp:!0,additionalProps:{elevation:d,style:F?void 0:{opacity:0}},ownerState:I});return p.jsx(St,{...mt,...!tn(St)&&{slots:Q,slotProps:ct,disableScrollLock:k},children:p.jsx(Z,{...Vt,timeout:$,children:p.jsx(te,{...Yt,children:h})})})});function Jc(i){return nt("MuiMenu",i)}st("MuiMenu",["root","paper","list"]);const tu={vertical:"top",horizontal:"right"},eu={vertical:"top",horizontal:"left"},iu=i=>{const{classes:t}=i;return it({root:["root"],paper:["paper"],list:["list"]},Jc,t)},su=z(Zc,{shouldForwardProp:i=>qt(i)||i==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(i,t)=>t.root})({}),nu=z(rl,{name:"MuiMenu",slot:"Paper",overridesResolver:(i,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ru=z(Xc,{name:"MuiMenu",slot:"List",overridesResolver:(i,t)=>t.list})({outline:0}),ou=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiMenu"}),{autoFocus:n=!0,children:r,className:o,disableAutoFocusItem:l=!1,MenuListProps:a={},onClose:h,open:c,PaperProps:u={},PopoverClasses:d,transitionDuration:f="auto",TransitionProps:{onEntering:g,...v}={},variant:b="selectedMenu",slots:w={},slotProps:x={},...S}=s,y=bn(),P={...s,autoFocus:n,disableAutoFocusItem:l,MenuListProps:a,onEntering:g,PaperProps:u,transitionDuration:f,TransitionProps:v,variant:b},k=iu(P),B=n&&!l&&c,_=m.useRef(null),I=($,H)=>{_.current&&_.current.adjustStyleForScrollbar($,{direction:y?"rtl":"ltr"}),g&&g($,H)},N=$=>{$.key==="Tab"&&($.preventDefault(),h&&h($,"tabKeyDown"))};let O=-1;m.Children.map(r,($,H)=>{m.isValidElement($)&&($.props.disabled||(b==="selectedMenu"&&$.props.selected||O===-1)&&(O=H))});const T={slots:w,slotProps:{list:a,transition:v,paper:u,...x}},L=Li({elementType:w.root,externalSlotProps:x.root,ownerState:P,className:[k.root,o]}),[F,V]=dt("paper",{className:k.paper,elementType:nu,externalForwardedProps:T,shouldForwardComponentProp:!0,ownerState:P}),[W,G]=dt("list",{className:A(k.list,a.className),elementType:ru,shouldForwardComponentProp:!0,externalForwardedProps:T,getSlotProps:$=>({...$,onKeyDown:H=>{var Z;N(H),(Z=$.onKeyDown)==null||Z.call($,H)}}),ownerState:P}),X=typeof T.slotProps.transition=="function"?T.slotProps.transition(P):T.slotProps.transition;return p.jsx(su,{onClose:h,anchorOrigin:{vertical:"bottom",horizontal:y?"right":"left"},transformOrigin:y?tu:eu,slots:{root:w.root,paper:F,backdrop:w.backdrop,...w.transition&&{transition:w.transition}},slotProps:{root:L,paper:V,backdrop:typeof x.backdrop=="function"?x.backdrop(P):x.backdrop,transition:{...X,onEntering:(...$)=>{var H;I(...$),(H=X==null?void 0:X.onEntering)==null||H.call(X,...$)}}},open:c,ref:e,transitionDuration:f,ownerState:P,...S,classes:d,children:p.jsx(W,{actions:_,autoFocus:n&&(O===-1||l),autoFocusItem:B,variant:b,...G,children:r})})});function lu(i){return nt("MuiMenuItem",i)}const vi=st("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),au=(i,t)=>{const{ownerState:e}=i;return[t.root,e.dense&&t.dense,e.divider&&t.divider,!e.disableGutters&&t.gutters]},hu=i=>{const{disabled:t,dense:e,divider:s,disableGutters:n,selected:r,classes:o}=i,a=it({root:["root",e&&"dense",t&&"disabled",!n&&"gutters",s&&"divider",r&&"selected"]},lu,o);return{...o,...a}},cu=z(je,{shouldForwardProp:i=>qt(i)||i==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:au})(at(({theme:i})=>({...i.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${vi.selected}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:pt(i.palette.primary.main,i.palette.action.selectedOpacity),[`&.${vi.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:pt(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)}},[`&.${vi.selected}:hover`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:pt(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:pt(i.palette.primary.main,i.palette.action.selectedOpacity)}},[`&.${vi.focusVisible}`]:{backgroundColor:(i.vars||i).palette.action.focus},[`&.${vi.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity},[`& + .${tr.root}`]:{marginTop:i.spacing(1),marginBottom:i.spacing(1)},[`& + .${tr.inset}`]:{marginLeft:52},[`& .${pr.root}`]:{marginTop:0,marginBottom:0},[`& .${pr.inset}`]:{paddingLeft:36},[`& .${dr.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(i.vars||i).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[i.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...i.typography.body2,[`& .${dr.root} svg`]:{fontSize:"1.25rem"}}}]}))),ol=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiMenuItem"}),{autoFocus:n=!1,component:r="li",dense:o=!1,divider:l=!1,disableGutters:a=!1,focusVisibleClassName:h,role:c="menuitem",tabIndex:u,className:d,...f}=s,g=m.useContext(en),v=m.useMemo(()=>({dense:o||g.dense||!1,disableGutters:a}),[g.dense,o,a]),b=m.useRef(null);Fe(()=>{n&&b.current&&b.current.focus()},[n]);const w={...s,dense:v.dense,divider:l,disableGutters:a},x=hu(s),S=Se(b,e);let y;return s.disabled||(y=u!==void 0?u:-1),p.jsx(en.Provider,{value:v,children:p.jsx(cu,{ref:S,role:c,tabIndex:y,component:r,focusVisibleClassName:A(x.focusVisible,h),className:A(x.root,d),...f,ownerState:w,classes:x})})});function uu(i){return nt("MuiNativeSelect",i)}const yn=st("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),du=i=>{const{classes:t,variant:e,disabled:s,multiple:n,open:r,error:o}=i,l={select:["select",e,s&&"disabled",n&&"multiple",o&&"error"],icon:["icon",`icon${R(e)}`,r&&"iconOpen",s&&"disabled"]};return it(l,uu,t)},ll=z("select",{name:"MuiNativeSelect"})(({theme:i})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${yn.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(i.vars||i).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(i.vars||i).shape.borderRadius,"&:focus":{borderRadius:(i.vars||i).shape.borderRadius},"&&&":{paddingRight:32}}}]})),pu=z(ll,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:qt,overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.select,t[e.variant],e.error&&t.error,{[`&.${yn.multiple}`]:t.multiple}]}})({}),al=z("svg",{name:"MuiNativeSelect"})(({theme:i})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(i.vars||i).palette.action.active,[`&.${yn.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),fu=z(al,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.icon,e.variant&&t[`icon${R(e.variant)}`],e.open&&t.iconOpen]}})({}),mu=m.forwardRef(function(t,e){const{className:s,disabled:n,error:r,IconComponent:o,inputRef:l,variant:a="standard",...h}=t,c={...t,disabled:n,variant:a,error:r},u=du(c);return p.jsxs(m.Fragment,{children:[p.jsx(pu,{ownerState:c,className:A(u.select,s),disabled:n,ref:l||e,...h}),t.multiple?null:p.jsx(fu,{as:o,ownerState:c,className:u.icon})]})});var br;const gu=z("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:qt})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),vu=z("legend",{name:"MuiNotchedOutlined",shouldForwardProp:qt})(at(({theme:i})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:i.transitions.create("width",{duration:150,easing:i.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:i.transitions.create("max-width",{duration:50,easing:i.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:i.transitions.create("max-width",{duration:100,easing:i.transitions.easing.easeOut,delay:50})}}]})));function bu(i){const{children:t,classes:e,className:s,label:n,notched:r,...o}=i,l=n!=null&&n!=="",a={...i,notched:r,withLabel:l};return p.jsx(gu,{"aria-hidden":!0,className:s,ownerState:a,...o,children:p.jsx(vu,{ownerState:a,children:l?p.jsx("span",{children:n}):br||(br=p.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const wu=i=>{const{classes:t}=i,s=it({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},_h,t);return{...t,...s}},xu=z(fs,{shouldForwardProp:i=>qt(i)||i==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:ds})(at(({theme:i})=>{const t=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(i.vars||i).shape.borderRadius,[`&:hover .${ie.notchedOutline}`]:{borderColor:(i.vars||i).palette.text.primary},"@media (hover: none)":{[`&:hover .${ie.notchedOutline}`]:{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${ie.focused} .${ie.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(i.palette).filter(Ft()).map(([e])=>({props:{color:e},style:{[`&.${ie.focused} .${ie.notchedOutline}`]:{borderColor:(i.vars||i).palette[e].main}}})),{props:{},style:{[`&.${ie.error} .${ie.notchedOutline}`]:{borderColor:(i.vars||i).palette.error.main},[`&.${ie.disabled} .${ie.notchedOutline}`]:{borderColor:(i.vars||i).palette.action.disabled}}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:14}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:14}},{props:({ownerState:e})=>e.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:e,size:s})=>e.multiline&&s==="small",style:{padding:"8.5px 14px"}}]}})),yu=z(bu,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(i,t)=>t.notchedOutline})(at(({theme:i})=>{const t=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),Su=z(ms,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:ps})(at(({theme:i})=>({padding:"16.5px 14px",...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),hl=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiOutlinedInput"}),{components:n={},fullWidth:r=!1,inputComponent:o="input",label:l,multiline:a=!1,notched:h,slots:c={},slotProps:u={},type:d="text",...f}=s,g=wu(s),v=Ce(),b=Xe({props:s,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w={...s,color:b.color||"primary",disabled:b.disabled,error:b.error,focused:b.focused,formControl:v,fullWidth:r,hiddenLabel:b.hiddenLabel,multiline:a,size:b.size,type:d},x=c.root??n.Root??xu,S=c.input??n.Input??Su,[y,P]=dt("notchedOutline",{elementType:yu,className:g.notchedOutline,shouldForwardComponentProp:!0,ownerState:w,externalForwardedProps:{slots:c,slotProps:u},additionalProps:{label:l!=null&&l!==""&&b.required?p.jsxs(m.Fragment,{children:[l," ","*"]}):l}});return p.jsx(xn,{slots:{root:x,input:S},slotProps:u,renderSuffix:k=>p.jsx(y,{...P,notched:typeof h<"u"?h:!!(k.startAdornment||k.filled||k.focused)}),fullWidth:r,inputComponent:o,multiline:a,ref:e,type:d,...f,classes:{...g,notchedOutline:null}})});hl.muiName="Input";function cl(i){return nt("MuiSelect",i)}const bi=st("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var wr;const Cu=z(ll,{name:"MuiSelect",slot:"Select",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[{[`&.${bi.select}`]:t.select},{[`&.${bi.select}`]:t[e.variant]},{[`&.${bi.error}`]:t.error},{[`&.${bi.multiple}`]:t.multiple}]}})({[`&.${bi.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Mu=z(al,{name:"MuiSelect",slot:"Icon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.icon,e.variant&&t[`icon${R(e.variant)}`],e.open&&t.iconOpen]}})({}),Pu=z("input",{shouldForwardProp:i=>Ya(i)&&i!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(i,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function xr(i,t){return typeof t=="object"&&t!==null?i===t:String(i)===String(t)}function ku(i){return i==null||typeof i=="string"&&!i.trim()}const Ru=i=>{const{classes:t,variant:e,disabled:s,multiple:n,open:r,error:o}=i,l={select:["select",e,s&&"disabled",n&&"multiple",o&&"error"],icon:["icon",`icon${R(e)}`,r&&"iconOpen",s&&"disabled"],nativeInput:["nativeInput"]};return it(l,cl,t)},_u=m.forwardRef(function(t,e){var pi;const{"aria-describedby":s,"aria-label":n,autoFocus:r,autoWidth:o,children:l,className:a,defaultOpen:h,defaultValue:c,disabled:u,displayEmpty:d,error:f=!1,IconComponent:g,inputRef:v,labelId:b,MenuProps:w={},multiple:x,name:S,onBlur:y,onChange:P,onClose:k,onFocus:B,onOpen:_,open:I,readOnly:N,renderValue:O,required:T,SelectDisplayProps:L={},tabIndex:F,type:V,value:W,variant:G="standard",...X}=t,[$,H]=Js({controlled:W,default:c,name:"Select"}),[Z,Vt]=Js({controlled:I,default:h,name:"Select"}),Dt=m.useRef(null),St=m.useRef(null),[Q,ct]=m.useState(null),{current:mt}=m.useRef(I!=null),[te,Yt]=m.useState(),K=Se(e,v),ft=m.useCallback(j=>{St.current=j,j&&ct(j)},[]),et=Q==null?void 0:Q.parentNode;m.useImperativeHandle(K,()=>({focus:()=>{St.current.focus()},node:Dt.current,value:$}),[$]),m.useEffect(()=>{h&&Z&&Q&&!mt&&(Yt(o?null:et.clientWidth),St.current.focus())},[Q,o]),m.useEffect(()=>{r&&St.current.focus()},[r]),m.useEffect(()=>{if(!b)return;const j=xe(St.current).getElementById(b);if(j){const ot=()=>{getSelection().isCollapsed&&St.current.focus()};return j.addEventListener("click",ot),()=>{j.removeEventListener("click",ot)}}},[b]);const $t=(j,ot)=>{j?_&&_(ot):k&&k(ot),mt||(Yt(o?null:et.clientWidth),Vt(j))},J=j=>{j.button===0&&(j.preventDefault(),St.current.focus(),$t(!0,j))},gt=j=>{$t(!1,j)},Xt=m.Children.toArray(l),Ct=j=>{const ot=Xt.find(yt=>yt.props.value===j.target.value);ot!==void 0&&(H(ot.props.value),P&&P(j,ot))},Mt=j=>ot=>{let yt;if(ot.currentTarget.hasAttribute("tabindex")){if(x){yt=Array.isArray($)?$.slice():[];const ue=$.indexOf(j.props.value);ue===-1?yt.push(j.props.value):yt.splice(ue,1)}else yt=j.props.value;if(j.props.onClick&&j.props.onClick(ot),$!==yt&&(H(yt),P)){const ue=ot.nativeEvent||ot,Ee=new ue.constructor(ue.type,ue);Object.defineProperty(Ee,"target",{writable:!0,value:{value:yt,name:S}}),P(Ee,j)}x||$t(!1,ot)}},At=j=>{N||[" ","ArrowUp","ArrowDown","Enter"].includes(j.key)&&(j.preventDefault(),$t(!0,j))},Ht=Q!==null&&Z,bt=j=>{!Ht&&y&&(Object.defineProperty(j,"target",{writable:!0,value:{value:$,name:S}}),y(j))};delete X["aria-invalid"];let Qt,ae;const kt=[];let fe=!1;(rs({value:$})||d)&&(O?Qt=O($):fe=!0);const Re=Xt.map(j=>{if(!m.isValidElement(j))return null;let ot;if(x){if(!Array.isArray($))throw new Error(Wo(2));ot=$.some(yt=>xr(yt,j.props.value)),ot&&fe&&kt.push(j.props.children)}else ot=xr($,j.props.value),ot&&fe&&(ae=j.props.children);return m.cloneElement(j,{"aria-selected":ot?"true":"false",onClick:Mt(j),onKeyUp:yt=>{yt.key===" "&&yt.preventDefault(),j.props.onKeyUp&&j.props.onKeyUp(yt)},role:"option",selected:ot,value:void 0,"data-value":j.props.value})});fe&&(x?kt.length===0?Qt=null:Qt=kt.reduce((j,ot,yt)=>(j.push(ot),yt<kt.length-1&&j.push(", "),j),[]):Qt=ae);let _e=te;!o&&mt&&Q&&(_e=et.clientWidth);let Zt;typeof F<"u"?Zt=F:Zt=u?null:0;const me=L.id||(S?`mui-component-select-${S}`:void 0),he={...t,variant:G,value:$,open:Ht,error:f},rt=Ru(he),ce={...w.PaperProps,...(pi=w.slotProps)==null?void 0:pi.paper},$e=Vo();return p.jsxs(m.Fragment,{children:[p.jsx(Cu,{as:"div",ref:ft,tabIndex:Zt,role:"combobox","aria-controls":Ht?$e:void 0,"aria-disabled":u?"true":void 0,"aria-expanded":Ht?"true":"false","aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[b,me].filter(Boolean).join(" ")||void 0,"aria-describedby":s,"aria-required":T?"true":void 0,"aria-invalid":f?"true":void 0,onKeyDown:At,onMouseDown:u||N?null:J,onBlur:bt,onFocus:B,...L,ownerState:he,className:A(L.className,rt.select,a),id:me,children:ku(Qt)?wr||(wr=p.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):Qt}),p.jsx(Pu,{"aria-invalid":f,value:Array.isArray($)?$.join(","):$,name:S,ref:Dt,"aria-hidden":!0,onChange:Ct,tabIndex:-1,disabled:u,className:rt.nativeInput,autoFocus:r,required:T,...X,ownerState:he}),p.jsx(Mu,{as:g,className:rt.icon,ownerState:he}),p.jsx(ou,{id:`menu-${S||""}`,anchorEl:et,open:Ht,onClose:gt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...w,slotProps:{...w.slotProps,list:{"aria-labelledby":b,role:"listbox","aria-multiselectable":x?"true":void 0,disableListWrap:!0,id:$e,...w.MenuListProps},paper:{...ce,style:{minWidth:_e,...ce!=null?ce.style:null}}},children:Re})]})}),$u=i=>{const{classes:t}=i,s=it({root:["root"]},cl,t);return{...t,...s}},Sn={name:"MuiSelect",overridesResolver:(i,t)=>t.root,shouldForwardProp:i=>qt(i)&&i!=="variant",slot:"Root"},Eu=z(sl,Sn)(""),Bu=z(hl,Sn)(""),zu=z(el,Sn)(""),Cn=m.forwardRef(function(t,e){const s=ht({name:"MuiSelect",props:t}),{autoWidth:n=!1,children:r,classes:o={},className:l,defaultOpen:a=!1,displayEmpty:h=!1,IconComponent:c=Eh,id:u,input:d,inputProps:f,label:g,labelId:v,MenuProps:b,multiple:w=!1,native:x=!1,onClose:S,onOpen:y,open:P,renderValue:k,SelectDisplayProps:B,variant:_="outlined",...I}=s,N=x?mu:_u,O=Ce(),T=Xe({props:s,muiFormControl:O,states:["variant","error"]}),L=T.variant||_,F={...s,variant:L,classes:o},V=$u(F),{root:W,...G}=V,X=d||{standard:p.jsx(Eu,{ownerState:F}),outlined:p.jsx(Bu,{label:g,ownerState:F}),filled:p.jsx(zu,{ownerState:F})}[L],$=Se(e,Ho(X));return p.jsx(m.Fragment,{children:m.cloneElement(X,{inputComponent:N,inputProps:{children:r,error:T.error,IconComponent:c,variant:L,type:void 0,multiple:w,...x?{id:u}:{autoWidth:n,defaultOpen:a,displayEmpty:h,labelId:v,MenuProps:b,onClose:S,onOpen:y,open:P,renderValue:k,SelectDisplayProps:{id:u,...B}},...f,classes:f?gn(G,f.classes):G,...d?d.props.inputProps:{}},...(w&&x||h)&&L==="outlined"?{notched:!0}:{},ref:$,className:A(X.props.className,l,V.root),...!d&&{variant:L},...I})})});Cn.muiName="Select";function Lu(i){return nt("MuiSwitch",i)}const zt=st("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Tu=i=>{const{classes:t,edge:e,size:s,color:n,checked:r,disabled:o}=i,l={root:["root",e&&`edge${R(e)}`,`size${R(s)}`],switchBase:["switchBase",`color${R(n)}`,r&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},a=it(l,Lu,t);return{...t,...a}},Iu=z("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.edge&&t[`edge${R(e.edge)}`],t[`size${R(e.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${zt.thumb}`]:{width:16,height:16},[`& .${zt.switchBase}`]:{padding:4,[`&.${zt.checked}`]:{transform:"translateX(16px)"}}}}]}),Du=z(tl,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.switchBase,{[`& .${zt.input}`]:t.input},e.color!=="default"&&t[`color${R(e.color)}`]]}})(at(({theme:i})=>({position:"absolute",top:0,left:0,zIndex:1,color:i.vars?i.vars.palette.Switch.defaultColor:`${i.palette.mode==="light"?i.palette.common.white:i.palette.grey[300]}`,transition:i.transitions.create(["left","transform"],{duration:i.transitions.duration.shortest}),[`&.${zt.checked}`]:{transform:"translateX(20px)"},[`&.${zt.disabled}`]:{color:i.vars?i.vars.palette.Switch.defaultDisabledColor:`${i.palette.mode==="light"?i.palette.grey[100]:i.palette.grey[600]}`},[`&.${zt.checked} + .${zt.track}`]:{opacity:.5},[`&.${zt.disabled} + .${zt.track}`]:{opacity:i.vars?i.vars.opacity.switchTrackDisabled:`${i.palette.mode==="light"?.12:.2}`},[`& .${zt.input}`]:{left:"-100%",width:"300%"}})),at(({theme:i})=>({"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:pt(i.palette.action.active,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(i.palette).filter(Ft(["light"])).map(([t])=>({props:{color:t},style:{[`&.${zt.checked}`]:{color:(i.vars||i).palette[t].main,"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette[t].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:pt(i.palette[t].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${zt.disabled}`]:{color:i.vars?i.vars.palette.Switch[`${t}DisabledColor`]:`${i.palette.mode==="light"?Aa(i.palette[t].main,.62):Ha(i.palette[t].main,.55)}`}},[`&.${zt.checked} + .${zt.track}`]:{backgroundColor:(i.vars||i).palette[t].main}}}))]}))),Nu=z("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(i,t)=>t.track})(at(({theme:i})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:i.transitions.create(["opacity","background-color"],{duration:i.transitions.duration.shortest}),backgroundColor:i.vars?i.vars.palette.common.onBackground:`${i.palette.mode==="light"?i.palette.common.black:i.palette.common.white}`,opacity:i.vars?i.vars.opacity.switchTrack:`${i.palette.mode==="light"?.38:.3}`}))),Fu=z("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(i,t)=>t.thumb})(at(({theme:i})=>({boxShadow:(i.vars||i).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),ul=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiSwitch"}),{className:n,color:r="primary",edge:o=!1,size:l="medium",sx:a,slots:h={},slotProps:c={},...u}=s,d={...s,color:r,edge:o,size:l},f=Tu(d),g={slots:h,slotProps:c},[v,b]=dt("root",{className:A(f.root,n),elementType:Iu,externalForwardedProps:g,ownerState:d,additionalProps:{sx:a}}),[w,x]=dt("thumb",{className:f.thumb,elementType:Fu,externalForwardedProps:g,ownerState:d}),S=p.jsx(w,{...x}),[y,P]=dt("track",{className:f.track,elementType:Nu,externalForwardedProps:g,ownerState:d});return p.jsxs(v,{...b,children:[p.jsx(Du,{type:"checkbox",icon:S,checkedIcon:S,ref:e,ownerState:d,...u,classes:{...f,root:f.switchBase},slots:{...h.switchBase&&{root:h.switchBase},...h.input&&{input:h.input}},slotProps:{...c.switchBase&&{root:typeof c.switchBase=="function"?c.switchBase(d):c.switchBase},...c.input&&{input:typeof c.input=="function"?c.input(d):c.input}}}),p.jsx(y,{...P})]})});function ju(i){return nt("MuiTab",i)}const Kt=st("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),Ou=i=>{const{classes:t,textColor:e,fullWidth:s,wrapped:n,icon:r,label:o,selected:l,disabled:a}=i,h={root:["root",r&&o&&"labelIcon",`textColor${R(e)}`,s&&"fullWidth",n&&"wrapped",l&&"selected",a&&"disabled"],icon:["iconWrapper","icon"]};return it(h,ju,t)},Wu=z(je,{name:"MuiTab",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.label&&e.icon&&t.labelIcon,t[`textColor${R(e.textColor)}`],e.fullWidth&&t.fullWidth,e.wrapped&&t.wrapped,{[`& .${Kt.iconWrapper}`]:t.iconWrapper},{[`& .${Kt.icon}`]:t.icon}]}})(at(({theme:i})=>({...i.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:e})=>t.icon&&t.label&&e==="top",style:{[`& > .${Kt.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:e})=>t.icon&&t.label&&e==="bottom",style:{[`& > .${Kt.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:e})=>t.icon&&t.label&&e==="start",style:{[`& > .${Kt.icon}`]:{marginRight:i.spacing(1)}}},{props:({ownerState:t,iconPosition:e})=>t.icon&&t.label&&e==="end",style:{[`& > .${Kt.icon}`]:{marginLeft:i.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Kt.selected}`]:{opacity:1},[`&.${Kt.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(i.vars||i).palette.text.secondary,[`&.${Kt.selected}`]:{color:(i.vars||i).palette.primary.main},[`&.${Kt.disabled}`]:{color:(i.vars||i).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(i.vars||i).palette.text.secondary,[`&.${Kt.selected}`]:{color:(i.vars||i).palette.secondary.main},[`&.${Kt.disabled}`]:{color:(i.vars||i).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:i.typography.pxToRem(12)}}]}))),Mn=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiTab"}),{className:n,disabled:r=!1,disableFocusRipple:o=!1,fullWidth:l,icon:a,iconPosition:h="top",indicator:c,label:u,onChange:d,onClick:f,onFocus:g,selected:v,selectionFollowsFocus:b,textColor:w="inherit",value:x,wrapped:S=!1,...y}=s,P={...s,disabled:r,disableFocusRipple:o,selected:v,icon:!!a,iconPosition:h,label:!!u,fullWidth:l,textColor:w,wrapped:S},k=Ou(P),B=a&&u&&m.isValidElement(a)?m.cloneElement(a,{className:A(k.icon,a.props.className)}):a,_=N=>{!v&&d&&d(N,x),f&&f(N)},I=N=>{b&&!v&&d&&d(N,x),g&&g(N)};return p.jsxs(Wu,{focusRipple:!o,className:A(k.root,n),ref:e,role:"tab","aria-selected":v,disabled:r,onClick:_,onFocus:I,ownerState:P,tabIndex:v?0:-1,...y,children:[h==="top"||h==="start"?p.jsxs(m.Fragment,{children:[B,u]}):p.jsxs(m.Fragment,{children:[u,B]}),c]})}),Vu=ye(p.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Yu=ye(p.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Au(i){return(1+Math.sin(Math.PI*i-Math.PI/2))/2}function Hu(i,t,e,s={},n=()=>{}){const{ease:r=Au,duration:o=300}=s;let l=null;const a=t[i];let h=!1;const c=()=>{h=!0},u=d=>{if(h){n(new Error("Animation cancelled"));return}l===null&&(l=d);const f=Math.min(1,(d-l)/o);if(t[i]=r(f)*(e-a)+a,f>=1){requestAnimationFrame(()=>{n(null)});return}requestAnimationFrame(u)};return a===e?(n(new Error("Element already at target position")),c):(requestAnimationFrame(u),c)}const Uu={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Gu(i){const{onChange:t,...e}=i,s=m.useRef(),n=m.useRef(null),r=()=>{s.current=n.current.offsetHeight-n.current.clientHeight};return Fe(()=>{const o=Fi(()=>{const a=s.current;r(),a!==s.current&&t(s.current)}),l=Oe(n.current);return l.addEventListener("resize",o),()=>{o.clear(),l.removeEventListener("resize",o)}},[t]),m.useEffect(()=>{r(),t(s.current)},[t]),p.jsx("div",{style:Uu,...e,ref:n})}function Xu(i){return nt("MuiTabScrollButton",i)}const Qu=st("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Ku=i=>{const{classes:t,orientation:e,disabled:s}=i;return it({root:["root",e,s&&"disabled"]},Xu,t)},qu=z(je,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.orientation&&t[e.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${Qu.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Zu=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiTabScrollButton"}),{className:n,slots:r={},slotProps:o={},direction:l,orientation:a,disabled:h,...c}=s,u=bn(),d={isRtl:u,...s},f=Ku(d),g=r.StartScrollButtonIcon??Vu,v=r.EndScrollButtonIcon??Yu,b=Li({elementType:g,externalSlotProps:o.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d}),w=Li({elementType:v,externalSlotProps:o.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d});return p.jsx(qu,{component:"div",className:A(f.root,n),ref:e,role:null,ownerState:d,tabIndex:null,...c,style:{...c.style,...a==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${u?-90:90}deg)`}},children:l==="left"?p.jsx(g,{...b}):p.jsx(v,{...w})})});function Ju(i){return nt("MuiTabs",i)}const Es=st("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),yr=(i,t)=>i===t?i.firstChild:t&&t.nextElementSibling?t.nextElementSibling:i.firstChild,Sr=(i,t)=>i===t?i.lastChild:t&&t.previousElementSibling?t.previousElementSibling:i.lastChild,Ai=(i,t,e)=>{let s=!1,n=e(i,t);for(;n;){if(n===i.firstChild){if(s)return;s=!0}const r=n.disabled||n.getAttribute("aria-disabled")==="true";if(!n.hasAttribute("tabindex")||r)n=e(i,n);else{n.focus();return}}},td=i=>{const{vertical:t,fixed:e,hideScrollbar:s,scrollableX:n,scrollableY:r,centered:o,scrollButtonsHideMobile:l,classes:a}=i;return it({root:["root",t&&"vertical"],scroller:["scroller",e&&"fixed",s&&"hideScrollbar",n&&"scrollableX",r&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",l&&"scrollButtonsHideMobile"],scrollableX:[n&&"scrollableX"],hideScrollbar:[s&&"hideScrollbar"]},Ju,a)},ed=z("div",{name:"MuiTabs",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[{[`& .${Es.scrollButtons}`]:t.scrollButtons},{[`& .${Es.scrollButtons}`]:e.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,e.vertical&&t.vertical]}})(at(({theme:i})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${Es.scrollButtons}`]:{[i.breakpoints.down("sm")]:{display:"none"}}}}]}))),id=z("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.scroller,e.fixed&&t.fixed,e.hideScrollbar&&t.hideScrollbar,e.scrollableX&&t.scrollableX,e.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:i})=>i.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:i})=>i.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:i})=>i.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:i})=>i.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),sd=z("div",{name:"MuiTabs",slot:"List",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.list,t.flexContainer,e.vertical&&t.flexContainerVertical,e.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:i})=>i.vertical,style:{flexDirection:"column"}},{props:({ownerState:i})=>i.centered,style:{justifyContent:"center"}}]}),nd=z("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(i,t)=>t.indicator})(at(({theme:i})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:i.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(i.vars||i).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(i.vars||i).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),rd=z(Gu)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Cr={},Pn=m.forwardRef(function(t,e){const s=ht({props:t,name:"MuiTabs"}),n=ai(),r=bn(),{"aria-label":o,"aria-labelledby":l,action:a,centered:h=!1,children:c,className:u,component:d="div",allowScrollButtonsMobile:f=!1,indicatorColor:g="primary",onChange:v,orientation:b="horizontal",ScrollButtonComponent:w,scrollButtons:x="auto",selectionFollowsFocus:S,slots:y={},slotProps:P={},TabIndicatorProps:k={},TabScrollButtonProps:B={},textColor:_="primary",value:I,variant:N="standard",visibleScrollbar:O=!1,...T}=s,L=N==="scrollable",F=b==="vertical",V=F?"scrollTop":"scrollLeft",W=F?"top":"left",G=F?"bottom":"right",X=F?"clientHeight":"clientWidth",$=F?"height":"width",H={...s,component:d,allowScrollButtonsMobile:f,indicatorColor:g,orientation:b,vertical:F,scrollButtons:x,textColor:_,variant:N,visibleScrollbar:O,fixed:!L,hideScrollbar:L&&!O,scrollableX:L&&!F,scrollableY:L&&F,centered:h&&!L,scrollButtonsHideMobile:!f},Z=td(H),Vt=Li({elementType:y.StartScrollButtonIcon,externalSlotProps:P.startScrollButtonIcon,ownerState:H}),Dt=Li({elementType:y.EndScrollButtonIcon,externalSlotProps:P.endScrollButtonIcon,ownerState:H}),[St,Q]=m.useState(!1),[ct,mt]=m.useState(Cr),[te,Yt]=m.useState(!1),[K,ft]=m.useState(!1),[et,$t]=m.useState(!1),[J,gt]=m.useState({overflow:"hidden",scrollbarWidth:0}),Xt=new Map,Ct=m.useRef(null),Mt=m.useRef(null),At={slots:y,slotProps:{indicator:k,scrollButton:B,...P}},Ht=()=>{const E=Ct.current;let D;if(E){const tt=E.getBoundingClientRect();D={clientWidth:E.clientWidth,scrollLeft:E.scrollLeft,scrollTop:E.scrollTop,scrollWidth:E.scrollWidth,top:tt.top,bottom:tt.bottom,left:tt.left,right:tt.right}}let q;if(E&&I!==!1){const tt=Mt.current.children;if(tt.length>0){const vt=tt[Xt.get(I)];q=vt?vt.getBoundingClientRect():null}}return{tabsMeta:D,tabMeta:q}},bt=Pi(()=>{const{tabsMeta:E,tabMeta:D}=Ht();let q=0,tt;F?(tt="top",D&&E&&(q=D.top-E.top+E.scrollTop)):(tt=r?"right":"left",D&&E&&(q=(r?-1:1)*(D[tt]-E[tt]+E.scrollLeft)));const vt={[tt]:q,[$]:D?D[$]:0};if(typeof ct[tt]!="number"||typeof ct[$]!="number")mt(vt);else{const ee=Math.abs(ct[tt]-vt[tt]),Be=Math.abs(ct[$]-vt[$]);(ee>=1||Be>=1)&&mt(vt)}}),Qt=(E,{animation:D=!0}={})=>{D?Hu(V,Ct.current,E,{duration:n.transitions.duration.standard}):Ct.current[V]=E},ae=E=>{let D=Ct.current[V];F?D+=E:D+=E*(r?-1:1),Qt(D)},kt=()=>{const E=Ct.current[X];let D=0;const q=Array.from(Mt.current.children);for(let tt=0;tt<q.length;tt+=1){const vt=q[tt];if(D+vt[X]>E){tt===0&&(D=E);break}D+=vt[X]}return D},fe=()=>{ae(-1*kt())},Re=()=>{ae(kt())},[_e,{onChange:Zt,...me}]=dt("scrollbar",{className:A(Z.scrollableX,Z.hideScrollbar),elementType:rd,shouldForwardComponentProp:!0,externalForwardedProps:At,ownerState:H}),he=m.useCallback(E=>{Zt==null||Zt(E),gt({overflow:null,scrollbarWidth:E})},[Zt]),[rt,ce]=dt("scrollButtons",{className:A(Z.scrollButtons,B.className),elementType:Zu,externalForwardedProps:At,ownerState:H,additionalProps:{orientation:b,slots:{StartScrollButtonIcon:y.startScrollButtonIcon||y.StartScrollButtonIcon,EndScrollButtonIcon:y.endScrollButtonIcon||y.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:Vt,endScrollButtonIcon:Dt}}}),$e=()=>{const E={};E.scrollbarSizeListener=L?p.jsx(_e,{...me,onChange:he}):null;const q=L&&(x==="auto"&&(te||K)||x===!0);return E.scrollButtonStart=q?p.jsx(rt,{direction:r?"right":"left",onClick:fe,disabled:!te,...ce}):null,E.scrollButtonEnd=q?p.jsx(rt,{direction:r?"left":"right",onClick:Re,disabled:!K,...ce}):null,E},pi=Pi(E=>{const{tabsMeta:D,tabMeta:q}=Ht();if(!(!q||!D)){if(q[W]<D[W]){const tt=D[V]+(q[W]-D[W]);Qt(tt,{animation:E})}else if(q[G]>D[G]){const tt=D[V]+(q[G]-D[G]);Qt(tt,{animation:E})}}}),j=Pi(()=>{L&&x!==!1&&$t(!et)});m.useEffect(()=>{const E=Fi(()=>{Ct.current&&bt()});let D;const q=ee=>{ee.forEach(Be=>{Be.removedNodes.forEach(fi=>{D==null||D.unobserve(fi)}),Be.addedNodes.forEach(fi=>{D==null||D.observe(fi)})}),E(),j()},tt=Oe(Ct.current);tt.addEventListener("resize",E);let vt;return typeof ResizeObserver<"u"&&(D=new ResizeObserver(E),Array.from(Mt.current.children).forEach(ee=>{D.observe(ee)})),typeof MutationObserver<"u"&&(vt=new MutationObserver(q),vt.observe(Mt.current,{childList:!0})),()=>{E.clear(),tt.removeEventListener("resize",E),vt==null||vt.disconnect(),D==null||D.disconnect()}},[bt,j]),m.useEffect(()=>{const E=Array.from(Mt.current.children),D=E.length;if(typeof IntersectionObserver<"u"&&D>0&&L&&x!==!1){const q=E[0],tt=E[D-1],vt={root:Ct.current,threshold:.99},ee=Rs=>{Yt(!Rs[0].isIntersecting)},Be=new IntersectionObserver(ee,vt);Be.observe(q);const fi=Rs=>{ft(!Rs[0].isIntersecting)},Zn=new IntersectionObserver(fi,vt);return Zn.observe(tt),()=>{Be.disconnect(),Zn.disconnect()}}},[L,x,et,c==null?void 0:c.length]),m.useEffect(()=>{Q(!0)},[]),m.useEffect(()=>{bt()}),m.useEffect(()=>{pi(Cr!==ct)},[pi,ct]),m.useImperativeHandle(a,()=>({updateIndicator:bt,updateScrollButtons:j}),[bt,j]);const[ot,yt]=dt("indicator",{className:A(Z.indicator,k.className),elementType:nd,externalForwardedProps:At,ownerState:H,additionalProps:{style:ct}}),ue=p.jsx(ot,{...yt});let Ee=0;const wa=m.Children.map(c,E=>{if(!m.isValidElement(E))return null;const D=E.props.value===void 0?Ee:E.props.value;Xt.set(D,Ee);const q=D===I;return Ee+=1,m.cloneElement(E,{fullWidth:N==="fullWidth",indicator:q&&!St&&ue,selected:q,selectionFollowsFocus:S,onChange:v,textColor:_,value:D,...Ee===1&&I===!1&&!E.props.tabIndex?{tabIndex:0}:{}})}),xa=E=>{if(E.altKey||E.shiftKey||E.ctrlKey||E.metaKey)return;const D=Mt.current,q=xe(D).activeElement;if(q.getAttribute("role")!=="tab")return;let vt=b==="horizontal"?"ArrowLeft":"ArrowUp",ee=b==="horizontal"?"ArrowRight":"ArrowDown";switch(b==="horizontal"&&r&&(vt="ArrowRight",ee="ArrowLeft"),E.key){case vt:E.preventDefault(),Ai(D,q,Sr);break;case ee:E.preventDefault(),Ai(D,q,yr);break;case"Home":E.preventDefault(),Ai(D,null,yr);break;case"End":E.preventDefault(),Ai(D,null,Sr);break}},ks=$e(),[ya,Sa]=dt("root",{ref:e,className:A(Z.root,u),elementType:ed,externalForwardedProps:{...At,...T,component:d},ownerState:H}),[Ca,Ma]=dt("scroller",{ref:Ct,className:Z.scroller,elementType:id,externalForwardedProps:At,ownerState:H,additionalProps:{style:{overflow:J.overflow,[F?`margin${r?"Left":"Right"}`:"marginBottom"]:O?void 0:-J.scrollbarWidth}}}),[Pa,ka]=dt("list",{ref:Mt,className:A(Z.list,Z.flexContainer),elementType:sd,externalForwardedProps:At,ownerState:H,getSlotProps:E=>({...E,onKeyDown:D=>{var q;xa(D),(q=E.onKeyDown)==null||q.call(E,D)}})});return p.jsxs(ya,{...Sa,children:[ks.scrollButtonStart,ks.scrollbarSizeListener,p.jsxs(Ca,{...Ma,children:[p.jsx(Pa,{"aria-label":o,"aria-labelledby":l,"aria-orientation":b==="vertical"?"vertical":null,role:"tablist",...ka,children:wa}),St&&ue]}),ks.scrollButtonEnd]})}),od=ye(p.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"}),"Circle"),ld=({ref:i,threshold:t=0,once:e=!1,margin:s,initialVisibility:n=!1})=>{const[r,o]=m.useState(n),[l,a]=m.useState();return m.useEffect(()=>{if(!i.current)return;const h=new IntersectionObserver(([c])=>{const{isIntersecting:u,intersectionRatio:d}=c;o(u),a(d),e&&u&&h.disconnect()},{threshold:t,rootMargin:s});return h.observe(i.current),()=>{h.disconnect()}},[i,t,e,s]),{isOnScreen:r,visibilityRatio:l}},kn=i=>Object.keys(i),ad=i=>Object.entries(i),dl=i=>new Array(i).fill(0),hd=i=>`data:image/svg+xml,${encodeURIComponent(i)}`,Hi=i=>Object.prototype.toString.call(i)==="[object Object]",pl=(i,t)=>{if(!Hi(i))throw new TypeError(`Target must be a plain object, got ${typeof i}`);if(!Hi(t))throw new TypeError(`Source must be a plain object, got ${typeof t}`);const e=structuredClone(i);for(const s in t){if(!Object.prototype.hasOwnProperty.call(t,s))continue;const n=t[s],r=i[s];Hi(n)&&Hi(r)?e[s]=pl(r,n):e[s]=n}return e},cd=i=>new Promise(t=>setTimeout(t,i)),ud=i=>{const t=i.replace(/^#/,""),e=parseInt(t.substring(0,2),16),s=parseInt(t.substring(2,4),16),n=parseInt(t.substring(4,6),16);return .299*e+.587*s+.114*n>150?C.black:C.white},ci={autoSize:!0,layout:{attributionLogo:!1,fontFamily:"Roboto",background:{color:"transparent"},textColor:C.blue},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},crosshair:{vertLine:{style:3,color:C.gray},horzLine:{style:3,color:C.gray}}},Ut=i=>pl(ci,i),Rn="ukorvl/lightweight-charts-react-components/tree/main/examples/src/samples",Nt=`https://github.com/${Rn}`,dd="https://codesandbox.io/s",pd="https://stackblitz.com",Bs=`${dd}/github/${Rn}`,zs=`${pd}/github/${Rn}`,Ot={BasicSeries:{github:`${Nt}/BasicSeries`,codesandbox:`${Bs}/BasicSeries/sandbox`,stackblitz:`${zs}/BasicSeries/sandbox`},CustomSeries:{github:`${Nt}/CustomSeries`,codesandbox:"",stackblitz:""},RangeSwitcher:{github:`${Nt}/RangeSwitcher`,codesandbox:"",stackblitz:""},Markers:{github:`${Nt}/Markers`,codesandbox:"",stackblitz:""},Watermark:{github:`${Nt}/Watermark`,codesandbox:"",stackblitz:""},Legend:{github:`${Nt}/Legend`,codesandbox:"",stackblitz:""},CompareSeries:{github:`${Nt}/CompareSeries`,codesandbox:"",stackblitz:""},Scales:{github:`${Nt}/Scales`,codesandbox:"",stackblitz:""},Tooltips:{github:`${Nt}/Tooltips`,codesandbox:"",stackblitz:""},Panes:{github:`${Nt}/Panes`,codesandbox:`${Bs}/Panes/sandbox`,stackblitz:`${zs}/Panes/sandbox`},InfiniteData:{github:`${Nt}/InfiniteData`,codesandbox:"",stackblitz:""},PriceLines:{github:`${Nt}/PriceLines`,codesandbox:"",stackblitz:""},Primitives:{github:`${Nt}/Primitives`,codesandbox:"",stackblitz:""},RealTime:{github:`${Nt}/RealTime`,codesandbox:`${Bs}/RealTime/sandbox`,stackblitz:`${zs}/RealTime/sandbox`}},fd=m.createContext(null),Ls={didCatch:!1,error:null};class md extends m.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Ls}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var e,s,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=(s=this.props).onReset)===null||e===void 0||e.call(s,{args:r,reason:"imperative-api"}),this.setState(Ls)}}componentDidCatch(t,e){var s,n;(s=(n=this.props).onError)===null||s===void 0||s.call(n,t,e)}componentDidUpdate(t,e){const{didCatch:s}=this.state,{resetKeys:n}=this.props;if(s&&e.error!==null&&gd(t.resetKeys,n)){var r,o;(r=(o=this.props).onReset)===null||r===void 0||r.call(o,{next:n,prev:t.resetKeys,reason:"keys"}),this.setState(Ls)}}render(){const{children:t,fallbackRender:e,FallbackComponent:s,fallback:n}=this.props,{didCatch:r,error:o}=this.state;let l=t;if(r){const a={error:o,resetErrorBoundary:this.resetErrorBoundary};if(typeof e=="function")l=e(a);else if(s)l=m.createElement(s,a);else if(n!==void 0)l=n;else throw o}return m.createElement(fd.Provider,{value:{didCatch:r,error:o,resetErrorBoundary:this.resetErrorBoundary}},l)}}function gd(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return i.length!==t.length||i.some((e,s)=>!Object.is(e,t[s]))}const vd=i=>p.jsx(Uo,{...i,children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[p.jsx("title",{children:"Codesandbox icon"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:`M2 6l10.455-6L22.91 6 23 17.95 12.455 24 2 18V6zm2.088 2.481v4.757l3.345
        1.86v3.516l3.972 2.296v-8.272L4.088 8.481zm16.739 0l-7.317
        4.157v8.272l3.972-2.296V15.1l3.345-1.861V8.48zM5.134 6.601l7.303 4.144
        7.32-4.18-3.871-2.197-3.41 1.945-3.43-1.968L5.133 6.6zz`})]})}),bd=i=>p.jsx(Uo,{...i,children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"1em",height:"1em",fill:"none",stroke:"currentColor",children:[p.jsx("title",{children:"Stackblitz icon"}),p.jsx("path",{d:"M5.853 18.647h8.735L9.45 31l16.697-17.647h-8.735L22.55 1z"})]})}),Ts=({tooltipDisabledTitle:i,tooltipTitle:t,children:e,href:s,disabled:n=!1,isExternal:r=!0,hrefTarget:o="_blank"})=>p.jsx(Ga,{title:n?i:t,placement:"bottom",children:p.jsx(Xa,{href:n?void 0:s,target:n?void 0:o,rel:r?"noopener noreferrer":void 0,color:n?"textDisabled":"secondary",children:e})}),wd=({sampleConfig:{github:i,codesandbox:t,stackblitz:e}})=>p.jsxs(We,{direction:"row",spacing:1.5,children:[p.jsx(Ts,{disabled:!i,tooltipTitle:"Open the source in GitHub",tooltipDisabledTitle:"Source not available",href:i,children:p.jsx(Ua,{})}),p.jsx(Ts,{disabled:!t,tooltipTitle:"View in CodeSandbox",tooltipDisabledTitle:"CodeSandbox not available",href:t,children:p.jsx(vd,{})}),p.jsx(Ts,{disabled:!e,tooltipTitle:"Edit in StackBlitz",tooltipDisabledTitle:"StackBlitz not available",href:e,children:p.jsx(bd,{inheritViewBox:!0})})]}),xd=({error:i})=>{const{message:t}=i;return p.jsxs(We,{justifyContent:"center",alignItems:"center",flexGrow:1,textAlign:"center",children:[p.jsx(ut,{variant:"h6",color:"info",children:"An error occurred while rendering this example:"}),p.jsx(ut,{color:"error",fontFamily:"Roboto Mono, monospace",mt:1,children:t})]})},Wt=({children:i,title:t,subTitle:e,sampleConfig:s})=>p.jsxs(Hh,{sx:{minWidth:275,borderRadius:3,height:{xs:480,md:575},display:"flex",flexDirection:"column"},children:[p.jsx(ic,{title:t,subheader:e,action:p.jsx(wd,{sampleConfig:s})}),p.jsx(Qh,{sx:{display:"flex",flexDirection:"column",flexGrow:1},children:p.jsx(md,{fallbackRender:xd,children:i})})]});function lt(i){var t=i.width,e=i.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(e<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:e}}function De(i,t){return i.width===t.width&&i.height===t.height}var yd=function(){function i(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return i.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(i.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),i.prototype.subscribe=function(t){var e=this,s={next:t};return this._observers.push(s),{unsubscribe:function(){e._observers=e._observers.filter(function(n){return n!==s})}}},i.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},i.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},i.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},i.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},i}();function Sd(i){return new yd(i)}var Cd=function(){function i(t,e,s){var n;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=lt({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=e??function(r){return r},this._allowResizeObserver=(n=s==null?void 0:s.allowResizeObserver)!==null&&n!==void 0?n:!0,this._chooseAndInitObserver()}return i.prototype.dispose=function(){var t,e;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(e=this._devicePixelRatioObservable)===null||e===void 0||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(i.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bitmapSize",{get:function(){return lt({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),i.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=lt(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},i.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},i.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(i.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),i.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},i.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},i.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},i.prototype._resizeBitmap=function(t){var e=this.bitmapSize;De(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},i.prototype._emitBitmapSizeChanged=function(t,e){var s=this;this._bitmapSizeChangedListeners.forEach(function(n){return n.call(s,t,e)})},i.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,s=lt(this._transformBitmapSize(t,this._canvasElementClientSize)),n=De(this.bitmapSize,s)?null:s;e===null&&n===null||e!==null&&n!==null&&De(e,n)||(this._suggestedBitmapSize=n,this._emitSuggestedBitmapSizeChanged(e,n))},i.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var s=this;this._suggestedBitmapSizeChangedListeners.forEach(function(n){return n.call(s,t,e)})},i.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}Pd().then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})},i.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var e=Mr(this._canvasElement);if(e===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=Sd(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},i.prototype._invalidateBitmapSize=function(){var t,e;if(this._canvasElement!==null){var s=Mr(this._canvasElement);if(s!==null){var n=(e=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&e!==void 0?e:s.devicePixelRatio,r=this._canvasElement.getClientRects(),o=r[0]!==void 0?kd(r[0],n):lt({width:this._canvasElementClientSize.width*n,height:this._canvasElementClientSize.height*n});this._suggestNewBitmapSize(o)}}},i.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var s=e.find(function(o){return o.target===t._canvasElement});if(!(!s||!s.devicePixelContentBoxSize||!s.devicePixelContentBoxSize[0])){var n=s.devicePixelContentBoxSize[0],r=lt({width:n.inlineSize,height:n.blockSize});t._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},i}();function Md(i,t){return new Cd(i,t.transform,t.options)}function Mr(i){return i.ownerDocument.defaultView}function Pd(){return new Promise(function(i){var t=new ResizeObserver(function(e){i(e.every(function(s){return"devicePixelContentBoxSize"in s})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function kd(i,t){return lt({width:Math.round(i.left*t+i.width*t)-Math.round(i.left*t),height:Math.round(i.top*t+i.height*t)-Math.round(i.top*t)})}var Rd=function(){function i(t,e,s){if(e.width===0||e.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,s.width===0||s.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=s,this._context=t}return i.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},i.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(i.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),i}();function Ve(i,t){var e=i.canvasElementClientSize;if(e.width===0||e.height===0)return null;var s=i.bitmapSize;if(s.width===0||s.height===0)return null;var n=i.canvasElement.getContext("2d",t);return n===null?null:new Rd(n,e,s)}/*!
 * @license
 * TradingView Lightweight Charts™ v5.0.8
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const fl={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Pr,kr;function Ye(i,t){const e={0:[],1:[i.lineWidth,i.lineWidth],2:[2*i.lineWidth,2*i.lineWidth],3:[6*i.lineWidth,6*i.lineWidth],4:[i.lineWidth,4*i.lineWidth]}[t];i.setLineDash(e)}function ml(i,t,e,s){i.beginPath();const n=i.lineWidth%2?.5:0;i.moveTo(e,t+n),i.lineTo(s,t+n),i.stroke()}function _t(i,t){if(!i)throw new Error("Assertion failed"+(t?": "+t:""))}function jt(i){if(i===void 0)throw new Error("Value is undefined");return i}function M(i){if(i===null)throw new Error("Value is null");return i}function be(i){return M(jt(i))}(function(i){i[i.Simple=0]="Simple",i[i.WithSteps=1]="WithSteps",i[i.Curved=2]="Curved"})(Pr||(Pr={})),function(i){i[i.Solid=0]="Solid",i[i.Dotted=1]="Dotted",i[i.Dashed=2]="Dashed",i[i.LargeDashed=3]="LargeDashed",i[i.SparseDotted=4]="SparseDotted"}(kr||(kr={}));let wt=class{constructor(){this.t=[]}i(t,e,s){const n={h:t,l:e,o:s===!0};this.t.push(n)}_(t){const e=this.t.findIndex(s=>t===s.h);e>-1&&this.t.splice(e,1)}u(t){this.t=this.t.filter(e=>e.l!==t)}p(t,e,s){const n=[...this.t];this.t=this.t.filter(r=>!r.o),n.forEach(r=>r.h(t,e,s))}v(){return this.t.length>0}m(){this.t=[]}};function Gt(i,...t){for(const e of t)for(const s in e)e[s]!==void 0&&Object.prototype.hasOwnProperty.call(e,s)&&!["__proto__","constructor","prototype"].includes(s)&&(typeof e[s]!="object"||i[s]===void 0||Array.isArray(e[s])?i[s]=e[s]:Gt(i[s],e[s]));return i}function Ae(i){return typeof i=="number"&&isFinite(i)}function Ti(i){return typeof i=="number"&&i%1==0}function Oi(i){return typeof i=="string"}function Ui(i){return typeof i=="boolean"}function de(i){const t=i;if(!t||typeof t!="object")return t;let e,s,n;for(s in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(s)&&(n=t[s],e[s]=n&&typeof n=="object"?de(n):n);return e}function _d(i){return i!==null}function Ii(i){return i===null?void 0:i}const _n="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function ni(i,t,e){return t===void 0&&(t=_n),`${e=e!==void 0?`${e} `:""}${i}px ${t}`}let $d=class{constructor(t){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,I:0,B:0,A:0,L:0},this.O=t}N(){const t=this.M,e=this.F(),s=this.W();return t.P===e&&t.T===s||(t.P=e,t.T=s,t.k=ni(e,s),t.A=2.5/12*e,t.V=t.A,t.I=e/12*t.C,t.B=e/12*t.C,t.L=0),t.R=this.H(),t.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}};function Is(i){return i<0?0:i>255?255:Math.round(i)||0}function Rr(i){return .199*i[0]+.687*i[1]+.114*i[2]}let Ed=class{constructor(t,e){this.q=new Map,this.Y=t,e&&(this.q=e)}j(t,e){if(t==="transparent")return t;const s=this.K(t),n=s[3];return`rgba(${s[0]}, ${s[1]}, ${s[2]}, ${e*n})`}X(t){const e=this.K(t);return{Z:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,G:Rr(e)>160?"black":"white"}}J(t){return Rr(this.K(t))}tt(t,e,s){const[n,r,o,l]=this.K(t),[a,h,c,u]=this.K(e),d=[Is(n+s*(a-n)),Is(r+s*(h-r)),Is(o+s*(c-o)),(f=l+s*(u-l),f<=0||f>1?Math.min(Math.max(f,0),1):Math.round(1e4*f)/1e4)];var f;return`rgba(${d[0]}, ${d[1]}, ${d[2]}, ${d[3]})`}K(t){const e=this.q.get(t);if(e)return e;const s=function(o){const l=document.createElement("div");l.style.display="none",document.body.appendChild(l),l.style.color=o;const a=window.getComputedStyle(l).color;return document.body.removeChild(l),a}(t),n=s.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!n){if(this.Y.length)for(const o of this.Y){const l=o(t);if(l)return this.q.set(t,l),l}throw new Error(`Failed to parse color: ${t}`)}const r=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),n[4]?parseFloat(n[4]):1];return this.q.set(t,r),r}},$n=class{constructor(){this.it=[]}st(t){this.it=t}nt(t,e,s){this.it.forEach(n=>{n.nt(t,e,s)})}},le=class{nt(t,e,s){t.useBitmapCoordinateSpace(n=>this.et(n,e,s))}},Bd=class extends le{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.rt===null||this.rt.lt===null)return;const n=this.rt.lt,r=this.rt,o=Math.max(1,Math.floor(e))%2/2,l=a=>{t.beginPath();for(let h=n.to-1;h>=n.from;--h){const c=r.ot[h],u=Math.round(c._t*e)+o,d=c.ut*s,f=a*s+o;t.moveTo(u,d),t.arc(u,d,f,0,2*Math.PI)}t.fill()};r.ct>0&&(t.fillStyle=r.dt,l(r.ft+r.ct)),t.fillStyle=r.vt,l(r.ft)}};function zd(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const Ld={from:0,to:1};let Td=class{constructor(t,e,s){this.Mt=new $n,this.bt=[],this.St=[],this.xt=!0,this.O=t,this.Ct=e,this.Pt=s,this.Mt.st(this.bt)}kt(t){this.yt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}yt(){const t=this.Pt.Dt();t.length!==this.bt.length&&(this.St=t.map(zd),this.bt=this.St.map(e=>{const s=new Bd;return s.ht(e),s}),this.Mt.st(this.bt))}Rt(){const t=this.Ct.N().mode===2||!this.Ct.Vt(),e=this.Pt.It(),s=this.Ct.Bt(),n=this.O.Et();this.yt(),e.forEach((r,o)=>{const l=this.St[o],a=r.At(s),h=r.zt();!t&&a!==null&&r.Vt()&&h!==null?(l.vt=a.Lt,l.ft=a.ft,l.ct=a.Ot,l.ot[0].gt=a.gt,l.ot[0].ut=r.Ft().Nt(a.gt,h.Wt),l.dt=a.Ht??this.O.Ut(l.ot[0].ut/r.Ft().$t()),l.ot[0].wt=s,l.ot[0]._t=n.qt(s),l.lt=Ld):l.lt=null})}},Id=class extends le{constructor(t){super(),this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(this.Yt===null)return;const r=this.Yt.jt.Vt,o=this.Yt.Kt.Vt;if(!r&&!o)return;const l=Math.round(this.Yt._t*s),a=Math.round(this.Yt.ut*n);t.lineCap="butt",r&&l>=0&&(t.lineWidth=Math.floor(this.Yt.jt.ct*s),t.strokeStyle=this.Yt.jt.R,t.fillStyle=this.Yt.jt.R,Ye(t,this.Yt.jt.Xt),function(h,c,u,d){h.beginPath();const f=h.lineWidth%2?.5:0;h.moveTo(c+f,u),h.lineTo(c+f,d),h.stroke()}(t,l,0,e.height)),o&&a>=0&&(t.lineWidth=Math.floor(this.Yt.Kt.ct*n),t.strokeStyle=this.Yt.Kt.R,t.fillStyle=this.Yt.Kt.R,Ye(t,this.Yt.Kt.Xt),ml(t,a,0,e.width))}},Dd=class{constructor(t,e){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new Id(this.Zt),this.Jt=t,this.Pt=e}kt(){this.xt=!0}Tt(t){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const t=this.Jt.Vt(),e=this.Pt.Qt().N().crosshair,s=this.Zt;if(e.mode===2)return s.Kt.Vt=!1,void(s.jt.Vt=!1);s.Kt.Vt=t&&this.Jt.ti(this.Pt),s.jt.Vt=t&&this.Jt.ii(),s.Kt.ct=e.horzLine.width,s.Kt.Xt=e.horzLine.style,s.Kt.R=e.horzLine.color,s.jt.ct=e.vertLine.width,s.jt.Xt=e.vertLine.style,s.jt.R=e.vertLine.color,s._t=this.Jt.si(),s.ut=this.Jt.ni()}};function Nd(i,t,e,s,n,r){i.fillRect(t+r,e,s-2*r,r),i.fillRect(t+r,e+n-r,s-2*r,r),i.fillRect(t,e,r,n),i.fillRect(t+s-r,e,r,n)}function vs(i,t,e,s,n,r){i.save(),i.globalCompositeOperation="copy",i.fillStyle=r,i.fillRect(t,e,s,n),i.restore()}function _r(i,t,e,s,n,r){i.beginPath(),i.roundRect?i.roundRect(t,e,s,n,r):(i.lineTo(t+s-r[1],e),r[1]!==0&&i.arcTo(t+s,e,t+s,e+r[1],r[1]),i.lineTo(t+s,e+n-r[2]),r[2]!==0&&i.arcTo(t+s,e+n,t+s-r[2],e+n,r[2]),i.lineTo(t+r[3],e+n),r[3]!==0&&i.arcTo(t,e+n,t,e+n-r[3],r[3]),i.lineTo(t,e+r[0]),r[0]!==0&&i.arcTo(t,e,t+r[0],e,r[0]))}function $r(i,t,e,s,n,r,o=0,l=[0,0,0,0],a=""){if(i.save(),!o||!a||a===r)return _r(i,t,e,s,n,l),i.fillStyle=r,i.fill(),void i.restore();const h=o/2;var c;_r(i,t+h,e+h,s-o,n-o,(c=-h,l.map(u=>u===0?u:u+c))),r!=="transparent"&&(i.fillStyle=r,i.fill()),a!=="transparent"&&(i.lineWidth=o,i.strokeStyle=a,i.closePath(),i.stroke()),i.restore()}function gl(i,t,e,s,n,r,o){i.save(),i.globalCompositeOperation="copy";const l=i.createLinearGradient(0,0,0,n);l.addColorStop(0,r),l.addColorStop(1,o),i.fillStyle=l,i.fillRect(t,e,s,n),i.restore()}let Er=class{constructor(t,e){this.ht(t,e)}ht(t,e){this.Yt=t,this.ei=e}$t(t,e){return this.Yt.Vt?t.P+t.A+t.V:0}nt(t,e,s,n){if(!this.Yt.Vt||this.Yt.ri.length===0)return;const r=this.Yt.R,o=this.ei.Z,l=t.useBitmapCoordinateSpace(a=>{const h=a.context;h.font=e.k;const c=this.hi(a,e,s,n),u=c.ai;return c.li?$r(h,u.oi,u._i,u.ui,u.ci,o,u.di,[u.ft,0,0,u.ft],o):$r(h,u.fi,u._i,u.ui,u.ci,o,u.di,[0,u.ft,u.ft,0],o),this.Yt.pi&&(h.fillStyle=r,h.fillRect(u.fi,u.mi,u.wi-u.fi,u.gi)),this.Yt.Mi&&(h.fillStyle=e.D,h.fillRect(c.li?u.bi-u.di:0,u._i,u.di,u.Si-u._i)),c});t.useMediaCoordinateSpace(({context:a})=>{const h=l.xi;a.font=e.k,a.textAlign=l.li?"right":"left",a.textBaseline="middle",a.fillStyle=r,a.fillText(this.Yt.ri,h.Ci,(h._i+h.Si)/2+h.Pi)})}hi(t,e,s,n){const{context:r,bitmapSize:o,mediaSize:l,horizontalPixelRatio:a,verticalPixelRatio:h}=t,c=this.Yt.pi||!this.Yt.ki?e.C:0,u=this.Yt.yi?e.S:0,d=e.A+this.ei.Ti,f=e.V+this.ei.Ri,g=e.I,v=e.B,b=this.Yt.ri,w=e.P,x=s.Di(r,b),S=Math.ceil(s.Vi(r,b)),y=w+d+f,P=e.S+g+v+S+c,k=Math.max(1,Math.floor(h));let B=Math.round(y*h);B%2!=k%2&&(B+=1);const _=u>0?Math.max(1,Math.floor(u*a)):0,I=Math.round(P*a),N=Math.round(c*a),O=this.ei.Ii??this.ei.Bi,T=Math.round(O*h)-Math.floor(.5*h),L=Math.floor(T+k/2-B/2),F=L+B,V=n==="right",W=V?l.width-u:u,G=V?o.width-_:_;let X,$,H;return V?(X=G-I,$=G-N,H=W-c-g-u):(X=G+I,$=G+N,H=W+c+g),{li:V,ai:{_i:L,mi:T,Si:F,ui:I,ci:B,ft:2*a,di:_,oi:X,fi:G,wi:$,gi:k,bi:o.width},xi:{_i:L/h,Si:F/h,Ci:H,Pi:x}}}},bs=class{constructor(t){this.Ei={Bi:0,Z:"#000",Ri:0,Ti:0},this.Ai={ri:"",Vt:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,yi:!1},this.zi={ri:"",Vt:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,yi:!0},this.xt=!0,this.Li=new(t||Er)(this.Ai,this.Ei),this.Oi=new(t||Er)(this.zi,this.Ei)}ri(){return this.Ni(),this.Ai.ri}Bi(){return this.Ni(),this.Ei.Bi}kt(){this.xt=!0}$t(t,e=!1){return Math.max(this.Li.$t(t,e),this.Oi.$t(t,e))}Fi(){return this.Ei.Ii||0}Wi(t){this.Ei.Ii=t}Hi(){return this.Ni(),this.Ai.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ai.Vt}Tt(t){return this.Ni(),this.Ai.pi=this.Ai.pi&&t.N().ticksVisible,this.zi.pi=this.zi.pi&&t.N().ticksVisible,this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Oi}Ni(){this.xt&&(this.Ai.pi=!0,this.zi.pi=!1,this.qi(this.Ai,this.zi,this.Ei))}};class Fd extends bs{constructor(t,e,s){super(),this.Jt=t,this.Yi=e,this.ji=s}qi(t,e,s){if(t.Vt=!1,this.Jt.N().mode===2)return;const n=this.Jt.N().horzLine;if(!n.labelVisible)return;const r=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||r===null)return;const o=this.Yi.Xi().X(n.labelBackgroundColor);s.Z=o.Z,t.R=o.G;const l=2/12*this.Yi.P();s.Ti=l,s.Ri=l;const a=this.ji(this.Yi);s.Bi=a.Bi,t.ri=this.Yi.Zi(a.gt,r),t.Vt=!0}}const jd=/[1-9]/g;class vl{constructor(){this.Yt=null}ht(t){this.Yt=t}nt(t,e){if(this.Yt===null||this.Yt.Vt===!1||this.Yt.ri.length===0)return;const s=t.useMediaCoordinateSpace(({context:d})=>(d.font=e.k,Math.round(e.Gi.Vi(d,M(this.Yt).ri,jd))));if(s<=0)return;const n=e.Ji,r=s+2*n,o=r/2,l=this.Yt.Qi;let a=this.Yt.Bi,h=Math.floor(a-o)+.5;h<0?(a+=Math.abs(0-h),h=Math.floor(a-o)+.5):h+r>l&&(a-=Math.abs(l-(h+r)),h=Math.floor(a-o)+.5);const c=h+r,u=Math.ceil(0+e.S+e.C+e.A+e.P+e.V);t.useBitmapCoordinateSpace(({context:d,horizontalPixelRatio:f,verticalPixelRatio:g})=>{const v=M(this.Yt);d.fillStyle=v.Z;const b=Math.round(h*f),w=Math.round(0*g),x=Math.round(c*f),S=Math.round(u*g),y=Math.round(2*f);if(d.beginPath(),d.moveTo(b,w),d.lineTo(b,S-y),d.arcTo(b,S,b+y,S,y),d.lineTo(x-y,S),d.arcTo(x,S,x,S-y,y),d.lineTo(x,w),d.fill(),v.pi){const P=Math.round(v.Bi*f),k=w,B=Math.round((k+e.C)*g);d.fillStyle=v.R;const _=Math.max(1,Math.floor(f)),I=Math.floor(.5*f);d.fillRect(P-I,k,_,B-k)}}),t.useMediaCoordinateSpace(({context:d})=>{const f=M(this.Yt),g=0+e.S+e.C+e.A+e.P/2;d.font=e.k,d.textAlign="left",d.textBaseline="middle",d.fillStyle=f.R;const v=e.Gi.Di(d,"Apr0");d.translate(h+n,g+v),d.fillText(f.ri,0,0)})}}class Od{constructor(t,e,s){this.xt=!0,this.Gt=new vl,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Bi:NaN,pi:!0},this.Ct=t,this.ts=e,this.ji=s}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const t=this.Zt;if(t.Vt=!1,this.Ct.N().mode===2)return;const e=this.Ct.N().vertLine;if(!e.labelVisible)return;const s=this.ts.Et();if(s.Ki())return;t.Qi=s.Qi();const n=this.ji();if(n===null)return;t.Bi=n.Bi;const r=s.ss(this.Ct.Bt());t.ri=s.ns(M(r)),t.Vt=!0;const o=this.ts.Xi().X(e.labelBackgroundColor);t.Z=o.Z,t.R=o.G,t.pi=s.N().ticksVisible}}class bl{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(t){this.rs=t}Ft(){return this.es}_s(t){this.es=t}us(t){return[]}cs(){return[]}Vt(){return!0}}var Di;(function(i){i[i.Normal=0]="Normal",i[i.Magnet=1]="Magnet",i[i.Hidden=2]="Hidden",i[i.MagnetOHLC=3]="MagnetOHLC"})(Di||(Di={}));class Wd extends bl{constructor(t,e){super(),this.Pt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=t,this.Ps=e,this.ks=((n,r)=>o=>{const l=r(),a=n();if(o===M(this.Pt).ys())return{gt:a,Bi:l};{const h=M(o.zt());return{gt:o.Ts(l,h),Bi:l}}})(()=>this.ds,()=>this.Ss);const s=((n,r)=>()=>{const o=this.ts.Et().Rs(n()),l=r();return o&&Number.isFinite(l)?{wt:o,Bi:l}:null})(()=>this.fs,()=>this.si());this.Ds=new Od(this,t,s)}N(){return this.Ps}Vs(t,e){this.xs=t,this.Cs=e}Is(){this.xs=NaN,this.Cs=NaN}Bs(){return this.xs}Es(){return this.Cs}As(t,e,s){this.ws||(this.ws=!0),this.ps=!0,this.zs(t,e,s)}Bt(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.Pt=null,this.Is(),this.Ns()}Fs(t){let e=this.gs.get(t);e||(e=new Dd(this,t),this.gs.set(t,e));let s=this.Ms.get(t);return s||(s=new Td(this.ts,this,t),this.Ms.set(t,s)),[e,s]}ti(t){return t===this.Pt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ws(t,e){this.ps&&this.Pt===t||this.vs.clear();const s=[];return this.Pt===t&&s.push(this.Hs(this.vs,e,this.ks)),s}cs(){return this.ps?[this.Ds]:[]}Us(){return this.Pt}Ns(){this.ts.$s().forEach(t=>{var e,s;(e=this.gs.get(t))==null||e.kt(),(s=this.Ms.get(t))==null||s.kt()}),this.vs.forEach(t=>t.kt()),this.Ds.kt()}qs(t){return t&&!t.ys().Ki()?t.ys():null}zs(t,e,s){this.Ys(t,e,s)&&this.Ns()}Ys(t,e,s){const n=this.bs,r=this.Ss,o=this.ds,l=this.fs,a=this.Pt,h=this.qs(s);this.fs=t,this.bs=isNaN(t)?NaN:this.ts.Et().qt(t),this.Pt=s;const c=h!==null?h.zt():null;return h!==null&&c!==null?(this.ds=e,this.Ss=h.Nt(e,c)):(this.ds=NaN,this.Ss=NaN),n!==this.bs||r!==this.Ss||l!==this.fs||o!==this.ds||a!==this.Pt}Os(){const t=this.ts.js().map(s=>s.Xs().Ks()).filter(_d),e=t.length===0?null:Math.max(...t);this.fs=e!==null?e:NaN}Hs(t,e,s){let n=t.get(e);return n===void 0&&(n=new Fd(this,e,s),t.set(e,n)),n}}function ws(i){return i==="left"||i==="right"}class Rt{constructor(t){this.Zs=new Map,this.Gs=[],this.Js=t}Qs(t,e){const s=function(n,r){return n===void 0?r:{tn:Math.max(n.tn,r.tn),sn:n.sn||r.sn}}(this.Zs.get(t),e);this.Zs.set(t,s)}nn(){return this.Js}en(t){const e=this.Zs.get(t);return e===void 0?{tn:this.Js}:{tn:Math.max(this.Js,e.tn),sn:e.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(t){this.hn(),this.Gs=[{an:1,Wt:t}]}_n(t){this.un(),this.Gs.push({an:5,Wt:t})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(t){this.hn(),this.Gs.push({an:2,Wt:t})}fn(t){this.hn(),this.Gs.push({an:3,Wt:t})}pn(){return this.Gs}vn(t){for(const e of t.Gs)this.mn(e);this.Js=Math.max(this.Js,t.Js),t.Zs.forEach((e,s)=>{this.Qs(s,e)})}static wn(){return new Rt(2)}static gn(){return new Rt(3)}mn(t){switch(t.an){case 0:this.rn();break;case 1:this.ln(t.Wt);break;case 2:this.dn(t.Wt);break;case 3:this.fn(t.Wt);break;case 4:this.cn();break;case 5:this._n(t.Wt);break;case 6:this.un()}}un(){const t=this.Gs.findIndex(e=>e.an===5);t!==-1&&this.Gs.splice(t,1)}}class wl{formatTickmarks(t){return t.map(e=>this.format(e))}}const Br=".";function pe(i,t){if(!Ae(i))return"n/a";if(!Ti(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?i.toString():("0000000000000000"+i.toString()).slice(-t)}class xs extends wl{constructor(t,e){if(super(),e||(e=1),Ae(t)&&Ti(t)||(t=100),t<0)throw new TypeError("invalid base");this.Yi=t,this.Mn=e,this.bn()}format(t){const e=t<0?"−":"";return t=Math.abs(t),e+this.Sn(t)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let t=this.Yi;for(;t>1;)t/=10,this.xn++}}Sn(t){const e=this.Yi/this.Mn;let s=Math.floor(t),n="";const r=this.xn!==void 0?this.xn:NaN;if(e>1){let o=+(Math.round(t*e)-s*e).toFixed(this.xn);o>=e&&(o-=e,s+=1),n=Br+pe(+o.toFixed(this.xn)*this.Mn,r)}else s=Math.round(s*e)/e,r>0&&(n=Br+pe(0,r));return s.toFixed(0)+n}}class xl extends xs{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class Vd extends wl{constructor(t){super(),this.Cn=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.Pn(t):t<999995?e+this.Pn(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.Pn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.Pn(t/1e9)+"B")}Pn(t){let e;const s=Math.pow(10,this.Cn);return e=(t=Math.round(t*s)/s)>=1e-15&&t<1?t.toFixed(this.Cn).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(n,r)=>r)}}const Yd=/[2-9]/g;class Ni{constructor(t=50){this.kn=0,this.yn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=t}In(){this.kn=0,this.Dn.clear(),this.yn=1,this.Tn=1,this.Rn={}}Vi(t,e,s){return this.Bn(t,e,s).width}Di(t,e,s){const n=this.Bn(t,e,s);return((n.actualBoundingBoxAscent||0)-(n.actualBoundingBoxDescent||0))/2}Bn(t,e,s){const n=s||Yd,r=String(e).replace(n,"0");if(this.Dn.has(r))return jt(this.Dn.get(r)).En;if(this.kn===this.Vn){const l=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(l),this.Tn++,this.kn--}t.save(),t.textBaseline="middle";const o=t.measureText(r);return t.restore(),o.width===0&&e.length||(this.Dn.set(r,{En:o,An:this.yn}),this.Rn[this.yn]=r,this.kn++,this.yn++),o}}class Ad{constructor(t){this.zn=null,this.M=null,this.Ln="right",this.On=t}Nn(t,e,s){this.zn=t,this.M=e,this.Ln=s}nt(t){this.M!==null&&this.zn!==null&&this.zn.nt(t,this.M,this.On,this.Ln)}}class yl{constructor(t,e,s){this.Fn=t,this.On=new Ni(50),this.Wn=e,this.O=s,this.F=-1,this.Gt=new Ad(this.On)}Tt(){const t=this.O.Hn(this.Wn);if(t===null)return null;const e=t.Un(this.Wn)?t.$n():this.Wn.Ft();if(e===null)return null;const s=t.qn(e);if(s==="overlay")return null;const n=this.O.Yn();return n.P!==this.F&&(this.F=n.P,this.On.In()),this.Gt.Nn(this.Fn.$i(),n,s),this.Gt}}class Hd extends le{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}jn(t,e){var o;if(!((o=this.Yt)!=null&&o.Vt))return null;const{ut:s,ct:n,Kn:r}=this.Yt;return e>=s-n-7&&e<=s+n+7?{Xn:this.Yt,Kn:r}:null}et({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(this.Yt===null||this.Yt.Vt===!1)return;const r=Math.round(this.Yt.ut*n);r<0||r>e.height||(t.lineCap="butt",t.strokeStyle=this.Yt.R,t.lineWidth=Math.floor(this.Yt.ct*s),Ye(t,this.Yt.Xt),ml(t,r,0,e.width))}}class En{constructor(t){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new Hd,this.xt=!0,this.Jn=t,this.Qn=t.Qt(),this.Gn.ht(this.Zn)}kt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class Ud extends En{constructor(t){super(t)}te(){this.Zn.Vt=!1;const t=this.Jn.Ft(),e=t.ie().ie;if(e!==2&&e!==3)return;const s=this.Jn.N();if(!s.baseLineVisible||!this.Jn.Vt())return;const n=this.Jn.zt();n!==null&&(this.Zn.Vt=!0,this.Zn.ut=t.Nt(n.Wt,n.Wt),this.Zn.R=s.baseLineColor,this.Zn.ct=s.baseLineWidth,this.Zn.Xt=s.baseLineStyle)}}class Gd extends le{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}se(){return this.Yt}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){const n=this.Yt;if(n===null)return;const r=Math.max(1,Math.floor(e)),o=r%2/2,l=Math.round(n.ne.x*e)+o,a=n.ne.y*s;t.fillStyle=n.ee,t.beginPath();const h=Math.max(2,1.5*n.re)*e;t.arc(l,a,h,0,2*Math.PI,!1),t.fill(),t.fillStyle=n.he,t.beginPath(),t.arc(l,a,n.ft*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=r,t.strokeStyle=n.ae,t.beginPath(),t.arc(l,a,n.ft*e+r/2,0,2*Math.PI,!1),t.stroke()}}const Xd=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class Qd{constructor(t){this.Gt=new Gd,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=t}Me(){this.we=this.me-1,this.kt()}be(){if(this.kt(),this.ge.N().lastPriceAnimation===2){const t=performance.now(),e=this.we-t;if(e>0)return void(e<650&&(this.we+=2600));this.me=t,this.we=t+2600}}kt(){this.xt=!0}Se(){this.ve=!0}Vt(){return this.ge.N().lastPriceAnimation!==0}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const t=this.ge.Qt().Et(),e=t.Pe(),s=this.ge.zt();if(e===null||s===null)return;const n=this.ge.ke(!0);if(n.ye||!e.Te(n.Re))return;const r={x:t.qt(n.Re),y:this.ge.Ft().Nt(n.gt,s.Wt)},o=n.R,l=this.ge.N().lineWidth,a=this.De(this.Ve(),o);this.Gt.ht({ee:o,re:l,he:a.he,ae:a.ae,ft:a.ft,ne:r})}Ce(){const t=this.Gt.se();if(t!==null){const e=this.De(this.Ve(),t.ee);t.he=e.he,t.ae=e.ae,t.ft=e.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Ie(t,e,s,n){const r=s+(n-s)*e;return this.ge.Qt().Xi().j(t,r)}De(t,e){const s=t%2600/2600;let n;for(const h of Xd)if(s>=h.le&&s<=h.oe){n=h;break}_t(n!==void 0,"Last price animation internal logic error");const r=(s-n.le)/(n.oe-n.le);return{he:this.Ie(e,r,n.ce,n.de),ae:this.Ie(e,r,n.fe,n.pe),ft:(o=r,l=n._e,a=n.ue,l+(a-l)*o)};var o,l,a}}class Kd extends En{constructor(t){super(t)}te(){const t=this.Zn;t.Vt=!1;const e=this.Jn.N();if(!e.priceLineVisible||!this.Jn.Vt())return;const s=this.Jn.ke(e.priceLineSource===0);s.ye||(t.Vt=!0,t.ut=s.Bi,t.R=this.Jn.Be(s.R),t.ct=e.priceLineWidth,t.Xt=e.priceLineStyle)}}class qd extends bs{constructor(t){super(),this.Jt=t}qi(t,e,s){t.Vt=!1,e.Vt=!1;const n=this.Jt;if(!n.Vt())return;const r=n.N(),o=r.lastValueVisible,l=n.Ee()!=="",a=r.seriesLastValueMode===0,h=n.ke(!1);if(h.ye)return;o&&(t.ri=this.Ae(h,o,a),t.Vt=t.ri.length!==0),(l||a)&&(e.ri=this.ze(h,o,l,a),e.Vt=e.ri.length>0);const c=n.Be(h.R),u=this.Jt.Qt().Xi().X(c);s.Z=u.Z,s.Bi=h.Bi,e.Ht=n.Qt().Ut(h.Bi/n.Ft().$t()),t.Ht=c,t.R=u.G,e.R=u.G}ze(t,e,s,n){let r="";const o=this.Jt.Ee();return s&&o.length!==0&&(r+=`${o} `),e&&n&&(r+=this.Jt.Ft().Le()?t.Oe:t.Ne),r.trim()}Ae(t,e,s){return e?s?this.Jt.Ft().Le()?t.Ne:t.Oe:t.ri:""}}function zr(i,t,e,s){const n=Number.isFinite(t),r=Number.isFinite(e);return n&&r?i(t,e):n||r?n?t:e:s}class Tt{constructor(t,e){this.Fe=t,this.We=e}He(t){return t!==null&&this.Fe===t.Fe&&this.We===t.We}Ue(){return new Tt(this.Fe,this.We)}$e(){return this.Fe}qe(){return this.We}Ye(){return this.We-this.Fe}Ki(){return this.We===this.Fe||Number.isNaN(this.We)||Number.isNaN(this.Fe)}vn(t){return t===null?this:new Tt(zr(Math.min,this.$e(),t.$e(),-1/0),zr(Math.max,this.qe(),t.qe(),1/0))}je(t){if(!Ae(t)||this.We-this.Fe===0)return;const e=.5*(this.We+this.Fe);let s=this.We-e,n=this.Fe-e;s*=t,n*=t,this.We=e+s,this.Fe=e+n}Ke(t){Ae(t)&&(this.We+=t,this.Fe+=t)}Xe(){return{minValue:this.Fe,maxValue:this.We}}static Ze(t){return t===null?null:new Tt(t.minValue,t.maxValue)}}class ls{constructor(t,e){this.Ge=t,this.Je=e||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:this.Ge===null?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(t){return t===null?null:new ls(Tt.Ze(t.priceRange),t.margins)}}class Zd extends En{constructor(t,e){super(t),this.ir=e}te(){const t=this.Zn;t.Vt=!1;const e=this.ir.N();if(!this.Jn.Vt()||!e.lineVisible)return;const s=this.ir.sr();s!==null&&(t.Vt=!0,t.ut=s,t.R=e.color,t.ct=e.lineWidth,t.Xt=e.lineStyle,t.Kn=this.ir.N().id)}}class Jd extends bs{constructor(t,e){super(),this.ge=t,this.ir=e}qi(t,e,s){t.Vt=!1,e.Vt=!1;const n=this.ir.N(),r=n.axisLabelVisible,o=n.title!=="",l=this.ge;if(!r||!l.Vt())return;const a=this.ir.sr();if(a===null)return;o&&(e.ri=n.title,e.Vt=!0),e.Ht=l.Qt().Ut(a/l.Ft().$t()),t.ri=this.nr(n.price),t.Vt=!0;const h=this.ge.Qt().Xi().X(n.axisLabelColor||n.color);s.Z=h.Z;const c=n.axisLabelTextColor||h.G;t.R=c,e.R=c,s.Bi=a}nr(t){const e=this.ge.zt();return e===null?"":this.ge.Ft().Zi(t,e.Wt)}}class tp{constructor(t,e){this.ge=t,this.Ps=e,this.er=new Zd(t,this),this.Fn=new Jd(t,this),this.rr=new yl(this.Fn,t,t.Qt())}hr(t){Gt(this.Ps,t),this.kt(),this.ge.Qt().ar()}N(){return this.Ps}lr(){return this.er}_r(){return this.rr}ur(){return this.Fn}kt(){this.er.kt(),this.Fn.kt()}sr(){const t=this.ge,e=t.Ft();if(t.Qt().Et().Ki()||e.Ki())return null;const s=t.zt();return s===null?null:e.Nt(this.Ps.price,s.Wt)}}class ep extends bl{constructor(t){super(),this.ts=t}Qt(){return this.ts}}const ip={Bar:(i,t,e,s)=>{const n=t.upColor,r=t.downColor,o=M(i(e,s)),l=be(o.Wt[0])<=be(o.Wt[3]);return{cr:o.R??(l?n:r)}},Candlestick:(i,t,e,s)=>{const n=t.upColor,r=t.downColor,o=t.borderUpColor,l=t.borderDownColor,a=t.wickUpColor,h=t.wickDownColor,c=M(i(e,s)),u=be(c.Wt[0])<=be(c.Wt[3]);return{cr:c.R??(u?n:r),dr:c.Ht??(u?o:l),pr:c.vr??(u?a:h)}},Custom:(i,t,e,s)=>({cr:M(i(e,s)).R??t.color}),Area:(i,t,e,s)=>{const n=M(i(e,s));return{cr:n.vt??t.lineColor,vt:n.vt??t.lineColor,mr:n.mr??t.topColor,wr:n.wr??t.bottomColor}},Baseline:(i,t,e,s)=>{const n=M(i(e,s));return{cr:n.Wt[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,gr:n.gr??t.topLineColor,Mr:n.Mr??t.bottomLineColor,br:n.br??t.topFillColor1,Sr:n.Sr??t.topFillColor2,Cr:n.Cr??t.bottomFillColor1,Pr:n.Pr??t.bottomFillColor2}},Line:(i,t,e,s)=>{const n=M(i(e,s));return{cr:n.R??t.color,vt:n.R??t.color}},Histogram:(i,t,e,s)=>({cr:M(i(e,s)).R??t.color})};class sp{constructor(t){this.kr=(e,s)=>s!==void 0?s.Wt:this.ge.Xs().yr(e),this.ge=t,this.Tr=ip[t.Rr()]}Dr(t,e){return this.Tr(this.kr,this.ge.N(),t,e)}}function Sl(i,t,e,s,n=0,r=t.length){let o=r-n;for(;0<o;){const l=o>>1,a=n+l;s(t[a],e)===i?(n=a+1,o-=l+1):o=l}return n}const ri=Sl.bind(null,!0),Cl=Sl.bind(null,!1);var Lr;(function(i){i[i.NearestLeft=-1]="NearestLeft",i[i.None=0]="None",i[i.NearestRight=1]="NearestRight"})(Lr||(Lr={}));const ge=30;class np{constructor(){this.Vr=[],this.Ir=new Map,this.Br=new Map,this.Er=[]}Ar(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return this.zr()===0}Te(t){return this.Nr(t,0)!==null}yr(t){return this.Fr(t)}Fr(t,e=0){const s=this.Nr(t,e);return s===null?null:{...this.Wr(s),Re:this.Or(s)}}Hr(){return this.Vr}Ur(t,e,s){if(this.Ki())return null;let n=null;for(const r of s)n=Gi(n,this.$r(t,e,r));return n}ht(t){this.Br.clear(),this.Ir.clear(),this.Vr=t,this.Er=t.map(e=>e.Re)}qr(){return this.Er}Or(t){return this.Vr[t].Re}Wr(t){return this.Vr[t]}Nr(t,e){const s=this.Yr(t);if(s===null&&e!==0)switch(e){case-1:return this.jr(t);case 1:return this.Kr(t);default:throw new TypeError("Unknown search mode")}return s}jr(t){let e=this.Xr(t);return e>0&&(e-=1),e!==this.Vr.length&&this.Or(e)<t?e:null}Kr(t){const e=this.Zr(t);return e!==this.Vr.length&&t<this.Or(e)?e:null}Yr(t){const e=this.Xr(t);return e===this.Vr.length||t<this.Vr[e].Re?null:e}Xr(t){return ri(this.Vr,t,(e,s)=>e.Re<s)}Zr(t){return Cl(this.Vr,t,(e,s)=>e.Re>s)}Gr(t,e,s){let n=null;for(let r=t;r<e;r++){const o=this.Vr[r].Wt[s];Number.isNaN(o)||(n===null?n={Jr:o,Qr:o}:(o<n.Jr&&(n.Jr=o),o>n.Qr&&(n.Qr=o)))}return n}$r(t,e,s){if(this.Ki())return null;let n=null;const r=M(this.Lr()),o=M(this.Ks()),l=Math.max(t,r),a=Math.min(e,o),h=Math.ceil(l/ge)*ge,c=Math.max(h,Math.floor(a/ge)*ge);{const d=this.Xr(l),f=this.Zr(Math.min(a,h,e));n=Gi(n,this.Gr(d,f,s))}let u=this.Ir.get(s);u===void 0&&(u=new Map,this.Ir.set(s,u));for(let d=Math.max(h+1,l);d<c;d+=ge){const f=Math.floor(d/ge);let g=u.get(f);if(g===void 0){const v=this.Xr(f*ge),b=this.Zr((f+1)*ge-1);g=this.Gr(v,b,s),u.set(f,g)}n=Gi(n,g)}{const d=this.Xr(c),f=this.Zr(a);n=Gi(n,this.Gr(d,f,s))}return n}}function Gi(i,t){return i===null?t:t===null?i:{Jr:Math.min(i.Jr,t.Jr),Qr:Math.max(i.Qr,t.Qr)}}class rp{constructor(t){this.th=t}nt(t,e,s){this.th.draw(t)}ih(t,e,s){var n,r;(r=(n=this.th).drawBackground)==null||r.call(n,t)}}class op{constructor(t){this.Dn=null,this.sh=t}Tt(){var s;const t=this.sh.renderer();if(t===null)return null;if(((s=this.Dn)==null?void 0:s.nh)===t)return this.Dn.eh;const e=new rp(t);return this.Dn={nh:t,eh:e},e}rh(){var t,e;return((e=(t=this.sh).zOrder)==null?void 0:e.call(t))??"normal"}}class Ml{constructor(t){this.hh=null,this.ah=t}oh(){return this.ah}Ns(){var t,e;(e=(t=this.ah).updateAllViews)==null||e.call(t)}Fs(){var s,n,r;const t=((n=(s=this.ah).paneViews)==null?void 0:n.call(s))??[];if(((r=this.hh)==null?void 0:r.nh)===t)return this.hh.eh;const e=t.map(o=>new op(o));return this.hh={nh:t,eh:e},e}jn(t,e){var s,n;return((n=(s=this.ah).hitTest)==null?void 0:n.call(s,t,e))??null}}let lp=class extends Ml{us(){return[]}};class ap{constructor(t){this.th=t}nt(t,e,s){this.th.draw(t)}ih(t,e,s){var n,r;(r=(n=this.th).drawBackground)==null||r.call(n,t)}}class Tr{constructor(t){this.Dn=null,this.sh=t}Tt(){var s;const t=this.sh.renderer();if(t===null)return null;if(((s=this.Dn)==null?void 0:s.nh)===t)return this.Dn.eh;const e=new ap(t);return this.Dn={nh:t,eh:e},e}rh(){var t,e;return((e=(t=this.sh).zOrder)==null?void 0:e.call(t))??"normal"}}function Pl(i){var t,e,s;return{ri:i.text(),Bi:i.coordinate(),Ii:(t=i.fixedCoordinate)==null?void 0:t.call(i),R:i.textColor(),Z:i.backColor(),Vt:((e=i.visible)==null?void 0:e.call(i))??!0,pi:((s=i.tickVisible)==null?void 0:s.call(i))??!0}}class hp{constructor(t,e){this.Gt=new vl,this._h=t,this.uh=e}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...Pl(this._h)}),this.Gt}}class cp extends bs{constructor(t,e){super(),this._h=t,this.Yi=e}qi(t,e,s){const n=Pl(this._h);s.Z=n.Z,t.R=n.R;const r=2/12*this.Yi.P();s.Ti=r,s.Ri=r,s.Bi=n.Bi,s.Ii=n.Ii,t.ri=n.ri,t.Vt=n.Vt,t.pi=n.pi}}class up extends Ml{constructor(t,e){super(t),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=e}cs(){var n,r,o;const t=((r=(n=this.ah).timeAxisViews)==null?void 0:r.call(n))??[];if(((o=this.dh)==null?void 0:o.nh)===t)return this.dh.eh;const e=this.ge.Qt().Et(),s=t.map(l=>new hp(l,e));return this.dh={nh:t,eh:s},s}Ws(){var n,r,o;const t=((r=(n=this.ah).priceAxisViews)==null?void 0:r.call(n))??[];if(((o=this.fh)==null?void 0:o.nh)===t)return this.fh.eh;const e=this.ge.Ft(),s=t.map(l=>new cp(l,e));return this.fh={nh:t,eh:s},s}wh(){var s,n,r;const t=((n=(s=this.ah).priceAxisPaneViews)==null?void 0:n.call(s))??[];if(((r=this.ph)==null?void 0:r.nh)===t)return this.ph.eh;const e=t.map(o=>new Tr(o));return this.ph={nh:t,eh:e},e}gh(){var s,n,r;const t=((n=(s=this.ah).timeAxisPaneViews)==null?void 0:n.call(s))??[];if(((r=this.mh)==null?void 0:r.nh)===t)return this.mh.eh;const e=t.map(o=>new Tr(o));return this.mh={nh:t,eh:e},e}Mh(t,e){var s,n;return((n=(s=this.ah).autoscaleInfo)==null?void 0:n.call(s,t,e))??null}}function Ds(i,t,e,s){i.forEach(n=>{t(n).forEach(r=>{r.rh()===e&&s.push(r)})})}function Ns(i){return i.Fs()}function dp(i){return i.wh()}function pp(i){return i.gh()}const fp=["Area","Line","Baseline"];class ys extends ep{constructor(t,e,s,n,r){super(t),this.Yt=new np,this.er=new Kd(this),this.bh=[],this.Sh=new Ud(this),this.xh=null,this.Ch=null,this.Ph=null,this.kh=[],this.Ps=s,this.yh=e;const o=new qd(this);this.vs=[o],this.rr=new yl(o,this,t),fp.includes(this.yh)&&(this.xh=new Qd(this)),this.Th(),this.sh=n(this,this.Qt(),r)}m(){this.Ph!==null&&clearTimeout(this.Ph)}Be(t){return this.Ps.priceLineColor||t}ke(t){const e={ye:!0},s=this.Ft();if(this.Qt().Et().Ki()||s.Ki()||this.Yt.Ki())return e;const n=this.Qt().Et().Pe(),r=this.zt();if(n===null||r===null)return e;let o,l;if(t){const u=this.Yt.Ar();if(u===null)return e;o=u,l=u.Re}else{const u=this.Yt.Fr(n.bi(),-1);if(u===null||(o=this.Yt.yr(u.Re),o===null))return e;l=u.Re}const a=o.Wt[3],h=this.Rh().Dr(l,{Wt:o}),c=s.Nt(a,r.Wt);return{ye:!1,gt:a,ri:s.Zi(a,r.Wt),Oe:s.Dh(a),Ne:s.Vh(a,r.Wt),R:h.cr,Bi:c,Re:l}}Rh(){return this.Ch!==null||(this.Ch=new sp(this)),this.Ch}N(){return this.Ps}hr(t){const e=t.priceScaleId;e!==void 0&&e!==this.Ps.priceScaleId&&this.Qt().Ih(this,e),Gt(this.Ps,t),t.priceFormat!==void 0&&(this.Th(),this.Qt().Bh()),this.Qt().Eh(this),this.Qt().Ah(),this.sh.kt("options")}ht(t,e){this.Yt.ht(t),this.sh.kt("data"),this.xh!==null&&(e&&e.zh?this.xh.be():t.length===0&&this.xh.Me());const s=this.Qt().Hn(this);this.Qt().Lh(s),this.Qt().Eh(this),this.Qt().Ah(),this.Qt().ar()}Oh(t){const e=new tp(this,t);return this.bh.push(e),this.Qt().Eh(this),e}Nh(t){const e=this.bh.indexOf(t);e!==-1&&this.bh.splice(e,1),this.Qt().Eh(this)}Fh(){return this.bh}Rr(){return this.yh}zt(){const t=this.Wh();return t===null?null:{Wt:t.Wt[3],Hh:t.wt}}Wh(){const t=this.Qt().Et().Pe();if(t===null)return null;const e=t.Uh();return this.Yt.Fr(e,1)}Xs(){return this.Yt}$h(t){const e=this.Yt.yr(t);return e===null?null:this.yh==="Bar"||this.yh==="Candlestick"||this.yh==="Custom"?{qh:e.Wt[0],Yh:e.Wt[1],jh:e.Wt[2],Kh:e.Wt[3]}:e.Wt[3]}Xh(t){const e=[];Ds(this.kh,Ns,"top",e);const s=this.xh;return s!==null&&s.Vt()&&(this.Ph===null&&s.xe()&&(this.Ph=setTimeout(()=>{this.Ph=null,this.Qt().Zh()},0)),s.Se(),e.unshift(s)),e}Fs(){const t=[];this.Gh()||t.push(this.Sh),t.push(this.sh,this.er);const e=this.bh.map(s=>s.lr());return t.push(...e),Ds(this.kh,Ns,"normal",t),t}Jh(){return this.Qh(Ns,"bottom")}ta(t){return this.Qh(dp,t)}ia(t){return this.Qh(pp,t)}sa(t,e){return this.kh.map(s=>s.jn(t,e)).filter(s=>s!==null)}us(){return[this.rr,...this.bh.map(t=>t._r())]}Ws(t,e){if(e!==this.es&&!this.Gh())return[];const s=[...this.vs];for(const n of this.bh)s.push(n.ur());return this.kh.forEach(n=>{s.push(...n.Ws())}),s}cs(){const t=[];return this.kh.forEach(e=>{t.push(...e.cs())}),t}Mh(t,e){if(this.Ps.autoscaleInfoProvider!==void 0){const s=this.Ps.autoscaleInfoProvider(()=>{const n=this.na(t,e);return n===null?null:n.Xe()});return ls.Ze(s)}return this.na(t,e)}ea(){return this.Ps.priceFormat.minMove}ra(){return this.ha}Ns(){var t;this.sh.kt();for(const e of this.vs)e.kt();for(const e of this.bh)e.kt();this.er.kt(),this.Sh.kt(),(t=this.xh)==null||t.kt(),this.kh.forEach(e=>e.Ns())}Ft(){return M(super.Ft())}At(t){if(!((this.yh==="Line"||this.yh==="Area"||this.yh==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const e=this.Yt.yr(t);return e===null?null:{gt:e.Wt[3],ft:this.aa(),Ht:this.la(),Ot:this.oa(),Lt:this._a(t)}}Ee(){return this.Ps.title}Vt(){return this.Ps.visible}ua(t){this.kh.push(new up(t,this))}ca(t){this.kh=this.kh.filter(e=>e.oh()!==t)}da(){if(this.yh==="Custom")return t=>this.sh.fa(t)}pa(){if(this.yh==="Custom")return t=>this.sh.va(t)}ma(){return this.Yt.qr()}Gh(){return!ws(this.Ft().wa())}na(t,e){if(!Ti(t)||!Ti(e)||this.Yt.Ki())return null;const s=this.yh==="Line"||this.yh==="Area"||this.yh==="Baseline"||this.yh==="Histogram"?[3]:[2,1],n=this.Yt.Ur(t,e,s);let r=n!==null?new Tt(n.Jr,n.Qr):null,o=null;if(this.Rr()==="Histogram"){const l=this.Ps.base,a=new Tt(l,l);r=r!==null?r.vn(a):a}return this.kh.forEach(l=>{const a=l.Mh(t,e);if(a!=null&&a.priceRange){const h=new Tt(a.priceRange.minValue,a.priceRange.maxValue);r=r!==null?r.vn(h):h}a!=null&&a.margins&&(o=a.margins)}),new ls(r,o)}aa(){switch(this.yh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}la(){switch(this.yh){case"Line":case"Area":case"Baseline":{const t=this.Ps.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}oa(){switch(this.yh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}_a(t){switch(this.yh){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBackgroundColor;if(e.length!==0)return e}}return this.Rh().Dr(t).cr}Th(){switch(this.Ps.priceFormat.type){case"custom":{const t=this.Ps.priceFormat.formatter;this.ha={format:t,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(e=>e.map(t))};break}case"volume":this.ha=new Vd(this.Ps.priceFormat.precision);break;case"percent":this.ha=new xl(this.Ps.priceFormat.precision);break;default:{const t=Math.pow(10,this.Ps.priceFormat.precision);this.ha=new xs(t,this.Ps.priceFormat.minMove*t)}}this.es!==null&&this.es.ga()}Qh(t,e){const s=[];return Ds(this.kh,t,e,s),s}}const mp=[3],gp=[0,1,2,3];class vp{constructor(t){this.Ps=t}Ma(t,e,s){let n=t;if(this.Ps.mode===0)return n;const r=s.ys(),o=r.zt();if(o===null)return n;const l=r.Nt(t,o),a=s.ba().filter(c=>c instanceof ys).reduce((c,u)=>{if(s.Un(u)||!u.Vt())return c;const d=u.Ft(),f=u.Xs();if(d.Ki()||!f.Te(e))return c;const g=f.yr(e);if(g===null)return c;const v=be(u.zt()),b=this.Ps.mode===3?gp:mp;return c.concat(b.map(w=>d.Nt(g.Wt[w],v.Wt)))},[]);if(a.length===0)return n;a.sort((c,u)=>Math.abs(c-l)-Math.abs(u-l));const h=a[0];return n=r.Ts(h,o),n}}function ti(i,t,e){return Math.min(Math.max(i,t),e)}function Xi(i,t,e){return t-i<=e}function Bn(i){const t=Math.ceil(i);return t%2==0?t-1:t}class bp extends le{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(this.Yt===null)return;const r=Math.max(1,Math.floor(s));t.lineWidth=r,function(o,l){o.save(),o.lineWidth%2&&o.translate(.5,.5),l(),o.restore()}(t,()=>{const o=M(this.Yt);if(o.Sa){t.strokeStyle=o.xa,Ye(t,o.Ca),t.beginPath();for(const l of o.Pa){const a=Math.round(l.ka*s);t.moveTo(a,-r),t.lineTo(a,e.height+r)}t.stroke()}if(o.ya){t.strokeStyle=o.Ta,Ye(t,o.Ra),t.beginPath();for(const l of o.Da){const a=Math.round(l.ka*n);t.moveTo(-r,a),t.lineTo(e.width+r,a)}t.stroke()}})}}class wp{constructor(t){this.Gt=new bp,this.xt=!0,this.Pt=t}kt(){this.xt=!0}Tt(){if(this.xt){const t=this.Pt.Qt().N().grid,e={ya:t.horzLines.visible,Sa:t.vertLines.visible,Ta:t.horzLines.color,xa:t.vertLines.color,Ra:t.horzLines.style,Ca:t.vertLines.style,Da:this.Pt.ys().Va(),Pa:(this.Pt.Qt().Et().Va()||[]).map(s=>({ka:s.coord}))};this.Gt.ht(e),this.xt=!1}return this.Gt}}class xp{constructor(t){this.sh=new wp(t)}lr(){return this.sh}}const Fs={Ia:4,Ba:1e-4};function Ke(i,t){const e=100*(i-t)/t;return t<0?-e:e}function yp(i,t){const e=Ke(i.$e(),t),s=Ke(i.qe(),t);return new Tt(e,s)}function Ri(i,t){const e=100*(i-t)/t+100;return t<0?-e:e}function Sp(i,t){const e=Ri(i.$e(),t),s=Ri(i.qe(),t);return new Tt(e,s)}function as(i,t){const e=Math.abs(i);if(e<1e-15)return 0;const s=Math.log10(e+t.Ba)+t.Ia;return i<0?-s:s}function _i(i,t){const e=Math.abs(i);if(e<1e-15)return 0;const s=Math.pow(10,e-t.Ia)-t.Ba;return i<0?-s:s}function wi(i,t){if(i===null)return null;const e=as(i.$e(),t),s=as(i.qe(),t);return new Tt(e,s)}function Ci(i,t){if(i===null)return null;const e=_i(i.$e(),t),s=_i(i.qe(),t);return new Tt(e,s)}function js(i){if(i===null)return Fs;const t=Math.abs(i.qe()-i.$e());if(t>=1||t<1e-15)return Fs;const e=Math.ceil(Math.abs(Math.log10(t))),s=Fs.Ia+e;return{Ia:s,Ba:1/Math.pow(10,s)}}class Os{constructor(t,e){if(this.Ea=t,this.Aa=e,function(s){if(s<0)return!1;for(let n=s;n>1;n/=10)if(n%10!=0)return!1;return!0}(this.Ea))this.za=[2,2.5,2];else{this.za=[];for(let s=this.Ea;s!==1;){if(s%2==0)this.za.push(2),s/=2;else{if(s%5!=0)throw new Error("unexpected base");this.za.push(2,2.5),s/=5}if(this.za.length>100)throw new Error("something wrong with base")}}}La(t,e,s){const n=this.Ea===0?0:1/this.Ea;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),o=0,l=this.Aa[0];for(;;){const u=Xi(r,n,1e-14)&&r>n+1e-14,d=Xi(r,s*l,1e-14),f=Xi(r,1,1e-14);if(!(u&&d&&f))break;r/=l,l=this.Aa[++o%this.Aa.length]}if(r<=n+1e-14&&(r=n),r=Math.max(1,r),this.za.length>0&&(a=r,h=1,c=1e-14,Math.abs(a-h)<c))for(o=0,l=this.za[0];Xi(r,s*l,1e-14)&&r>n+1e-14;)r/=l,l=this.za[++o%this.za.length];var a,h,c;return r}}class Ir{constructor(t,e,s,n){this.Oa=[],this.Yi=t,this.Ea=e,this.Na=s,this.Fa=n}La(t,e){if(t<e)throw new Error("high < low");const s=this.Yi.$t(),n=(t-e)*this.Wa()/s,r=new Os(this.Ea,[2,2.5,2]),o=new Os(this.Ea,[2,2,2.5]),l=new Os(this.Ea,[2.5,2,2]),a=[];return a.push(r.La(t,e,n),o.La(t,e,n),l.La(t,e,n)),function(h){if(h.length<1)throw Error("array is empty");let c=h[0];for(let u=1;u<h.length;++u)h[u]<c&&(c=h[u]);return c}(a)}Ha(){const t=this.Yi,e=t.zt();if(e===null)return void(this.Oa=[]);const s=t.$t(),n=this.Na(s-1,e),r=this.Na(0,e),o=this.Yi.N().entireTextOnly?this.Ua()/2:0,l=o,a=s-1-o,h=Math.max(n,r),c=Math.min(n,r);if(h===c)return void(this.Oa=[]);const u=this.La(h,c);if(this.$a(e,u,h,c,l,a),t.qa()&&this.Ya(u,c,h)){const g=this.Yi.ja();this.Ka(e,u,l,a,g,2*g)}const d=this.Oa.map(g=>g.Xa),f=this.Yi.Za(d);for(let g=0;g<this.Oa.length;g++)this.Oa[g].Ga=f[g]}Va(){return this.Oa}Ua(){return this.Yi.P()}Wa(){return Math.ceil(2.5*this.Ua())}$a(t,e,s,n,r,o){const l=this.Oa,a=this.Yi;let h=s%e;h+=h<0?e:0;const c=s>=n?1:-1;let u=null,d=0;for(let f=s-h;f>n;f-=e){const g=this.Fa(f,t,!0);u!==null&&Math.abs(g-u)<this.Wa()||g<r||g>o||(d<l.length?(l[d].ka=g,l[d].Ga=a.Ja(f),l[d].Xa=f):l.push({ka:g,Ga:a.Ja(f),Xa:f}),d++,u=g,a.Qa()&&(e=this.La(f*c,n)))}l.length=d}Ka(t,e,s,n,r,o){const l=this.Oa,a=this.tl(t,s,r,o),h=this.tl(t,n,-o,-r),c=this.Fa(0,t,!0)-this.Fa(e,t,!0);l.length>0&&l[0].ka-a.ka<c/2&&l.shift(),l.length>0&&h.ka-l[l.length-1].ka<c/2&&l.pop(),l.unshift(a),l.push(h)}tl(t,e,s,n){const r=(s+n)/2,o=this.Na(e+s,t),l=this.Na(e+n,t),a=Math.min(o,l),h=Math.max(o,l),c=Math.max(.1,this.La(h,a)),u=this.Na(e+r,t),d=u-u%c,f=this.Fa(d,t,!0);return{Ga:this.Yi.Ja(d),ka:f,Xa:d}}Ya(t,e,s){let n=be(this.Yi.Qe());return this.Yi.Qa()&&(n=Ci(n,this.Yi.il())),n.$e()-e<t&&s-n.qe()<t}}function kl(i){return i.slice().sort((t,e)=>M(t.hs())-M(e.hs()))}var qe;(function(i){i[i.Normal=0]="Normal",i[i.Logarithmic=1]="Logarithmic",i[i.Percentage=2]="Percentage",i[i.IndexedTo100=3]="IndexedTo100"})(qe||(qe={}));const Dr=new xl,Nr=new xs(100,1);class Cp{constructor(t,e,s,n,r){this.sl=0,this.nl=null,this.Ge=null,this.el=null,this.rl={hl:!1,al:null},this.ll=!1,this.ol=0,this._l=0,this.ul=new wt,this.cl=new wt,this.dl=[],this.fl=null,this.pl=null,this.vl=null,this.ml=null,this.wl=null,this.ha=Nr,this.gl=js(null),this.Ml=t,this.Ps=e,this.bl=s,this.Sl=n,this.xl=r,this.Cl=new Ir(this,100,this.Pl.bind(this),this.kl.bind(this))}wa(){return this.Ml}N(){return this.Ps}hr(t){if(Gt(this.Ps,t),this.ga(),t.mode!==void 0&&this.yl({ie:t.mode}),t.scaleMargins!==void 0){const e=jt(t.scaleMargins.top),s=jt(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(s<0||s>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${s}`);if(e+s>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+s}`);this.Tl(),this.vl=null}}Rl(){return this.Ps.autoScale}Dl(){return this.ll}Qa(){return this.Ps.mode===1}Le(){return this.Ps.mode===2}Vl(){return this.Ps.mode===3}il(){return this.gl}ie(){return{sn:this.Ps.autoScale,Il:this.Ps.invertScale,ie:this.Ps.mode}}yl(t){const e=this.ie();let s=null;t.sn!==void 0&&(this.Ps.autoScale=t.sn),t.ie!==void 0&&(this.Ps.mode=t.ie,t.ie!==2&&t.ie!==3||(this.Ps.autoScale=!0),this.rl.hl=!1),e.ie===1&&t.ie!==e.ie&&(function(r,o){if(r===null)return!1;const l=_i(r.$e(),o),a=_i(r.qe(),o);return isFinite(l)&&isFinite(a)}(this.Ge,this.gl)?(s=Ci(this.Ge,this.gl),s!==null&&this.Bl(s)):this.Ps.autoScale=!0),t.ie===1&&t.ie!==e.ie&&(s=wi(this.Ge,this.gl),s!==null&&this.Bl(s));const n=e.ie!==this.Ps.mode;n&&(e.ie===2||this.Le())&&this.ga(),n&&(e.ie===3||this.Vl())&&this.ga(),t.Il!==void 0&&e.Il!==t.Il&&(this.Ps.invertScale=t.Il,this.El()),this.cl.p(e,this.ie())}Al(){return this.cl}P(){return this.bl.fontSize}$t(){return this.sl}zl(t){this.sl!==t&&(this.sl=t,this.Tl(),this.vl=null)}Ll(){if(this.nl)return this.nl;const t=this.$t()-this.Ol()-this.Nl();return this.nl=t,t}Qe(){return this.Fl(),this.Ge}Bl(t,e){const s=this.Ge;(e||s===null&&t!==null||s!==null&&!s.He(t))&&(this.vl=null,this.Ge=t)}Wl(t){this.Bl(t),this.Hl(t!==null)}Ki(){return this.Fl(),this.sl===0||!this.Ge||this.Ge.Ki()}Ul(t){return this.Il()?t:this.$t()-1-t}Nt(t,e){return this.Le()?t=Ke(t,e):this.Vl()&&(t=Ri(t,e)),this.kl(t,e)}$l(t,e,s){this.Fl();const n=this.Nl(),r=M(this.Qe()),o=r.$e(),l=r.qe(),a=this.Ll()-1,h=this.Il(),c=a/(l-o),u=s===void 0?0:s.from,d=s===void 0?t.length:s.to,f=this.ql();for(let g=u;g<d;g++){const v=t[g],b=v.gt;if(isNaN(b))continue;let w=b;f!==null&&(w=f(v.gt,e));const x=n+c*(w-o),S=h?x:this.sl-1-x;v.ut=S}}Yl(t,e,s){this.Fl();const n=this.Nl(),r=M(this.Qe()),o=r.$e(),l=r.qe(),a=this.Ll()-1,h=this.Il(),c=a/(l-o),u=s===void 0?0:s.from,d=s===void 0?t.length:s.to,f=this.ql();for(let g=u;g<d;g++){const v=t[g];let b=v.qh,w=v.Yh,x=v.jh,S=v.Kh;f!==null&&(b=f(v.qh,e),w=f(v.Yh,e),x=f(v.jh,e),S=f(v.Kh,e));let y=n+c*(b-o),P=h?y:this.sl-1-y;v.jl=P,y=n+c*(w-o),P=h?y:this.sl-1-y,v.Kl=P,y=n+c*(x-o),P=h?y:this.sl-1-y,v.Xl=P,y=n+c*(S-o),P=h?y:this.sl-1-y,v.Zl=P}}Ts(t,e){const s=this.Pl(t,e);return this.Gl(s,e)}Gl(t,e){let s=t;return this.Le()?s=function(n,r){return r<0&&(n=-n),n/100*r+r}(s,e):this.Vl()&&(s=function(n,r){return n-=100,r<0&&(n=-n),n/100*r+r}(s,e)),s}ba(){return this.dl}Dt(){return this.pl||(this.pl=kl(this.dl)),this.pl}Jl(t){this.dl.indexOf(t)===-1&&(this.dl.push(t),this.ga(),this.Ql())}io(t){const e=this.dl.indexOf(t);if(e===-1)throw new Error("source is not attached to scale");this.dl.splice(e,1),this.dl.length===0&&(this.yl({sn:!0}),this.Bl(null)),this.ga(),this.Ql()}zt(){let t=null;for(const e of this.dl){const s=e.zt();s!==null&&(t===null||s.Hh<t.Hh)&&(t=s)}return t===null?null:t.Wt}Il(){return this.Ps.invertScale}Va(){const t=this.zt()===null;if(this.vl!==null&&(t||this.vl.so===t))return this.vl.Va;this.Cl.Ha();const e=this.Cl.Va();return this.vl={Va:e,so:t},this.ul.p(),e}no(){return this.ul}eo(t){this.Le()||this.Vl()||this.ml===null&&this.el===null&&(this.Ki()||(this.ml=this.sl-t,this.el=M(this.Qe()).Ue()))}ro(t){if(this.Le()||this.Vl()||this.ml===null)return;this.yl({sn:!1}),(t=this.sl-t)<0&&(t=0);let e=(this.ml+.2*(this.sl-1))/(t+.2*(this.sl-1));const s=M(this.el).Ue();e=Math.max(e,.1),s.je(e),this.Bl(s)}ho(){this.Le()||this.Vl()||(this.ml=null,this.el=null)}ao(t){this.Rl()||this.wl===null&&this.el===null&&(this.Ki()||(this.wl=t,this.el=M(this.Qe()).Ue()))}lo(t){if(this.Rl()||this.wl===null)return;const e=M(this.Qe()).Ye()/(this.Ll()-1);let s=t-this.wl;this.Il()&&(s*=-1);const n=s*e,r=M(this.el).Ue();r.Ke(n),this.Bl(r,!0),this.vl=null}oo(){this.Rl()||this.wl!==null&&(this.wl=null,this.el=null)}ra(){return this.ha||this.ga(),this.ha}Zi(t,e){switch(this.Ps.mode){case 2:return this._o(Ke(t,e));case 3:return this.ra().format(Ri(t,e));default:return this.nr(t)}}Ja(t){switch(this.Ps.mode){case 2:return this._o(t);case 3:return this.ra().format(t);default:return this.nr(t)}}Za(t){switch(this.Ps.mode){case 2:return this.uo(t);case 3:return this.ra().formatTickmarks(t);default:return this.co(t)}}Dh(t){return this.nr(t,M(this.fl).ra())}Vh(t,e){return t=Ke(t,e),this._o(t,Dr)}do(){return this.dl}fo(t){this.rl={al:t,hl:!1}}Ns(){this.dl.forEach(t=>t.Ns())}qa(){return this.Ps.ensureEdgeTickMarksVisible&&this.Rl()}ja(){return this.P()/2}ga(){this.vl=null;let t=1/0;this.fl=null;for(const s of this.dl)s.hs()<t&&(t=s.hs(),this.fl=s);let e=100;this.fl!==null&&(e=Math.round(1/this.fl.ea())),this.ha=Nr,this.Le()?(this.ha=Dr,e=100):this.Vl()?(this.ha=new xs(100,1),e=100):this.fl!==null&&(this.ha=this.fl.ra()),this.Cl=new Ir(this,e,this.Pl.bind(this),this.kl.bind(this)),this.Cl.Ha()}Ql(){this.pl=null}Xi(){return this.xl}Hl(t){this.ll=t}Ol(){return this.Il()?this.Ps.scaleMargins.bottom*this.$t()+this._l:this.Ps.scaleMargins.top*this.$t()+this.ol}Nl(){return this.Il()?this.Ps.scaleMargins.top*this.$t()+this.ol:this.Ps.scaleMargins.bottom*this.$t()+this._l}Fl(){this.rl.hl||(this.rl.hl=!0,this.po())}Tl(){this.nl=null}kl(t,e){if(this.Fl(),this.Ki())return 0;t=this.Qa()&&t?as(t,this.gl):t;const s=M(this.Qe()),n=this.Nl()+(this.Ll()-1)*(t-s.$e())/s.Ye();return this.Ul(n)}Pl(t,e){if(this.Fl(),this.Ki())return 0;const s=this.Ul(t),n=M(this.Qe()),r=n.$e()+n.Ye()*((s-this.Nl())/(this.Ll()-1));return this.Qa()?_i(r,this.gl):r}El(){this.vl=null,this.Cl.Ha()}po(){if(this.Dl()&&!this.Rl())return;const t=this.rl.al;if(t===null)return;let e=null;const s=this.do();let n=0,r=0;for(const a of s){if(!a.Vt())continue;const h=a.zt();if(h===null)continue;const c=a.Mh(t.Uh(),t.bi());let u=c&&c.Qe();if(u!==null){switch(this.Ps.mode){case 1:u=wi(u,this.gl);break;case 2:u=yp(u,h.Wt);break;case 3:u=Sp(u,h.Wt)}if(e=e===null?u:e.vn(M(u)),c!==null){const d=c.tr();d!==null&&(n=Math.max(n,d.above),r=Math.max(r,d.below))}}}if(this.qa()&&(n=Math.max(n,this.ja()),r=Math.max(r,this.ja())),n===this.ol&&r===this._l||(this.ol=n,this._l=r,this.vl=null,this.Tl()),e!==null){if(e.$e()===e.qe()){const a=this.fl,h=5*(a===null||this.Le()||this.Vl()?1:a.ea());this.Qa()&&(e=Ci(e,this.gl)),e=new Tt(e.$e()-h,e.qe()+h),this.Qa()&&(e=wi(e,this.gl))}if(this.Qa()){const a=Ci(e,this.gl),h=js(a);if(o=h,l=this.gl,o.Ia!==l.Ia||o.Ba!==l.Ba){const c=this.el!==null?Ci(this.el,this.gl):null;this.gl=h,e=wi(a,h),c!==null&&(this.el=wi(c,h))}}this.Bl(e)}else this.Ge===null&&(this.Bl(new Tt(-.5,.5)),this.gl=js(null));var o,l}ql(){return this.Le()?Ke:this.Vl()?Ri:this.Qa()?t=>as(t,this.gl):null}vo(t,e,s){return e===void 0?(s===void 0&&(s=this.ra()),s.format(t)):e(t)}mo(t,e,s){return e===void 0?(s===void 0&&(s=this.ra()),s.formatTickmarks(t)):e(t)}nr(t,e){return this.vo(t,this.Sl.priceFormatter,e)}co(t,e){const s=this.Sl.priceFormatter;return this.mo(t,this.Sl.tickmarksPriceFormatter??(s?n=>n.map(s):void 0),e)}_o(t,e){return this.vo(t,this.Sl.percentageFormatter,e)}uo(t,e){const s=this.Sl.percentageFormatter;return this.mo(t,this.Sl.tickmarksPercentageFormatter??(s?n=>n.map(s):void 0),e)}}function Fr(i){return i instanceof ys}class jr{constructor(t,e){this.dl=[],this.wo=new Map,this.sl=0,this.Mo=0,this.bo=1,this.pl=null,this.So=!1,this.xo=new wt,this.kh=[],this.uh=t,this.ts=e,this.Co=new xp(this);const s=e.N();this.Po=this.ko("left",s.leftPriceScale),this.yo=this.ko("right",s.rightPriceScale),this.Po.Al().i(this.To.bind(this,this.Po),this),this.yo.Al().i(this.To.bind(this,this.yo),this),this.Ro(s)}Ro(t){if(t.leftPriceScale&&this.Po.hr(t.leftPriceScale),t.rightPriceScale&&this.yo.hr(t.rightPriceScale),t.localization&&(this.Po.ga(),this.yo.ga()),t.overlayPriceScales){const e=Array.from(this.wo.values());for(const s of e){const n=M(s[0].Ft());n.hr(t.overlayPriceScales),t.localization&&n.ga()}}}Do(t){switch(t){case"left":return this.Po;case"right":return this.yo}return this.wo.has(t)?jt(this.wo.get(t))[0].Ft():null}m(){this.Qt().Vo().u(this),this.Po.Al().u(this),this.yo.Al().u(this),this.dl.forEach(t=>{t.m&&t.m()}),this.kh=this.kh.filter(t=>{const e=t.oh();return e.detached&&e.detached(),!1}),this.xo.p()}Io(){return this.bo}Bo(t){this.bo=t}Qt(){return this.ts}Qi(){return this.Mo}$t(){return this.sl}Eo(t){this.Mo=t,this.Ao()}zl(t){this.sl=t,this.Po.zl(t),this.yo.zl(t),this.dl.forEach(e=>{if(this.Un(e)){const s=e.Ft();s!==null&&s.zl(t)}}),this.Ao()}zo(t){this.So=t}Lo(){return this.So}Oo(){return this.dl.filter(Fr)}ba(){return this.dl}Un(t){const e=t.Ft();return e===null||this.Po!==e&&this.yo!==e}Jl(t,e,s){this.No(t,e,s?t.hs():this.dl.length)}io(t,e){const s=this.dl.indexOf(t);_t(s!==-1,"removeDataSource: invalid data source"),this.dl.splice(s,1),e||this.dl.forEach((o,l)=>o.ls(l));const n=M(t.Ft()).wa();if(this.wo.has(n)){const o=jt(this.wo.get(n)),l=o.indexOf(t);l!==-1&&(o.splice(l,1),o.length===0&&this.wo.delete(n))}const r=t.Ft();r&&r.ba().indexOf(t)>=0&&(r.io(t),this.Fo(r)),this.pl=null}qn(t){return t===this.Po?"left":t===this.yo?"right":"overlay"}Wo(){return this.Po}Ho(){return this.yo}Uo(t,e){t.eo(e)}$o(t,e){t.ro(e),this.Ao()}qo(t){t.ho()}Yo(t,e){t.ao(e)}jo(t,e){t.lo(e),this.Ao()}Ko(t){t.oo()}Ao(){this.dl.forEach(t=>{t.Ns()})}ys(){let t=null;return this.ts.N().rightPriceScale.visible&&this.yo.ba().length!==0?t=this.yo:this.ts.N().leftPriceScale.visible&&this.Po.ba().length!==0?t=this.Po:this.dl.length!==0&&(t=this.dl[0].Ft()),t===null&&(t=this.yo),t}$n(){let t=null;return this.ts.N().rightPriceScale.visible?t=this.yo:this.ts.N().leftPriceScale.visible&&(t=this.Po),t}Fo(t){t!==null&&t.Rl()&&this.Xo(t)}Zo(t){const e=this.uh.Pe();t.yl({sn:!0}),e!==null&&t.fo(e),this.Ao()}Go(){this.Xo(this.Po),this.Xo(this.yo)}Jo(){this.Fo(this.Po),this.Fo(this.yo),this.dl.forEach(t=>{this.Un(t)&&this.Fo(t.Ft())}),this.Ao(),this.ts.ar()}Dt(){return this.pl===null&&(this.pl=kl(this.dl)),this.pl}Qo(t,e){e=ti(e,0,this.dl.length-1);const s=this.dl.indexOf(t);_t(s!==-1,"setSeriesOrder: invalid data source"),this.dl.splice(s,1),this.dl.splice(e,0,t),this.dl.forEach((n,r)=>n.ls(r)),this.pl=null;for(const n of[this.Po,this.yo])n.Ql(),n.ga();this.ts.ar()}It(){return this.Dt().filter(Fr)}t_(){return this.xo}i_(){return this.Co}ua(t){this.kh.push(new lp(t))}ca(t){this.kh=this.kh.filter(e=>e.oh()!==t),t.detached&&t.detached(),this.ts.ar()}s_(){return this.kh}sa(t,e){return this.kh.map(s=>s.jn(t,e)).filter(s=>s!==null)}Xo(t){const e=t.do();if(e&&e.length>0&&!this.uh.Ki()){const s=this.uh.Pe();s!==null&&t.fo(s)}t.Ns()}No(t,e,s){let n=this.Do(e);if(n===null&&(n=this.ko(e,this.ts.N().overlayPriceScales)),this.dl.splice(s,0,t),!ws(e)){const r=this.wo.get(e)||[];r.push(t),this.wo.set(e,r)}t.ls(s),n.Jl(t),t._s(n),this.Fo(n),this.pl=null}To(t,e,s){e.ie!==s.ie&&this.Xo(t)}ko(t,e){const s={visible:!0,autoScale:!0,...de(e)},n=new Cp(t,s,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return n.zl(this.$t()),n}}function Qi(i){return{n_:i.n_,e_:{Kn:i.r_.externalId},h_:i.r_.cursorStyle}}function Mp(i,t,e,s){for(const n of i){const r=n.Tt(s);if(r!==null&&r.jn){const o=r.jn(t,e);if(o!==null)return{a_:n,e_:o}}}return null}function Pp(i){return i.Fs!==void 0}function Rl(i,t,e){const s=[i,...i.Dt()],n=function(r,o,l){var d;let a,h;for(const f of r){const g=((d=f.sa)==null?void 0:d.call(f,o,l))??[];for(const v of g)c=v.zOrder,u=a==null?void 0:a.zOrder,(!u||c==="top"&&u!=="top"||c==="normal"&&u==="bottom")&&(a=v,h=f)}var c,u;return a&&h?{r_:a,n_:h}:null}(s,t,e);if((n==null?void 0:n.r_.zOrder)==="top")return Qi(n);for(const r of s){if(n&&n.n_===r&&n.r_.zOrder!=="bottom"&&!n.r_.isBackground)return Qi(n);if(Pp(r)){const o=Mp(r.Fs(i),t,e,i);if(o!==null)return{n_:r,a_:o.a_,e_:o.e_}}if(n&&n.n_===r&&n.r_.zOrder!=="bottom"&&n.r_.isBackground)return Qi(n)}return n!=null&&n.r_?Qi(n):null}class kp{constructor(t,e,s=50){this.kn=0,this.yn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.l_=t,this.o_=e,this.Vn=s}__(t){const e=t.time,s=this.o_.cacheKey(e),n=this.Dn.get(s);if(n!==void 0)return n.u_;if(this.kn===this.Vn){const o=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(jt(o)),this.Tn++,this.kn--}const r=this.l_(t);return this.Dn.set(s,{u_:r,An:this.yn}),this.Rn.set(this.yn,s),this.kn++,this.yn++,r}}class ei{constructor(t,e){_t(t<=e,"right should be >= left"),this.c_=t,this.d_=e}Uh(){return this.c_}bi(){return this.d_}f_(){return this.d_-this.c_+1}Te(t){return this.c_<=t&&t<=this.d_}He(t){return this.c_===t.Uh()&&this.d_===t.bi()}}function Or(i,t){return i===null||t===null?i===t:i.He(t)}class Rp{constructor(){this.p_=new Map,this.Dn=null,this.v_=!1}m_(t){this.v_=t,this.Dn=null}w_(t,e){this.g_(e),this.Dn=null;for(let s=e;s<t.length;++s){const n=t[s];let r=this.p_.get(n.timeWeight);r===void 0&&(r=[],this.p_.set(n.timeWeight,r)),r.push({index:s,time:n.time,weight:n.timeWeight,originalTime:n.originalTime})}}M_(t,e,s,n,r){const o=Math.ceil(e/t);return this.Dn!==null&&this.Dn.b_===o&&r===this.Dn.S_&&s===this.Dn.x_||(this.Dn={S_:r,x_:s,Va:this.C_(o,s,n),b_:o}),this.Dn.Va}g_(t){if(t===0)return void this.p_.clear();const e=[];this.p_.forEach((s,n)=>{t<=s[0].index?e.push(n):s.splice(ri(s,t,r=>r.index<t),1/0)});for(const s of e)this.p_.delete(s)}C_(t,e,s){let n=[];const r=o=>!e||s.has(o.index);for(const o of Array.from(this.p_.keys()).sort((l,a)=>a-l)){if(!this.p_.get(o))continue;const l=n;n=[];const a=l.length;let h=0;const c=jt(this.p_.get(o)),u=c.length;let d=1/0,f=-1/0;for(let g=0;g<u;g++){const v=c[g],b=v.index;for(;h<a;){const w=l[h],x=w.index;if(!(x<b&&r(w))){d=x;break}h++,n.push(w),f=x,d=1/0}if(d-b>=t&&b-f>=t&&r(v))n.push(v),f=b;else if(this.v_)return l}for(;h<a;h++)r(l[h])&&n.push(l[h])}return n}}class ii{constructor(t){this.P_=t}k_(){return this.P_===null?null:new ei(Math.floor(this.P_.Uh()),Math.ceil(this.P_.bi()))}y_(){return this.P_}static T_(){return new ii(null)}}function _p(i,t){return i.weight>t.weight?i:t}class $p{constructor(t,e,s,n){this.Mo=0,this.R_=null,this.D_=[],this.wl=null,this.ml=null,this.V_=new Rp,this.I_=new Map,this.B_=ii.T_(),this.E_=!0,this.A_=new wt,this.z_=new wt,this.L_=new wt,this.O_=null,this.N_=null,this.F_=new Map,this.W_=-1,this.H_=[],this.Ps=e,this.Sl=s,this.U_=e.rightOffset,this.q_=e.barSpacing,this.ts=t,this.o_=n,this.Y_(),this.V_.m_(e.uniformDistribution),this.j_()}N(){return this.Ps}K_(t){Gt(this.Sl,t),this.X_(),this.Y_()}hr(t,e){Gt(this.Ps,t),this.Ps.fixLeftEdge&&this.Z_(),this.Ps.fixRightEdge&&this.G_(),t.barSpacing!==void 0&&this.ts.dn(t.barSpacing),t.rightOffset!==void 0&&this.ts.fn(t.rightOffset),t.minBarSpacing===void 0&&t.maxBarSpacing===void 0||this.ts.dn(t.barSpacing??this.q_),t.ignoreWhitespaceIndices!==void 0&&t.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.j_(),this.X_(),this.Y_(),this.L_.p()}Rs(t){var e;return((e=this.D_[t])==null?void 0:e.time)??null}ss(t){return this.D_[t]??null}J_(t,e){if(this.D_.length<1)return null;if(this.o_.key(t)>this.o_.key(this.D_[this.D_.length-1].time))return e?this.D_.length-1:null;const s=ri(this.D_,this.o_.key(t),(n,r)=>this.o_.key(n.time)<r);return this.o_.key(t)<this.o_.key(this.D_[s].time)?e?s:null:s}Ki(){return this.Mo===0||this.D_.length===0||this.R_===null}Q_(){return this.D_.length>0}Pe(){return this.tu(),this.B_.k_()}iu(){return this.tu(),this.B_.y_()}su(){const t=this.Pe();if(t===null)return null;const e={from:t.Uh(),to:t.bi()};return this.nu(e)}nu(t){const e=Math.round(t.from),s=Math.round(t.to),n=M(this.eu()),r=M(this.ru());return{from:M(this.ss(Math.max(n,e))),to:M(this.ss(Math.min(r,s)))}}hu(t){return{from:M(this.J_(t.from,!0)),to:M(this.J_(t.to,!0))}}Qi(){return this.Mo}Eo(t){if(!isFinite(t)||t<=0||this.Mo===t)return;const e=this.iu(),s=this.Mo;if(this.Mo=t,this.E_=!0,this.Ps.lockVisibleTimeRangeOnResize&&s!==0){const n=this.q_*t/s;this.q_=n}if(this.Ps.fixLeftEdge&&e!==null&&e.Uh()<=0){const n=s-t;this.U_-=Math.round(n/this.q_)+1,this.E_=!0}this.au(),this.lu()}qt(t){if(this.Ki()||!Ti(t))return 0;const e=this.ou()+this.U_-t;return this.Mo-(e+.5)*this.q_-1}_u(t,e){const s=this.ou(),n=e===void 0?0:e.from,r=e===void 0?t.length:e.to;for(let o=n;o<r;o++){const l=t[o].wt,a=s+this.U_-l,h=this.Mo-(a+.5)*this.q_-1;t[o]._t=h}}uu(t,e){const s=Math.ceil(this.cu(t));return e&&this.Ps.ignoreWhitespaceIndices&&!this.du(s)?this.fu(s):s}fn(t){this.E_=!0,this.U_=t,this.lu(),this.ts.pu(),this.ts.ar()}vu(){return this.q_}dn(t){this.mu(t),this.lu(),this.ts.pu(),this.ts.ar()}wu(){return this.U_}Va(){if(this.Ki())return null;if(this.N_!==null)return this.N_;const t=this.q_,e=5*(this.ts.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),s=Math.round(e/t),n=M(this.Pe()),r=Math.max(n.Uh(),n.Uh()-s),o=Math.max(n.bi(),n.bi()-s),l=this.V_.M_(t,e,this.Ps.ignoreWhitespaceIndices,this.F_,this.W_),a=this.eu()+s,h=this.ru()-s,c=this.gu(),u=this.Ps.fixLeftEdge||c,d=this.Ps.fixRightEdge||c;let f=0;for(const g of l){if(!(r<=g.index&&g.index<=o))continue;let v;f<this.H_.length?(v=this.H_[f],v.coord=this.qt(g.index),v.label=this.Mu(g),v.weight=g.weight):(v={needAlignCoordinate:!1,coord:this.qt(g.index),label:this.Mu(g),weight:g.weight},this.H_.push(v)),this.q_>e/2&&!c?v.needAlignCoordinate=!1:v.needAlignCoordinate=u&&g.index<=a||d&&g.index>=h,f++}return this.H_.length=f,this.N_=this.H_,this.H_}bu(){this.E_=!0,this.dn(this.Ps.barSpacing),this.fn(this.Ps.rightOffset)}Su(t){this.E_=!0,this.R_=t,this.lu(),this.Z_()}xu(t,e){const s=this.cu(t),n=this.vu(),r=n+e*(n/10);this.dn(r),this.Ps.rightBarStaysOnScroll||this.fn(this.wu()+(s-this.cu(t)))}eo(t){this.wl&&this.oo(),this.ml===null&&this.O_===null&&(this.Ki()||(this.ml=t,this.Cu()))}ro(t){if(this.O_===null)return;const e=ti(this.Mo-t,0,this.Mo),s=ti(this.Mo-M(this.ml),0,this.Mo);e!==0&&s!==0&&this.dn(this.O_.vu*e/s)}ho(){this.ml!==null&&(this.ml=null,this.Pu())}ao(t){this.wl===null&&this.O_===null&&(this.Ki()||(this.wl=t,this.Cu()))}lo(t){if(this.wl===null)return;const e=(this.wl-t)/this.vu();this.U_=M(this.O_).wu+e,this.E_=!0,this.lu()}oo(){this.wl!==null&&(this.wl=null,this.Pu())}ku(){this.yu(this.Ps.rightOffset)}yu(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const s=this.U_,n=performance.now();this.ts._n({Tu:r=>(r-n)/e>=1,Ru:r=>{const o=(r-n)/e;return o>=1?t:s+(t-s)*o}})}kt(t,e){this.E_=!0,this.D_=t,this.V_.w_(t,e),this.lu()}Du(){return this.A_}Vu(){return this.z_}Iu(){return this.L_}ou(){return this.R_||0}Bu(t){const e=t.f_();this.mu(this.Mo/e),this.U_=t.bi()-this.ou(),this.lu(),this.E_=!0,this.ts.pu(),this.ts.ar()}Eu(){const t=this.eu(),e=this.ru();t!==null&&e!==null&&this.Bu(new ei(t,e+this.Ps.rightOffset))}Au(t){const e=new ei(t.from,t.to);this.Bu(e)}ns(t){return this.Sl.timeFormatter!==void 0?this.Sl.timeFormatter(t.originalTime):this.o_.formatHorzItem(t.time)}j_(){if(!this.Ps.ignoreWhitespaceIndices)return;this.F_.clear();const t=this.ts.js();for(const e of t)for(const s of e.ma())this.F_.set(s,!0);this.W_++}gu(){const t=this.ts.N().handleScroll,e=this.ts.N().handleScale;return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}eu(){return this.D_.length===0?null:0}ru(){return this.D_.length===0?null:this.D_.length-1}zu(t){return(this.Mo-1-t)/this.q_}cu(t){const e=this.zu(t),s=this.ou()+this.U_-e;return Math.round(1e6*s)/1e6}mu(t){const e=this.q_;this.q_=t,this.au(),e!==this.q_&&(this.E_=!0,this.Lu())}tu(){if(!this.E_)return;if(this.E_=!1,this.Ki())return void this.Ou(ii.T_());const t=this.ou(),e=this.Mo/this.q_,s=this.U_+t,n=new ei(s-e+1,s);this.Ou(new ii(n))}au(){const t=ti(this.q_,this.Nu(),this.Fu());this.q_!==t&&(this.q_=t,this.E_=!0)}Fu(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.Mo}Nu(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.D_.length!==0?this.Mo/this.D_.length:this.Ps.minBarSpacing}lu(){const t=this.Wu();t!==null&&this.U_<t&&(this.U_=t,this.E_=!0);const e=this.Hu();this.U_>e&&(this.U_=e,this.E_=!0)}Wu(){const t=this.eu(),e=this.R_;return t===null||e===null?null:t-e-1+(this.Ps.fixLeftEdge?this.Mo/this.q_:Math.min(2,this.D_.length))}Hu(){return this.Ps.fixRightEdge?0:this.Mo/this.q_-Math.min(2,this.D_.length)}Cu(){this.O_={vu:this.vu(),wu:this.wu()}}Pu(){this.O_=null}Mu(t){let e=this.I_.get(t.weight);return e===void 0&&(e=new kp(s=>this.Uu(s),this.o_),this.I_.set(t.weight,e)),e.__(t)}Uu(t){return this.o_.formatTickmark(t,this.Sl)}Ou(t){const e=this.B_;this.B_=t,Or(e.k_(),this.B_.k_())||this.A_.p(),Or(e.y_(),this.B_.y_())||this.z_.p(),this.Lu()}Lu(){this.N_=null}X_(){this.Lu(),this.I_.clear()}Y_(){this.o_.updateFormatter(this.Sl)}Z_(){if(!this.Ps.fixLeftEdge)return;const t=this.eu();if(t===null)return;const e=this.Pe();if(e===null)return;const s=e.Uh()-t;if(s<0){const n=this.U_-s-1;this.fn(n)}this.au()}G_(){this.lu(),this.au()}du(t){return!this.Ps.ignoreWhitespaceIndices||this.F_.get(t)||!1}fu(t){const e=function*(n){const r=Math.round(n),o=r<n;let l=1;for(;;)o?(yield r+l,yield r-l):(yield r-l,yield r+l),l++}(t),s=this.ru();for(;s;){const n=e.next().value;if(this.F_.get(n))return n;if(n<0||n>s)break}return t}}var Wr,Vr,Yr,Ar,Hr;(function(i){i[i.OnTouchEnd=0]="OnTouchEnd",i[i.OnNextTap=1]="OnNextTap"})(Wr||(Wr={}));class Ep{constructor(t,e,s){this.$u=[],this.qu=[],this.Mo=0,this.Yu=null,this.ju=new wt,this.Ku=new wt,this.Xu=null,this.Zu=t,this.Ps=e,this.o_=s,this.xl=new Ed(this.Ps.layout.colorParsers),this.Gu=new $d(this),this.uh=new $p(this,e.timeScale,this.Ps.localization,s),this.Ct=new Wd(this,e.crosshair),this.Ju=new vp(e.crosshair),e.addDefaultPane&&(this.Qu(0),this.$u[0].Bo(2)),this.tc=this.sc(0),this.nc=this.sc(1)}Bh(){this.ec(Rt.gn())}ar(){this.ec(Rt.wn())}Zh(){this.ec(new Rt(1))}Eh(t){const e=this.rc(t);this.ec(e)}hc(){return this.Yu}ac(t){var s,n,r,o;if(((s=this.Yu)==null?void 0:s.n_)===(t==null?void 0:t.n_)&&((r=(n=this.Yu)==null?void 0:n.e_)==null?void 0:r.Kn)===((o=t==null?void 0:t.e_)==null?void 0:o.Kn))return;const e=this.Yu;this.Yu=t,e!==null&&this.Eh(e.n_),t!==null&&t.n_!==(e==null?void 0:e.n_)&&this.Eh(t.n_)}N(){return this.Ps}hr(t){Gt(this.Ps,t),this.$u.forEach(e=>e.Ro(t)),t.timeScale!==void 0&&this.uh.hr(t.timeScale),t.localization!==void 0&&this.uh.K_(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.ju.p(),this.tc=this.sc(0),this.nc=this.sc(1),this.Bh()}lc(t,e,s=0){const n=this.$u[s];if(n===void 0)return;if(t==="left")return Gt(this.Ps,{leftPriceScale:e}),n.Ro({leftPriceScale:e}),this.ju.p(),void this.Bh();if(t==="right")return Gt(this.Ps,{rightPriceScale:e}),n.Ro({rightPriceScale:e}),this.ju.p(),void this.Bh();const r=this.oc(t,s);r!==null&&(r.Ft.hr(e),this.ju.p())}oc(t,e){const s=this.$u[e];if(s===void 0)return null;const n=s.Do(t);return n!==null?{Us:s,Ft:n}:null}Et(){return this.uh}$s(){return this.$u}_c(){return this.Ct}uc(){return this.Ku}cc(t,e){t.zl(e),this.pu()}Eo(t){this.Mo=t,this.uh.Eo(this.Mo),this.$u.forEach(e=>e.Eo(t)),this.pu()}dc(t){this.$u.length!==1&&(_t(t>=0&&t<this.$u.length,"Invalid pane index"),this.$u.splice(t,1),this.Bh())}fc(t,e){if(this.$u.length<2)return;_t(t>=0&&t<this.$u.length,"Invalid pane index");const s=this.$u[t],n=this.$u.reduce((u,d)=>u+d.Io(),0),r=this.$u.reduce((u,d)=>u+d.$t(),0),o=r-30*(this.$u.length-1);e=Math.min(o,Math.max(30,e));const l=n/r,a=s.$t();s.Bo(e*l);let h=e-a,c=this.$u.length-1;for(const u of this.$u)if(u!==s){const d=Math.min(o,Math.max(30,u.$t()-h/c));h-=u.$t()-d,c-=1;const f=d*l;u.Bo(f)}this.Bh()}vc(t,e){_t(t>=0&&t<this.$u.length&&e>=0&&e<this.$u.length,"Invalid pane index");const s=this.$u[t],n=this.$u[e];this.$u[t]=n,this.$u[e]=s,this.Bh()}mc(t,e){if(_t(t>=0&&t<this.$u.length&&e>=0&&e<this.$u.length,"Invalid pane index"),t===e)return;const[s]=this.$u.splice(t,1);this.$u.splice(e,0,s),this.Bh()}Uo(t,e,s){t.Uo(e,s)}$o(t,e,s){t.$o(e,s),this.Ah(),this.ec(this.wc(t,2))}qo(t,e){t.qo(e),this.ec(this.wc(t,2))}Yo(t,e,s){e.Rl()||t.Yo(e,s)}jo(t,e,s){e.Rl()||(t.jo(e,s),this.Ah(),this.ec(this.wc(t,2)))}Ko(t,e){e.Rl()||(t.Ko(e),this.ec(this.wc(t,2)))}Zo(t,e){t.Zo(e),this.ec(this.wc(t,2))}gc(t){this.uh.eo(t)}Mc(t,e){const s=this.Et();if(s.Ki()||e===0)return;const n=s.Qi();t=Math.max(1,Math.min(t,n)),s.xu(t,e),this.pu()}bc(t){this.Sc(0),this.xc(t),this.Cc()}Pc(t){this.uh.ro(t),this.pu()}kc(){this.uh.ho(),this.ar()}Sc(t){this.uh.ao(t)}xc(t){this.uh.lo(t),this.pu()}Cc(){this.uh.oo(),this.ar()}js(){return this.qu}yc(t,e,s,n,r){this.Ct.Vs(t,e);let o=NaN,l=this.uh.uu(t,!0);const a=this.uh.Pe();a!==null&&(l=Math.min(Math.max(a.Uh(),l),a.bi()));const h=n.ys(),c=h.zt();if(c!==null&&(o=h.Ts(e,c)),o=this.Ju.Ma(o,l,n),this.Ct.As(l,o,n),this.Zh(),!r){const u=Rl(n,t,e);this.ac(u&&{n_:u.n_,e_:u.e_,h_:u.h_||null}),this.Ku.p(this.Ct.Bt(),{x:t,y:e},s)}}Tc(t,e,s){const n=s.ys(),r=n.zt(),o=n.Nt(t,M(r)),l=this.uh.J_(e,!0),a=this.uh.qt(M(l));this.yc(a,o,null,s,!0)}Rc(t){this._c().Ls(),this.Zh(),t||this.Ku.p(null,null,null)}Ah(){const t=this.Ct.Us();if(t!==null){const e=this.Ct.Bs(),s=this.Ct.Es();this.yc(e,s,null,t)}this.Ct.Ns()}Dc(t,e,s){const n=this.uh.Rs(0);e!==void 0&&s!==void 0&&this.uh.kt(e,s);const r=this.uh.Rs(0),o=this.uh.ou(),l=this.uh.Pe();if(l!==null&&n!==null&&r!==null){const a=l.Te(o),h=this.o_.key(n)>this.o_.key(r),c=t!==null&&t>o&&!h,u=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,d=a&&(s!==void 0||u)&&this.uh.N().shiftVisibleRangeOnNewBar;if(c&&!d){const f=t-o;this.uh.fn(this.uh.wu()-f)}}this.uh.Su(t)}Lh(t){t!==null&&t.Jo()}Hn(t){if(function(s){return s instanceof jr}(t))return t;const e=this.$u.find(s=>s.Dt().includes(t));return e===void 0?null:e}pu(){this.$u.forEach(t=>t.Jo()),this.Ah()}m(){this.$u.forEach(t=>t.m()),this.$u.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Vc(){return this.Gu}Yn(){return this.Gu.N()}Vo(){return this.ju}Ic(t,e){const s=this.Qu(e);this.Bc(t,s),this.qu.push(t),this.qu.length===1?this.Bh():this.ar()}Ec(t){const e=this.Hn(t),s=this.qu.indexOf(t);_t(s!==-1,"Series not found");const n=M(e);this.qu.splice(s,1),n.io(t),t.m&&t.m(),this.uh.j_(),this.Ac(n)}Ih(t,e){const s=M(this.Hn(t));s.io(t,!0),s.Jl(t,e,!0)}Eu(){const t=Rt.wn();t.rn(),this.ec(t)}zc(t){const e=Rt.wn();e.ln(t),this.ec(e)}cn(){const t=Rt.wn();t.cn(),this.ec(t)}dn(t){const e=Rt.wn();e.dn(t),this.ec(e)}fn(t){const e=Rt.wn();e.fn(t),this.ec(e)}_n(t){const e=Rt.wn();e._n(t),this.ec(e)}hn(){const t=Rt.wn();t.hn(),this.ec(t)}Lc(){return this.Ps.rightPriceScale.visible?"right":"left"}Oc(t,e){if(_t(e>=0,"Index should be greater or equal to 0"),e===this.Nc(t))return;const s=M(this.Hn(t));s.io(t);const n=this.Qu(e);this.Bc(t,n),s.ba().length===0&&this.Ac(s),this.Bh()}Fc(){return this.nc}$(){return this.tc}Ut(t){const e=this.nc,s=this.tc;if(e===s)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Xu===null||this.Xu.mr!==s||this.Xu.wr!==e)this.Xu={mr:s,wr:e,Wc:new Map};else{const r=this.Xu.Wc.get(t);if(r!==void 0)return r}const n=this.xl.tt(s,e,t/100);return this.Xu.Wc.set(t,n),n}Hc(t){return this.$u.indexOf(t)}Xi(){return this.xl}Uc(){return this.$c()}$c(t){const e=new jr(this.uh,this);this.$u.push(e);const s=t??this.$u.length-1,n=Rt.gn();return n.Qs(s,{tn:0,sn:!0}),this.ec(n),e}Qu(t){return _t(t>=0,"Index should be greater or equal to 0"),(t=Math.min(this.$u.length,t))<this.$u.length?this.$u[t]:this.$c(t)}Nc(t){return this.$u.findIndex(e=>e.Oo().includes(t))}wc(t,e){const s=new Rt(e);if(t!==null){const n=this.$u.indexOf(t);s.Qs(n,{tn:e})}return s}rc(t,e){return e===void 0&&(e=2),this.wc(this.Hn(t),e)}ec(t){this.Zu&&this.Zu(t),this.$u.forEach(e=>e.i_().lr().kt())}Bc(t,e){const s=t.N().priceScaleId,n=s!==void 0?s:this.Lc();e.Jl(t,n),ws(n)||t.hr(t.N())}sc(t){const e=this.Ps.layout;return e.background.type==="gradient"?t===0?e.background.topColor:e.background.bottomColor:e.background.color}Ac(t){!t.Lo()&&t.ba().length===0&&this.$u.length>1&&this.$u.splice(this.Hc(t),1)}}function sn(i){return!Ae(i)&&!Oi(i)}function _l(i){return Ae(i)}(function(i){i[i.Disabled=0]="Disabled",i[i.Continuous=1]="Continuous",i[i.OnDataUpdate=2]="OnDataUpdate"})(Vr||(Vr={})),function(i){i[i.LastBar=0]="LastBar",i[i.LastVisible=1]="LastVisible"}(Yr||(Yr={})),function(i){i.Solid="solid",i.VerticalGradient="gradient"}(Ar||(Ar={})),function(i){i[i.Year=0]="Year",i[i.Month=1]="Month",i[i.DayOfMonth=2]="DayOfMonth",i[i.Time=3]="Time",i[i.TimeWithSeconds=4]="TimeWithSeconds"}(Hr||(Hr={}));const Ur=i=>i.getUTCFullYear();function Bp(i,t,e){return t.replace(/yyyy/g,(s=>pe(Ur(s),4))(i)).replace(/yy/g,(s=>pe(Ur(s)%100,2))(i)).replace(/MMMM/g,((s,n)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(n,{month:"long"}))(i,e)).replace(/MMM/g,((s,n)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(n,{month:"short"}))(i,e)).replace(/MM/g,(s=>pe((n=>n.getUTCMonth()+1)(s),2))(i)).replace(/dd/g,(s=>pe((n=>n.getUTCDate())(s),2))(i))}class $l{constructor(t="yyyy-MM-dd",e="default"){this.qc=t,this.Yc=e}__(t){return Bp(t,this.qc,this.Yc)}}class zp{constructor(t){this.jc=t||"%h:%m:%s"}__(t){return this.jc.replace("%h",pe(t.getUTCHours(),2)).replace("%m",pe(t.getUTCMinutes(),2)).replace("%s",pe(t.getUTCSeconds(),2))}}const Lp={Kc:"yyyy-MM-dd",Xc:"%h:%m:%s",Zc:" ",Gc:"default"};class Tp{constructor(t={}){const e={...Lp,...t};this.Jc=new $l(e.Kc,e.Gc),this.Qc=new zp(e.Xc),this.td=e.Zc}__(t){return`${this.Jc.__(t)}${this.td}${this.Qc.__(t)}`}}function Ki(i){return 60*i*60*1e3}function Ws(i){return 60*i*1e3}const qi=[{sd:(Gr=1,1e3*Gr),nd:10},{sd:Ws(1),nd:20},{sd:Ws(5),nd:21},{sd:Ws(30),nd:22},{sd:Ki(1),nd:30},{sd:Ki(3),nd:31},{sd:Ki(6),nd:32},{sd:Ki(12),nd:33}];var Gr;function Xr(i,t){if(i.getUTCFullYear()!==t.getUTCFullYear())return 70;if(i.getUTCMonth()!==t.getUTCMonth())return 60;if(i.getUTCDate()!==t.getUTCDate())return 50;for(let e=qi.length-1;e>=0;--e)if(Math.floor(t.getTime()/qi[e].sd)!==Math.floor(i.getTime()/qi[e].sd))return qi[e].nd;return 0}function Vs(i){let t=i;if(Oi(i)&&(t=zn(i)),!sn(t))throw new Error("time must be of type BusinessDay");const e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{ed:Math.round(e.getTime()/1e3),rd:t}}function Qr(i){if(!_l(i))throw new Error("time must be of type isUTCTimestamp");return{ed:i}}function zn(i){const t=new Date(i);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${i}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function Kr(i){Oi(i.time)&&(i.time=zn(i.time))}class qr{options(){return this.Ps}setOptions(t){this.Ps=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(e){e.forEach(Kr)}(t):Kr(t)}createConverterToInternalObj(t){return M(function(e){return e.length===0?null:sn(e[0].time)||Oi(e[0].time)?Vs:Qr}(t))}key(t){return typeof t=="object"&&"ed"in t?t.ed:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return e.rd===void 0?new Date(1e3*e.ed).getTime():new Date(Date.UTC(e.rd.year,e.rd.month-1,e.rd.day)).getTime()}convertHorzItemToInternal(t){return _l(e=t)?Qr(e):sn(e)?Vs(e):Vs(zn(e));var e}updateFormatter(t){if(!this.Ps)return;const e=t.dateFormat;this.Ps.timeScale.timeVisible?this.hd=new Tp({Kc:e,Xc:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Zc:"   ",Gc:t.locale}):this.hd=new $l(e,t.locale)}formatHorzItem(t){const e=t;return this.hd.__(new Date(1e3*e.ed))}formatTickmark(t,e){const s=function(r,o,l){switch(r){case 0:case 10:return o?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),n=this.Ps.timeScale;if(n.tickMarkFormatter!==void 0){const r=n.tickMarkFormatter(t.originalTime,s,e.locale);if(r!==null)return r}return function(r,o,l){const a={};switch(o){case 0:a.year="numeric";break;case 1:a.month="short";break;case 2:a.day="numeric";break;case 3:a.hour12=!1,a.hour="2-digit",a.minute="2-digit";break;case 4:a.hour12=!1,a.hour="2-digit",a.minute="2-digit",a.second="2-digit"}const h=r.rd===void 0?new Date(1e3*r.ed):new Date(Date.UTC(r.rd.year,r.rd.month-1,r.rd.day));return new Date(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()).toLocaleString(l,a)}(t.time,s,e.locale)}maxTickMarkWeight(t){let e=t.reduce(_p,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){(function(s,n=0){if(s.length===0)return;let r=n===0?null:s[n-1].time.ed,o=r!==null?new Date(1e3*r):null,l=0;for(let a=n;a<s.length;++a){const h=s[a],c=new Date(1e3*h.time.ed);o!==null&&(h.timeWeight=Xr(c,o)),l+=h.time.ed-(r||h.time.ed),r=h.time.ed,o=c}if(n===0&&s.length>1){const a=Math.ceil(l/(s.length-1)),h=new Date(1e3*(s[0].time.ed-a));s[0].timeWeight=Xr(new Date(1e3*s[0].time.ed),h)}})(t,e)}static ad(t){return Gt({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const oi=typeof window<"u";function Zr(){return!!oi&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Ys(){return!!oi&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function nn(i){return i+i%2}function Ip(i){oi&&window.chrome!==void 0&&i.addEventListener("mousedown",t=>{if(t.button===1)return t.preventDefault(),!1})}class Ss{constructor(t,e,s){this.ld=0,this.od=null,this._d={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.ud=0,this.dd=null,this.fd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.pd=null,this.vd=!1,this.md=null,this.wd=null,this.gd=!1,this.Md=!1,this.bd=!1,this.Sd=null,this.xd=null,this.Cd=null,this.Pd=null,this.kd=null,this.yd=null,this.Td=null,this.Rd=0,this.Dd=!1,this.Vd=!1,this.Id=!1,this.Bd=0,this.Ed=null,this.Ad=!Ys(),this.zd=n=>{this.Ld(n)},this.Od=n=>{if(this.Nd(n)){const r=this.Fd(n);if(++this.ud,this.dd&&this.ud>1){const{Wd:o}=this.Hd(se(n),this.fd);o<30&&!this.bd&&this.Ud(r,this.qd.$d),this.Yd()}}else{const r=this.Fd(n);if(++this.ld,this.od&&this.ld>1){const{Wd:o}=this.Hd(se(n),this._d);o<5&&!this.Md&&this.jd(r,this.qd.Kd),this.Xd()}}},this.Zd=t,this.qd=e,this.Ps=s,this.Gd()}m(){this.Sd!==null&&(this.Sd(),this.Sd=null),this.xd!==null&&(this.xd(),this.xd=null),this.Pd!==null&&(this.Pd(),this.Pd=null),this.kd!==null&&(this.kd(),this.kd=null),this.yd!==null&&(this.yd(),this.yd=null),this.Cd!==null&&(this.Cd(),this.Cd=null),this.Jd(),this.Xd()}Qd(t){this.Pd&&this.Pd();const e=this.tf.bind(this);if(this.Pd=()=>{this.Zd.removeEventListener("mousemove",e)},this.Zd.addEventListener("mousemove",e),this.Nd(t))return;const s=this.Fd(t);this.jd(s,this.qd.if),this.Ad=!0}Xd(){this.od!==null&&clearTimeout(this.od),this.ld=0,this.od=null,this._d={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Yd(){this.dd!==null&&clearTimeout(this.dd),this.ud=0,this.dd=null,this.fd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}tf(t){if(this.Id||this.wd!==null||this.Nd(t))return;const e=this.Fd(t);this.jd(e,this.qd.sf),this.Ad=!0}nf(t){const e=As(t.changedTouches,M(this.Ed));if(e===null||(this.Bd=Zi(t),this.Td!==null)||this.Vd)return;this.Dd=!0;const s=this.Hd(se(e),M(this.wd)),{ef:n,rf:r,Wd:o}=s;if(this.gd||!(o<5)){if(!this.gd){const l=.5*n,a=r>=l&&!this.Ps.hf(),h=l>r&&!this.Ps.af();a||h||(this.Vd=!0),this.gd=!0,this.bd=!0,this.Jd(),this.Yd()}if(!this.Vd){const l=this.Fd(t,e);this.Ud(l,this.qd.lf),Qe(t)}}}_f(t){if(t.button!==0)return;const e=this.Hd(se(t),M(this.md)),{Wd:s}=e;if(s>=5&&(this.Md=!0,this.Xd()),this.Md){const n=this.Fd(t);this.jd(n,this.qd.uf)}}Hd(t,e){const s=Math.abs(e._t-t._t),n=Math.abs(e.ut-t.ut);return{ef:s,rf:n,Wd:s+n}}cf(t){let e=As(t.changedTouches,M(this.Ed));if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e===null)return;this.Ed=null,this.Bd=Zi(t),this.Jd(),this.wd=null,this.yd&&(this.yd(),this.yd=null);const s=this.Fd(t,e);if(this.Ud(s,this.qd.df),++this.ud,this.dd&&this.ud>1){const{Wd:n}=this.Hd(se(e),this.fd);n<30&&!this.bd&&this.Ud(s,this.qd.$d),this.Yd()}else this.bd||(this.Ud(s,this.qd.ff),this.qd.ff&&Qe(t));this.ud===0&&Qe(t),t.touches.length===0&&this.vd&&(this.vd=!1,Qe(t))}Ld(t){if(t.button!==0)return;const e=this.Fd(t);if(this.md=null,this.Id=!1,this.kd&&(this.kd(),this.kd=null),Zr()&&this.Zd.ownerDocument.documentElement.removeEventListener("mouseleave",this.zd),!this.Nd(t))if(this.jd(e,this.qd.pf),++this.ld,this.od&&this.ld>1){const{Wd:s}=this.Hd(se(t),this._d);s<5&&!this.Md&&this.jd(e,this.qd.Kd),this.Xd()}else this.Md||this.jd(e,this.qd.vf)}Jd(){this.pd!==null&&(clearTimeout(this.pd),this.pd=null)}mf(t){if(this.Ed!==null)return;const e=t.changedTouches[0];this.Ed=e.identifier,this.Bd=Zi(t);const s=this.Zd.ownerDocument.documentElement;this.bd=!1,this.gd=!1,this.Vd=!1,this.wd=se(e),this.yd&&(this.yd(),this.yd=null);{const r=this.nf.bind(this),o=this.cf.bind(this);this.yd=()=>{s.removeEventListener("touchmove",r),s.removeEventListener("touchend",o)},s.addEventListener("touchmove",r,{passive:!1}),s.addEventListener("touchend",o,{passive:!1}),this.Jd(),this.pd=setTimeout(this.wf.bind(this,t),240)}const n=this.Fd(t,e);this.Ud(n,this.qd.gf),this.dd||(this.ud=0,this.dd=setTimeout(this.Yd.bind(this),500),this.fd=se(e))}Mf(t){if(t.button!==0)return;const e=this.Zd.ownerDocument.documentElement;Zr()&&e.addEventListener("mouseleave",this.zd),this.Md=!1,this.md=se(t),this.kd&&(this.kd(),this.kd=null);{const n=this._f.bind(this),r=this.Ld.bind(this);this.kd=()=>{e.removeEventListener("mousemove",n),e.removeEventListener("mouseup",r)},e.addEventListener("mousemove",n),e.addEventListener("mouseup",r)}if(this.Id=!0,this.Nd(t))return;const s=this.Fd(t);this.jd(s,this.qd.bf),this.od||(this.ld=0,this.od=setTimeout(this.Xd.bind(this),500),this._d=se(t))}Gd(){this.Zd.addEventListener("mouseenter",this.Qd.bind(this)),this.Zd.addEventListener("touchcancel",this.Jd.bind(this));{const t=this.Zd.ownerDocument,e=s=>{this.qd.Sf&&(s.composed&&this.Zd.contains(s.composedPath()[0])||s.target&&this.Zd.contains(s.target)||this.qd.Sf())};this.xd=()=>{t.removeEventListener("touchstart",e)},this.Sd=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}Ys()&&(this.Cd=()=>{this.Zd.removeEventListener("dblclick",this.Od)},this.Zd.addEventListener("dblclick",this.Od)),this.Zd.addEventListener("mouseleave",this.xf.bind(this)),this.Zd.addEventListener("touchstart",this.mf.bind(this),{passive:!0}),Ip(this.Zd),this.Zd.addEventListener("mousedown",this.Mf.bind(this)),this.Cf(),this.Zd.addEventListener("touchmove",()=>{},{passive:!1})}Cf(){this.qd.Pf===void 0&&this.qd.kf===void 0&&this.qd.yf===void 0||(this.Zd.addEventListener("touchstart",t=>this.Tf(t.touches),{passive:!0}),this.Zd.addEventListener("touchmove",t=>{if(t.touches.length===2&&this.Td!==null&&this.qd.kf!==void 0){const e=Jr(t.touches[0],t.touches[1])/this.Rd;this.qd.kf(this.Td,e),Qe(t)}},{passive:!1}),this.Zd.addEventListener("touchend",t=>{this.Tf(t.touches)}))}Tf(t){t.length===1&&(this.Dd=!1),t.length!==2||this.Dd||this.vd?this.Rf():this.Df(t)}Df(t){const e=this.Zd.getBoundingClientRect()||{left:0,top:0};this.Td={_t:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,ut:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Rd=Jr(t[0],t[1]),this.qd.Pf!==void 0&&this.qd.Pf(),this.Jd()}Rf(){this.Td!==null&&(this.Td=null,this.qd.yf!==void 0&&this.qd.yf())}xf(t){if(this.Pd&&this.Pd(),this.Nd(t)||!this.Ad)return;const e=this.Fd(t);this.jd(e,this.qd.Vf),this.Ad=!Ys()}wf(t){const e=As(t.touches,M(this.Ed));if(e===null)return;const s=this.Fd(t,e);this.Ud(s,this.qd.If),this.bd=!0,this.vd=!0}Nd(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:Zi(t)<this.Bd+500}Ud(t,e){e&&e.call(this.qd,t)}jd(t,e){e&&e.call(this.qd,t)}Fd(t,e){const s=e||t,n=this.Zd.getBoundingClientRect()||{left:0,top:0};return{clientX:s.clientX,clientY:s.clientY,pageX:s.pageX,pageY:s.pageY,screenX:s.screenX,screenY:s.screenY,localX:s.clientX-n.left,localY:s.clientY-n.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Bf:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",Ef:t.type,Af:s.target,a_:t.view,zf:()=>{t.type!=="touchstart"&&Qe(t)}}}}function Jr(i,t){const e=i.clientX-t.clientX,s=i.clientY-t.clientY;return Math.sqrt(e*e+s*s)}function Qe(i){i.cancelable&&i.preventDefault()}function se(i){return{_t:i.pageX,ut:i.pageY}}function Zi(i){return i.timeStamp||performance.now()}function As(i,t){for(let e=0;e<i.length;++e)if(i[e].identifier===t)return i[e];return null}class Dp{constructor(t,e,s){this.Lf=null,this.Of=null,this.Nf=!0,this.Ff=null,this.Wf=t,this.Hf=t.Uf()[e],this.$f=t.Uf()[s],this.qf=document.createElement("tr"),this.qf.style.height="1px",this.Yf=document.createElement("td"),this.Yf.style.position="relative",this.Yf.style.padding="0",this.Yf.style.margin="0",this.Yf.setAttribute("colspan","3"),this.jf(),this.qf.appendChild(this.Yf),this.Nf=this.Wf.N().layout.panes.enableResize,this.Nf?this.Kf():(this.Lf=null,this.Of=null)}m(){this.Of!==null&&this.Of.m()}Xf(){return this.qf}Zf(){return lt({width:this.Hf.Zf().width,height:1})}Gf(){return lt({width:this.Hf.Gf().width,height:1*window.devicePixelRatio})}Jf(t,e,s){const n=this.Gf();t.fillStyle=this.Wf.N().layout.panes.separatorColor,t.fillRect(e,s,n.width,n.height)}kt(){this.jf(),this.Wf.N().layout.panes.enableResize!==this.Nf&&(this.Nf=this.Wf.N().layout.panes.enableResize,this.Nf?this.Kf():(this.Lf!==null&&(this.Yf.removeChild(this.Lf.Qf),this.Yf.removeChild(this.Lf.tp),this.Lf=null),this.Of!==null&&(this.Of.m(),this.Of=null)))}Kf(){const t=document.createElement("div"),e=t.style;e.position="fixed",e.display="none",e.zIndex="49",e.top="0",e.left="0",e.width="100%",e.height="100%",e.cursor="row-resize",this.Yf.appendChild(t);const s=document.createElement("div"),n=s.style;n.position="absolute",n.zIndex="50",n.top="-4px",n.height="9px",n.width="100%",n.backgroundColor="",n.cursor="row-resize",this.Yf.appendChild(s);const r={if:this.ip.bind(this),Vf:this.sp.bind(this),bf:this.np.bind(this),gf:this.np.bind(this),uf:this.ep.bind(this),lf:this.ep.bind(this),pf:this.rp.bind(this),df:this.rp.bind(this)};this.Of=new Ss(s,r,{hf:()=>!1,af:()=>!0}),this.Lf={tp:s,Qf:t}}jf(){this.Yf.style.background=this.Wf.N().layout.panes.separatorColor}ip(t){this.Lf!==null&&(this.Lf.tp.style.backgroundColor=this.Wf.N().layout.panes.separatorHoverColor)}sp(t){this.Lf!==null&&this.Ff===null&&(this.Lf.tp.style.backgroundColor="")}np(t){if(this.Lf===null)return;const e=this.Hf.hp().Io()+this.$f.hp().Io(),s=e/(this.Hf.Zf().height+this.$f.Zf().height),n=30*s;e<=2*n||(this.Ff={ap:t.pageY,lp:this.Hf.hp().Io(),op:e-n,_p:e,up:s,cp:n},this.Lf.Qf.style.display="block")}ep(t){const e=this.Ff;if(e===null)return;const s=(t.pageY-e.ap)*e.up,n=ti(e.lp+s,e.cp,e.op);this.Hf.hp().Bo(n),this.$f.hp().Bo(e._p-n),this.Wf.Qt().Bh()}rp(t){this.Ff!==null&&this.Lf!==null&&(this.Ff=null,this.Lf.Qf.style.display="none")}}function Hs(i,t){return i.dp-t.dp}function Us(i,t,e){const s=(i.dp-t.dp)/(i.wt-t.wt);return Math.sign(s)*Math.min(Math.abs(s),e)}class Np{constructor(t,e,s,n){this.fp=null,this.pp=null,this.vp=null,this.mp=null,this.wp=null,this.gp=0,this.Mp=0,this.bp=t,this.Sp=e,this.xp=s,this.Mn=n}Cp(t,e){if(this.fp!==null){if(this.fp.wt===e)return void(this.fp.dp=t);if(Math.abs(this.fp.dp-t)<this.Mn)return}this.mp=this.vp,this.vp=this.pp,this.pp=this.fp,this.fp={wt:e,dp:t}}le(t,e){if(this.fp===null||this.pp===null||e-this.fp.wt>50)return;let s=0;const n=Us(this.fp,this.pp,this.Sp),r=Hs(this.fp,this.pp),o=[n],l=[r];if(s+=r,this.vp!==null){const h=Us(this.pp,this.vp,this.Sp);if(Math.sign(h)===Math.sign(n)){const c=Hs(this.pp,this.vp);if(o.push(h),l.push(c),s+=c,this.mp!==null){const u=Us(this.vp,this.mp,this.Sp);if(Math.sign(u)===Math.sign(n)){const d=Hs(this.vp,this.mp);o.push(u),l.push(d),s+=d}}}}let a=0;for(let h=0;h<o.length;++h)a+=l[h]/s*o[h];Math.abs(a)<this.bp||(this.wp={dp:t,wt:e},this.Mp=a,this.gp=function(h,c){const u=Math.log(c);return Math.log(1*u/-h)/u}(Math.abs(a),this.xp))}Ru(t){const e=M(this.wp),s=t-e.wt;return e.dp+this.Mp*(Math.pow(this.xp,s)-1)/Math.log(this.xp)}Tu(t){return this.wp===null||this.Pp(t)===this.gp}Pp(t){const e=t-M(this.wp).wt;return Math.min(e,this.gp)}}class Fp{constructor(t,e){this.kp=void 0,this.yp=void 0,this.Tp=void 0,this.ps=!1,this.Rp=t,this.Dp=e,this.Vp()}kt(){this.Vp()}Ip(){this.kp&&this.Rp.removeChild(this.kp),this.yp&&this.Rp.removeChild(this.yp),this.kp=void 0,this.yp=void 0}Bp(){return this.ps!==this.Ep()||this.Tp!==this.Ap()}Ap(){return this.Dp.Qt().Xi().J(this.Dp.N().layout.textColor)>160?"dark":"light"}Ep(){return this.Dp.N().layout.attributionLogo}zp(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}Vp(){this.Bp()&&(this.Ip(),this.ps=this.Ep(),this.ps&&(this.Tp=this.Ap(),this.yp=document.createElement("style"),this.yp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.kp=document.createElement("a"),this.kp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.zp()}`,this.kp.title="Charting by TradingView",this.kp.id="tv-attr-logo",this.kp.target="_blank",this.kp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.kp.toggleAttribute("data-dark",this.Tp==="dark"),this.Rp.appendChild(this.yp),this.Rp.appendChild(this.kp)))}}function He(i,t){const e=M(i.ownerDocument).createElement("canvas");i.appendChild(e);const s=Md(e,{options:{allowResizeObserver:!0},transform:(n,r)=>({width:Math.max(n.width,r.width),height:Math.max(n.height,r.height)})});return s.resizeCanvasElement(t),s}function Ue(i){var t;i.width=1,i.height=1,(t=i.getContext("2d"))==null||t.clearRect(0,0,1,1)}function rn(i,t,e,s){i.ih&&i.ih(t,e,s)}function ss(i,t,e,s){i.nt(t,e,s)}function on(i,t,e,s){const n=i(e,s);for(const r of n){const o=r.Tt(s);o!==null&&t(o)}}function Gs(i,t){return e=>{var s,n;return function(r){return r.Ft!==void 0}(e)?(((s=e.Ft())==null?void 0:s.wa())??"")!==t?[]:((n=e.ta)==null?void 0:n.call(e,i))??[]:[]}}function to(i,t,e,s){if(!i.length)return;let n=0;const r=i[0].$t(s,!0);let o=t===1?e/2-(i[0].Fi()-r/2):i[0].Fi()-r/2-e/2;o=Math.max(0,o);for(let l=1;l<i.length;l++){const a=i[l],h=i[l-1],c=h.$t(s,!1),u=a.Fi(),d=h.Fi();if(t===1?u>d-c:u<d+c){const f=d-c*t;a.Wi(f);const g=f-t*c/2;if((t===1?g<0:g>e)&&o>0){const v=t===1?-1-g:g-e,b=Math.min(v,o);for(let w=n;w<i.length;w++)i[w].Wi(i[w].Fi()+t*b);o-=b}}else n=l,o=t===1?d-c-u:u-(d+c)}}class eo{constructor(t,e,s,n){this.Yi=null,this.Lp=null,this.Op=!1,this.Np=new Ni(200),this.Fp=null,this.Wp=0,this.Hp=!1,this.Up=()=>{this.Hp||this.Pt.$p().Qt().ar()},this.qp=()=>{this.Hp||this.Pt.$p().Qt().ar()},this.Pt=t,this.Ps=e,this.bl=e.layout,this.Gu=s,this.Yp=n==="left",this.jp=Gs("normal",n),this.Kp=Gs("top",n),this.Xp=Gs("bottom",n),this.Yf=document.createElement("div"),this.Yf.style.height="100%",this.Yf.style.overflow="hidden",this.Yf.style.width="25px",this.Yf.style.left="0",this.Yf.style.position="relative",this.Zp=He(this.Yf,lt({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);const r=this.Zp.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Gp=He(this.Yf,lt({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.qp);const o=this.Gp.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const l={bf:this.np.bind(this),gf:this.np.bind(this),uf:this.ep.bind(this),lf:this.ep.bind(this),Sf:this.Jp.bind(this),pf:this.rp.bind(this),df:this.rp.bind(this),Kd:this.Qp.bind(this),$d:this.Qp.bind(this),if:this.tv.bind(this),Vf:this.sp.bind(this)};this.Of=new Ss(this.Gp.canvasElement,l,{hf:()=>!this.Ps.handleScroll.vertTouchDrag,af:()=>!0})}m(){this.Of.m(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.qp),Ue(this.Gp.canvasElement),this.Gp.dispose(),this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Ue(this.Zp.canvasElement),this.Zp.dispose(),this.Yi!==null&&this.Yi.no().u(this),this.Yi=null}Xf(){return this.Yf}P(){return this.bl.fontSize}iv(){const t=this.Gu.N();return this.Fp!==t.k&&(this.Np.In(),this.Fp=t.k),t}sv(){if(this.Yi===null)return 0;let t=0;const e=this.iv(),s=M(this.Zp.canvasElement.getContext("2d",{colorSpace:this.Pt.$p().N().layout.colorSpace}));s.save();const n=this.Yi.Va();s.font=this.nv(),n.length>0&&(t=Math.max(this.Np.Vi(s,n[0].Ga),this.Np.Vi(s,n[n.length-1].Ga)));const r=this.ev();for(let h=r.length;h--;){const c=this.Np.Vi(s,r[h].ri());c>t&&(t=c)}const o=this.Yi.zt();if(o!==null&&this.Lp!==null&&(l=this.Ps.crosshair).mode!==2&&l.horzLine.visible&&l.horzLine.labelVisible){const h=this.Yi.Ts(1,o),c=this.Yi.Ts(this.Lp.height-2,o);t=Math.max(t,this.Np.Vi(s,this.Yi.Zi(Math.floor(Math.min(h,c))+.11111111111111,o)),this.Np.Vi(s,this.Yi.Zi(Math.ceil(Math.max(h,c))-.11111111111111,o)))}var l;s.restore();const a=t||34;return nn(Math.ceil(e.S+e.C+e.I+e.B+5+a))}rv(t){this.Lp!==null&&De(this.Lp,t)||(this.Lp=t,this.Hp=!0,this.Zp.resizeCanvasElement(t),this.Gp.resizeCanvasElement(t),this.Hp=!1,this.Yf.style.width=`${t.width}px`,this.Yf.style.height=`${t.height}px`)}hv(){return M(this.Lp).width}_s(t){this.Yi!==t&&(this.Yi!==null&&this.Yi.no().u(this),this.Yi=t,t.no().i(this.ul.bind(this),this))}Ft(){return this.Yi}In(){const t=this.Pt.hp();this.Pt.$p().Qt().Zo(t,M(this.Ft()))}av(t){if(this.Lp===null)return;const e={colorSpace:this.Pt.$p().N().layout.colorSpace};if(t!==1){this.lv(),this.Zp.applySuggestedBitmapSize();const n=Ve(this.Zp,e);n!==null&&(n.useBitmapCoordinateSpace(r=>{this.ov(r),this._v(r)}),this.Pt.uv(n,this.Xp),this.cv(n),this.Pt.uv(n,this.jp),this.dv(n))}this.Gp.applySuggestedBitmapSize();const s=Ve(this.Gp,e);s!==null&&(s.useBitmapCoordinateSpace(({context:n,bitmapSize:r})=>{n.clearRect(0,0,r.width,r.height)}),this.fv(s),this.Pt.uv(s,this.Kp))}Gf(){return this.Zp.bitmapSize}Jf(t,e,s){const n=this.Gf();n.width>0&&n.height>0&&t.drawImage(this.Zp.canvasElement,e,s)}kt(){var t;(t=this.Yi)==null||t.Va()}np(t){if(this.Yi===null||this.Yi.Ki()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.$p().Qt(),s=this.Pt.hp();this.Op=!0,e.Uo(s,this.Yi,t.localY)}ep(t){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.$p().Qt(),s=this.Pt.hp(),n=this.Yi;e.$o(s,n,t.localY)}Jp(){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.Pt.$p().Qt(),e=this.Pt.hp(),s=this.Yi;this.Op&&(this.Op=!1,t.qo(e,s))}rp(t){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.$p().Qt(),s=this.Pt.hp();this.Op=!1,e.qo(s,this.Yi)}Qp(t){this.Ps.handleScale.axisDoubleClickReset.price&&this.In()}tv(t){this.Yi!==null&&(!this.Pt.$p().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Vl()||this.pv(1))}sp(t){this.pv(0)}ev(){const t=[],e=this.Yi===null?void 0:this.Yi;return(s=>{for(let n=0;n<s.length;++n){const r=s[n].Ws(this.Pt.hp(),e);for(let o=0;o<r.length;o++)t.push(r[o])}})(this.Pt.hp().Dt()),t}ov({context:t,bitmapSize:e}){const{width:s,height:n}=e,r=this.Pt.hp().Qt(),o=r.$(),l=r.Fc();o===l?vs(t,0,0,s,n,o):gl(t,0,0,s,n,o,l)}_v({context:t,bitmapSize:e,horizontalPixelRatio:s}){if(this.Lp===null||this.Yi===null||!this.Yi.N().borderVisible)return;t.fillStyle=this.Yi.N().borderColor;const n=Math.max(1,Math.floor(this.iv().S*s));let r;r=this.Yp?e.width-n:0,t.fillRect(r,0,n,e.height)}cv(t){if(this.Lp===null||this.Yi===null)return;const e=this.Yi.Va(),s=this.Yi.N(),n=this.iv(),r=this.Yp?this.Lp.width-n.C:0;s.borderVisible&&s.ticksVisible&&t.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:l,verticalPixelRatio:a})=>{o.fillStyle=s.borderColor;const h=Math.max(1,Math.floor(a)),c=Math.floor(.5*a),u=Math.round(n.C*l);o.beginPath();for(const d of e)o.rect(Math.floor(r*l),Math.round(d.ka*a)-c,u,h);o.fill()}),t.useMediaCoordinateSpace(({context:o})=>{o.font=this.nv(),o.fillStyle=s.textColor??this.bl.textColor,o.textAlign=this.Yp?"right":"left",o.textBaseline="middle";const l=this.Yp?Math.round(r-n.I):Math.round(r+n.C+n.I),a=e.map(h=>this.Np.Di(o,h.Ga));for(let h=e.length;h--;){const c=e[h];o.fillText(c.Ga,l,c.ka+a[h])}})}lv(){if(this.Lp===null||this.Yi===null)return;let t=this.Lp.height/2;const e=[],s=this.Yi.Dt().slice(),n=this.Pt.hp(),r=this.iv();this.Yi===n.$n()&&this.Pt.hp().Dt().forEach(a=>{n.Un(a)&&s.push(a)});const o=this.Yi.ba()[0],l=this.Yi;s.forEach(a=>{const h=a.Ws(n,l);h.forEach(c=>{c.Wi(null),c.Hi()&&e.push(c)}),o===a&&h.length>0&&(t=h[0].Bi())}),e.forEach(a=>a.Wi(a.Bi())),this.Yi.N().alignLabels&&this.vv(e,r,t)}vv(t,e,s){if(this.Lp===null)return;const n=t.filter(o=>o.Bi()<=s),r=t.filter(o=>o.Bi()>s);n.sort((o,l)=>l.Bi()-o.Bi()),n.length&&r.length&&r.push(n[0]),r.sort((o,l)=>o.Bi()-l.Bi());for(const o of t){const l=Math.floor(o.$t(e)/2),a=o.Bi();a>-l&&a<l&&o.Wi(l),a>this.Lp.height-l&&a<this.Lp.height+l&&o.Wi(this.Lp.height-l)}to(n,1,this.Lp.height,e),to(r,-1,this.Lp.height,e)}dv(t){if(this.Lp===null)return;const e=this.ev(),s=this.iv(),n=this.Yp?"right":"left";e.forEach(r=>{r.Ui()&&r.Tt(M(this.Yi)).nt(t,s,this.Np,n)})}fv(t){if(this.Lp===null||this.Yi===null)return;const e=this.Pt.$p().Qt(),s=[],n=this.Pt.hp(),r=e._c().Ws(n,this.Yi);r.length&&s.push(r);const o=this.iv(),l=this.Yp?"right":"left";s.forEach(a=>{a.forEach(h=>{h.Tt(M(this.Yi)).nt(t,o,this.Np,l)})})}pv(t){this.Yf.style.cursor=t===1?"ns-resize":"default"}ul(){const t=this.sv();this.Wp<t&&this.Pt.$p().Qt().Bh(),this.Wp=t}nv(){return ni(this.bl.fontSize,this.bl.fontFamily)}}function jp(i,t){var e;return((e=i.Jh)==null?void 0:e.call(i,t))??[]}function io(i,t){var e;return((e=i.Fs)==null?void 0:e.call(i,t))??[]}function so(i,t){var e;return((e=i.us)==null?void 0:e.call(i,t))??[]}function Op(i,t){var e;return((e=i.Xh)==null?void 0:e.call(i,t))??[]}class Ln{constructor(t,e){this.Lp=lt({width:0,height:0}),this.mv=null,this.wv=null,this.gv=null,this.Mv=null,this.bv=!1,this.Sv=new wt,this.xv=new wt,this.Cv=0,this.Pv=!1,this.kv=null,this.yv=!1,this.Tv=null,this.Rv=null,this.Hp=!1,this.Up=()=>{this.Hp||this.Dv===null||this.ts().ar()},this.qp=()=>{this.Hp||this.Dv===null||this.ts().ar()},this.Dp=t,this.Dv=e,this.Dv.t_().i(this.Vv.bind(this),this,!0),this.Iv=document.createElement("td"),this.Iv.style.padding="0",this.Iv.style.position="relative";const s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.style.position="relative",s.style.overflow="hidden",this.Bv=document.createElement("td"),this.Bv.style.padding="0",this.Ev=document.createElement("td"),this.Ev.style.padding="0",this.Iv.appendChild(s),this.Zp=He(s,lt({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);const n=this.Zp.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Gp=He(s,lt({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.qp);const r=this.Gp.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.qf=document.createElement("tr"),this.qf.appendChild(this.Bv),this.qf.appendChild(this.Iv),this.qf.appendChild(this.Ev),this.Av(),this.Of=new Ss(this.Gp.canvasElement,this,{hf:()=>this.kv===null&&!this.Dp.N().handleScroll.vertTouchDrag,af:()=>this.kv===null&&!this.Dp.N().handleScroll.horzTouchDrag})}m(){this.mv!==null&&this.mv.m(),this.wv!==null&&this.wv.m(),this.gv=null,this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.qp),Ue(this.Gp.canvasElement),this.Gp.dispose(),this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Ue(this.Zp.canvasElement),this.Zp.dispose(),this.Dv!==null&&(this.Dv.t_().u(this),this.Dv.m()),this.Of.m()}hp(){return M(this.Dv)}zv(t){var e;this.Dv!==null&&this.Dv.t_().u(this),this.Dv=t,this.Dv!==null&&this.Dv.t_().i(Ln.prototype.Vv.bind(this),this,!0),this.Av(),this.Dp.Uf().indexOf(this)===this.Dp.Uf().length-1?(this.gv=this.gv??new Fp(this.Iv,this.Dp),this.gv.kt()):((e=this.gv)==null||e.Ip(),this.gv=null)}$p(){return this.Dp}Xf(){return this.qf}Av(){if(this.Dv!==null&&(this.Lv(),this.ts().js().length!==0)){if(this.mv!==null){const t=this.Dv.Wo();this.mv._s(M(t))}if(this.wv!==null){const t=this.Dv.Ho();this.wv._s(M(t))}}}Ov(){this.mv!==null&&this.mv.kt(),this.wv!==null&&this.wv.kt()}Io(){return this.Dv!==null?this.Dv.Io():0}Bo(t){this.Dv&&this.Dv.Bo(t)}if(t){if(!this.Dv)return;this.Nv();const e=t.localX,s=t.localY;this.Fv(e,s,t)}bf(t){this.Nv(),this.Wv(),this.Fv(t.localX,t.localY,t)}sf(t){if(!this.Dv)return;this.Nv();const e=t.localX,s=t.localY;this.Fv(e,s,t)}vf(t){this.Dv!==null&&(this.Nv(),this.Hv(t))}Kd(t){this.Dv!==null&&this.Uv(this.xv,t)}$d(t){this.Kd(t)}uf(t){this.Nv(),this.$v(t),this.Fv(t.localX,t.localY,t)}pf(t){this.Dv!==null&&(this.Nv(),this.Pv=!1,this.qv(t))}ff(t){this.Dv!==null&&this.Hv(t)}If(t){if(this.Pv=!0,this.kv===null){const e={x:t.localX,y:t.localY};this.Yv(e,e,t)}}Vf(t){this.Dv!==null&&(this.Nv(),this.Dv.Qt().ac(null),this.jv())}Kv(){return this.Sv}Xv(){return this.xv}Pf(){this.Cv=1,this.ts().hn()}kf(t,e){if(!this.Dp.N().handleScale.pinch)return;const s=5*(e-this.Cv);this.Cv=e,this.ts().Mc(t._t,s)}gf(t){this.Pv=!1,this.yv=this.kv!==null,this.Wv();const e=this.ts()._c();this.kv!==null&&e.Vt()&&(this.Tv={x:e.si(),y:e.ni()},this.kv={x:t.localX,y:t.localY})}lf(t){if(this.Dv===null)return;const e=t.localX,s=t.localY;if(this.kv===null)this.$v(t);else{this.yv=!1;const n=M(this.Tv),r=n.x+(e-this.kv.x),o=n.y+(s-this.kv.y);this.Fv(r,o,t)}}df(t){this.$p().N().trackingMode.exitMode===0&&(this.yv=!0),this.Zv(),this.qv(t)}jn(t,e){const s=this.Dv;return s===null?null:Rl(s,t,e)}Gv(t,e){M(e==="left"?this.mv:this.wv).rv(lt({width:t,height:this.Lp.height}))}Zf(){return this.Lp}rv(t){De(this.Lp,t)||(this.Lp=t,this.Hp=!0,this.Zp.resizeCanvasElement(t),this.Gp.resizeCanvasElement(t),this.Hp=!1,this.Iv.style.width=t.width+"px",this.Iv.style.height=t.height+"px")}Jv(){const t=M(this.Dv);t.Fo(t.Wo()),t.Fo(t.Ho());for(const e of t.ba())if(t.Un(e)){const s=e.Ft();s!==null&&t.Fo(s),e.Ns()}for(const e of t.s_())e.Ns()}Gf(){return this.Zp.bitmapSize}Jf(t,e,s){const n=this.Gf();n.width>0&&n.height>0&&t.drawImage(this.Zp.canvasElement,e,s)}av(t){if(t===0||this.Dv===null)return;t>1&&this.Jv(),this.mv!==null&&this.mv.av(t),this.wv!==null&&this.wv.av(t);const e={colorSpace:this.Dp.N().layout.colorSpace};if(t!==1){this.Zp.applySuggestedBitmapSize();const n=Ve(this.Zp,e);n!==null&&(n.useBitmapCoordinateSpace(r=>{this.ov(r)}),this.Dv&&(this.Qv(n,jp),this.tm(n),this.Qv(n,io),this.Qv(n,so)))}this.Gp.applySuggestedBitmapSize();const s=Ve(this.Gp,e);s!==null&&(s.useBitmapCoordinateSpace(({context:n,bitmapSize:r})=>{n.clearRect(0,0,r.width,r.height)}),this.im(s),this.Qv(s,Op),this.Qv(s,so))}sm(){return this.mv}nm(){return this.wv}uv(t,e){this.Qv(t,e)}Vv(){this.Dv!==null&&this.Dv.t_().u(this),this.Dv=null}Hv(t){this.Uv(this.Sv,t)}Uv(t,e){const s=e.localX,n=e.localY;t.v()&&t.p(this.ts().Et().uu(s),{x:s,y:n},e)}ov({context:t,bitmapSize:e}){const{width:s,height:n}=e,r=this.ts(),o=r.$(),l=r.Fc();o===l?vs(t,0,0,s,n,l):gl(t,0,0,s,n,o,l)}tm(t){const e=M(this.Dv),s=e.i_().lr().Tt(e);s!==null&&s.nt(t,!1)}im(t){this.rm(t,io,ss,this.ts()._c())}Qv(t,e){const s=M(this.Dv),n=s.Dt(),r=s.s_();for(const o of r)this.rm(t,e,rn,o);for(const o of n)this.rm(t,e,rn,o);for(const o of r)this.rm(t,e,ss,o);for(const o of n)this.rm(t,e,ss,o)}rm(t,e,s,n){const r=M(this.Dv),o=r.Qt().hc(),l=o!==null&&o.n_===n,a=o!==null&&l&&o.e_!==void 0?o.e_.Xn:void 0;on(e,h=>s(h,t,l,a),n,r)}Lv(){if(this.Dv===null)return;const t=this.Dp,e=this.Dv.Wo().N().visible,s=this.Dv.Ho().N().visible;e||this.mv===null||(this.Bv.removeChild(this.mv.Xf()),this.mv.m(),this.mv=null),s||this.wv===null||(this.Ev.removeChild(this.wv.Xf()),this.wv.m(),this.wv=null);const n=t.Qt().Vc();e&&this.mv===null&&(this.mv=new eo(this,t.N(),n,"left"),this.Bv.appendChild(this.mv.Xf())),s&&this.wv===null&&(this.wv=new eo(this,t.N(),n,"right"),this.Ev.appendChild(this.wv.Xf()))}hm(t){return t.Bf&&this.Pv||this.kv!==null}am(t){return Math.max(0,Math.min(t,this.Lp.width-1))}lm(t){return Math.max(0,Math.min(t,this.Lp.height-1))}Fv(t,e,s){this.ts().yc(this.am(t),this.lm(e),s,M(this.Dv))}jv(){this.ts().Rc()}Zv(){this.yv&&(this.kv=null,this.jv())}Yv(t,e,s){this.kv=t,this.yv=!1,this.Fv(e.x,e.y,s);const n=this.ts()._c();this.Tv={x:n.si(),y:n.ni()}}ts(){return this.Dp.Qt()}qv(t){if(!this.bv)return;const e=this.ts(),s=this.hp();if(e.Ko(s,s.ys()),this.Mv=null,this.bv=!1,e.Cc(),this.Rv!==null){const n=performance.now(),r=e.Et();this.Rv.le(r.wu(),n),this.Rv.Tu(n)||e._n(this.Rv)}}Nv(){this.kv=null}Wv(){if(this.Dv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)M(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.Dv.ys().Ki()&&this.ts().Et().Ki()}}$v(t){if(this.Dv===null)return;const e=this.ts(),s=e.Et();if(s.Ki())return;const n=this.Dp.N(),r=n.handleScroll,o=n.kineticScroll;if((!r.pressedMouseMove||t.Bf)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!t.Bf))return;const l=this.Dv.ys(),a=performance.now();if(this.Mv!==null||this.hm(t)||(this.Mv={x:t.clientX,y:t.clientY,ed:a,om:t.localX,_m:t.localY}),this.Mv!==null&&!this.bv&&(this.Mv.x!==t.clientX||this.Mv.y!==t.clientY)){if(t.Bf&&o.touch||!t.Bf&&o.mouse){const h=s.vu();this.Rv=new Np(.2/h,7/h,.997,15/h),this.Rv.Cp(s.wu(),this.Mv.ed)}else this.Rv=null;l.Ki()||e.Yo(this.Dv,l,t.localY),e.Sc(t.localX),this.bv=!0}this.bv&&(l.Ki()||e.jo(this.Dv,l,t.localY),e.xc(t.localX),this.Rv!==null&&this.Rv.Cp(s.wu(),a))}}class no{constructor(t,e,s,n,r){this.xt=!0,this.Lp=lt({width:0,height:0}),this.Up=()=>this.av(3),this.Yp=t==="left",this.Gu=s.Vc,this.Ps=e,this.um=n,this.dm=r,this.Yf=document.createElement("div"),this.Yf.style.width="25px",this.Yf.style.height="100%",this.Yf.style.overflow="hidden",this.Zp=He(this.Yf,lt({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up)}m(){this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Ue(this.Zp.canvasElement),this.Zp.dispose()}Xf(){return this.Yf}Zf(){return this.Lp}rv(t){De(this.Lp,t)||(this.Lp=t,this.Zp.resizeCanvasElement(t),this.Yf.style.width=`${t.width}px`,this.Yf.style.height=`${t.height}px`,this.xt=!0)}av(t){if(t<3&&!this.xt||this.Lp.width===0||this.Lp.height===0)return;this.xt=!1,this.Zp.applySuggestedBitmapSize();const e=Ve(this.Zp,{colorSpace:this.Ps.layout.colorSpace});e!==null&&e.useBitmapCoordinateSpace(s=>{this.ov(s),this._v(s)})}Gf(){return this.Zp.bitmapSize}Jf(t,e,s){const n=this.Gf();n.width>0&&n.height>0&&t.drawImage(this.Zp.canvasElement,e,s)}_v({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(!this.um())return;t.fillStyle=this.Ps.timeScale.borderColor;const r=Math.floor(this.Gu.N().S*s),o=Math.floor(this.Gu.N().S*n),l=this.Yp?e.width-r:0;t.fillRect(l,0,r,o)}ov({context:t,bitmapSize:e}){vs(t,0,0,e.width,e.height,this.dm())}}function Tn(i){return t=>{var e;return((e=t.ia)==null?void 0:e.call(t,i))??[]}}const Wp=Tn("normal"),Vp=Tn("top"),Yp=Tn("bottom");class Ap{constructor(t,e){this.fm=null,this.pm=null,this.M=null,this.vm=!1,this.Lp=lt({width:0,height:0}),this.wm=new wt,this.Np=new Ni(5),this.Hp=!1,this.Up=()=>{this.Hp||this.Dp.Qt().ar()},this.qp=()=>{this.Hp||this.Dp.Qt().ar()},this.Dp=t,this.o_=e,this.Ps=t.N().layout,this.kp=document.createElement("tr"),this.gm=document.createElement("td"),this.gm.style.padding="0",this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.Yf=document.createElement("td"),this.Yf.style.height="25px",this.Yf.style.padding="0",this.bm=document.createElement("div"),this.bm.style.width="100%",this.bm.style.height="100%",this.bm.style.position="relative",this.bm.style.overflow="hidden",this.Yf.appendChild(this.bm),this.Zp=He(this.bm,lt({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);const s=this.Zp.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Gp=He(this.bm,lt({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.qp);const n=this.Gp.canvasElement;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0",this.kp.appendChild(this.gm),this.kp.appendChild(this.Yf),this.kp.appendChild(this.Mm),this.Sm(),this.Dp.Qt().Vo().i(this.Sm.bind(this),this),this.Of=new Ss(this.Gp.canvasElement,this,{hf:()=>!0,af:()=>!this.Dp.N().handleScroll.horzTouchDrag})}m(){this.Of.m(),this.fm!==null&&this.fm.m(),this.pm!==null&&this.pm.m(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.qp),Ue(this.Gp.canvasElement),this.Gp.dispose(),this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Ue(this.Zp.canvasElement),this.Zp.dispose()}Xf(){return this.kp}xm(){return this.fm}Cm(){return this.pm}bf(t){if(this.vm)return;this.vm=!0;const e=this.Dp.Qt();!e.Et().Ki()&&this.Dp.N().handleScale.axisPressedMouseMove.time&&e.gc(t.localX)}gf(t){this.bf(t)}Sf(){const t=this.Dp.Qt();!t.Et().Ki()&&this.vm&&(this.vm=!1,this.Dp.N().handleScale.axisPressedMouseMove.time&&t.kc())}uf(t){const e=this.Dp.Qt();!e.Et().Ki()&&this.Dp.N().handleScale.axisPressedMouseMove.time&&e.Pc(t.localX)}lf(t){this.uf(t)}pf(){this.vm=!1;const t=this.Dp.Qt();t.Et().Ki()&&!this.Dp.N().handleScale.axisPressedMouseMove.time||t.kc()}df(){this.pf()}Kd(){this.Dp.N().handleScale.axisDoubleClickReset.time&&this.Dp.Qt().cn()}$d(){this.Kd()}if(){this.Dp.Qt().N().handleScale.axisPressedMouseMove.time&&this.pv(1)}Vf(){this.pv(0)}Zf(){return this.Lp}Pm(){return this.wm}km(t,e,s){De(this.Lp,t)||(this.Lp=t,this.Hp=!0,this.Zp.resizeCanvasElement(t),this.Gp.resizeCanvasElement(t),this.Hp=!1,this.Yf.style.width=`${t.width}px`,this.Yf.style.height=`${t.height}px`,this.wm.p(t)),this.fm!==null&&this.fm.rv(lt({width:e,height:t.height})),this.pm!==null&&this.pm.rv(lt({width:s,height:t.height}))}ym(){const t=this.Tm();return Math.ceil(t.S+t.C+t.P+t.A+t.V+t.Rm)}kt(){this.Dp.Qt().Et().Va()}Gf(){return this.Zp.bitmapSize}Jf(t,e,s){const n=this.Gf();n.width>0&&n.height>0&&t.drawImage(this.Zp.canvasElement,e,s)}av(t){if(t===0)return;const e={colorSpace:this.Ps.colorSpace};if(t!==1){this.Zp.applySuggestedBitmapSize();const n=Ve(this.Zp,e);n!==null&&(n.useBitmapCoordinateSpace(r=>{this.ov(r),this._v(r),this.Dm(n,Yp)}),this.cv(n),this.Dm(n,Wp)),this.fm!==null&&this.fm.av(t),this.pm!==null&&this.pm.av(t)}this.Gp.applySuggestedBitmapSize();const s=Ve(this.Gp,e);s!==null&&(s.useBitmapCoordinateSpace(({context:n,bitmapSize:r})=>{n.clearRect(0,0,r.width,r.height)}),this.Vm([...this.Dp.Qt().js(),this.Dp.Qt()._c()],s),this.Dm(s,Vp))}Dm(t,e){const s=this.Dp.Qt().js();for(const n of s)on(e,r=>rn(r,t,!1,void 0),n,void 0);for(const n of s)on(e,r=>ss(r,t,!1,void 0),n,void 0)}ov({context:t,bitmapSize:e}){vs(t,0,0,e.width,e.height,this.Dp.Qt().Fc())}_v({context:t,bitmapSize:e,verticalPixelRatio:s}){if(this.Dp.N().timeScale.borderVisible){t.fillStyle=this.Im();const n=Math.max(1,Math.floor(this.Tm().S*s));t.fillRect(0,0,e.width,n)}}cv(t){const e=this.Dp.Qt().Et(),s=e.Va();if(!s||s.length===0)return;const n=this.o_.maxTickMarkWeight(s),r=this.Tm(),o=e.N();o.borderVisible&&o.ticksVisible&&t.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:a,verticalPixelRatio:h})=>{l.strokeStyle=this.Im(),l.fillStyle=this.Im();const c=Math.max(1,Math.floor(a)),u=Math.floor(.5*a);l.beginPath();const d=Math.round(r.C*h);for(let f=s.length;f--;){const g=Math.round(s[f].coord*a);l.rect(g-u,0,c,d)}l.fill()}),t.useMediaCoordinateSpace(({context:l})=>{const a=r.S+r.C+r.A+r.P/2;l.textAlign="center",l.textBaseline="middle",l.fillStyle=this.H(),l.font=this.nv();for(const h of s)if(h.weight<n){const c=h.needAlignCoordinate?this.Bm(l,h.coord,h.label):h.coord;l.fillText(h.label,c,a)}this.Dp.N().timeScale.allowBoldLabels&&(l.font=this.Em());for(const h of s)if(h.weight>=n){const c=h.needAlignCoordinate?this.Bm(l,h.coord,h.label):h.coord;l.fillText(h.label,c,a)}})}Bm(t,e,s){const n=this.Np.Vi(t,s),r=n/2,o=Math.floor(e-r)+.5;return o<0?e+=Math.abs(0-o):o+n>this.Lp.width&&(e-=Math.abs(this.Lp.width-(o+n))),e}Vm(t,e){const s=this.Tm();for(const n of t)for(const r of n.cs())r.Tt().nt(e,s)}Im(){return this.Dp.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}nv(){return ni(this.F(),this.Ps.fontFamily)}Em(){return ni(this.F(),this.Ps.fontFamily,"bold")}Tm(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new Ni,Rm:0});const t=this.M,e=this.nv();if(t.k!==e){const s=this.F();t.P=s,t.k=e,t.A=3*s/12,t.V=3*s/12,t.Ji=9*s/12,t.L=0,t.Rm=4*s/12,t.Gi.In()}return this.M}pv(t){this.Yf.style.cursor=t===1?"ew-resize":"default"}Sm(){const t=this.Dp.Qt(),e=t.N();e.leftPriceScale.visible||this.fm===null||(this.gm.removeChild(this.fm.Xf()),this.fm.m(),this.fm=null),e.rightPriceScale.visible||this.pm===null||(this.Mm.removeChild(this.pm.Xf()),this.pm.m(),this.pm=null);const s={Vc:this.Dp.Qt().Vc()},n=()=>e.leftPriceScale.borderVisible&&t.Et().N().borderVisible,r=()=>t.Fc();e.leftPriceScale.visible&&this.fm===null&&(this.fm=new no("left",e,s,n,r),this.gm.appendChild(this.fm.Xf())),e.rightPriceScale.visible&&this.pm===null&&(this.pm=new no("right",e,s,n,r),this.Mm.appendChild(this.pm.Xf()))}}var Oo;const Hp=!!oi&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(i=>i.brand.includes("Chromium"))&&!!oi&&((Oo=navigator==null?void 0:navigator.userAgentData)!=null&&Oo.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class Up{constructor(t,e,s){var n;this.Am=[],this.zm=[],this.Lm=0,this.sl=0,this.Mo=0,this.Om=0,this.Nm=0,this.Fm=null,this.Wm=!1,this.Sv=new wt,this.xv=new wt,this.Ku=new wt,this.Hm=null,this.Um=null,this.Rp=t,this.Ps=e,this.o_=s,this.kp=document.createElement("div"),this.kp.classList.add("tv-lightweight-charts"),this.kp.style.overflow="hidden",this.kp.style.direction="ltr",this.kp.style.width="100%",this.kp.style.height="100%",(n=this.kp).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.$m=document.createElement("table"),this.$m.setAttribute("cellspacing","0"),this.kp.appendChild(this.$m),this.qm=this.Ym.bind(this),Xs(this.Ps)&&this.jm(!0),this.ts=new Ep(this.Zu.bind(this),this.Ps,s),this.Qt().uc().i(this.Km.bind(this),this),this.Xm=new Ap(this,this.o_),this.$m.appendChild(this.Xm.Xf());const r=e.autoSize&&this.Zm();let o=this.Ps.width,l=this.Ps.height;if(r||o===0||l===0){const a=t.getBoundingClientRect();o=o||a.width,l=l||a.height}this.Gm(o,l),this.Jm(),t.appendChild(this.kp),this.Qm(),this.ts.Et().Iu().i(this.ts.Bh.bind(this.ts),this),this.ts.Vo().i(this.ts.Bh.bind(this.ts),this)}Qt(){return this.ts}N(){return this.Ps}Uf(){return this.Am}tw(){return this.Xm}m(){this.jm(!1),this.Lm!==0&&window.cancelAnimationFrame(this.Lm),this.ts.uc().u(this),this.ts.Et().Iu().u(this),this.ts.Vo().u(this),this.ts.m();for(const t of this.Am)this.$m.removeChild(t.Xf()),t.Kv().u(this),t.Xv().u(this),t.m();this.Am=[];for(const t of this.zm)this.iw(t);this.zm=[],M(this.Xm).m(),this.kp.parentElement!==null&&this.kp.parentElement.removeChild(this.kp),this.Ku.m(),this.Sv.m(),this.xv.m(),this.sw()}Gm(t,e,s=!1){if(this.sl===e&&this.Mo===t)return;const n=function(l){const a=Math.floor(l.width),h=Math.floor(l.height);return lt({width:a-a%2,height:h-h%2})}(lt({width:t,height:e}));this.sl=n.height,this.Mo=n.width;const r=this.sl+"px",o=this.Mo+"px";M(this.kp).style.height=r,M(this.kp).style.width=o,this.$m.style.height=r,this.$m.style.width=o,s?this.nw(Rt.gn(),performance.now()):this.ts.Bh()}av(t){t===void 0&&(t=Rt.gn());for(let e=0;e<this.Am.length;e++)this.Am[e].av(t.en(e).tn);this.Ps.timeScale.visible&&this.Xm.av(t.nn())}hr(t){var n;const e=Xs(this.Ps);this.ts.hr(t);const s=Xs(this.Ps);s!==e&&this.jm(s),(n=t.layout)!=null&&n.panes&&this.ew(),this.Qm(),this.rw(t)}Kv(){return this.Sv}Xv(){return this.xv}uc(){return this.Ku}hw(){this.Fm!==null&&(this.nw(this.Fm,performance.now()),this.Fm=null);const t=this.aw(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const s=M(e.getContext("2d"));return this.aw(s),e}lw(t){return t==="left"&&!this.ow()||t==="right"&&!this._w()||this.Am.length===0?0:M(t==="left"?this.Am[0].sm():this.Am[0].nm()).hv()}uw(){return this.Ps.autoSize&&this.Hm!==null}tp(){return this.kp}cw(t){this.Um=t,this.Um?this.tp().style.setProperty("cursor",t):this.tp().style.removeProperty("cursor")}dw(){return this.Um}fw(t){return jt(this.Am[t]).Zf()}ew(){this.zm.forEach(t=>{t.kt()})}rw(t){(t.autoSize!==void 0||!this.Hm||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.Hm&&this.Zm(),t.autoSize===!1&&this.Hm!==null&&this.sw(),t.autoSize||t.width===void 0&&t.height===void 0||this.Gm(t.width||this.Mo,t.height||this.sl))}aw(t){let e=0,s=0;const n=this.Am[0],r=(l,a)=>{let h=0;for(let c=0;c<this.Am.length;c++){const u=this.Am[c],d=M(l==="left"?u.sm():u.nm()),f=d.Gf();if(t!==null&&d.Jf(t,a,h),h+=f.height,c<this.Am.length-1){const g=this.zm[c],v=g.Gf();t!==null&&g.Jf(t,a,h),h+=v.height}}};this.ow()&&(r("left",0),e+=M(n.sm()).Gf().width);for(let l=0;l<this.Am.length;l++){const a=this.Am[l],h=a.Gf();if(t!==null&&a.Jf(t,e,s),s+=h.height,l<this.Am.length-1){const c=this.zm[l],u=c.Gf();t!==null&&c.Jf(t,e,s),s+=u.height}}e+=n.Gf().width,this._w()&&(r("right",e),e+=M(n.nm()).Gf().width);const o=(l,a,h)=>{M(l==="left"?this.Xm.xm():this.Xm.Cm()).Jf(M(t),a,h)};if(this.Ps.timeScale.visible){const l=this.Xm.Gf();if(t!==null){let a=0;this.ow()&&(o("left",a,s),a=M(n.sm()).Gf().width),this.Xm.Jf(t,a,s),a+=l.width,this._w()&&o("right",a,s)}s+=l.height}return lt({width:e,height:s})}pw(){let t=0,e=0,s=0;for(const b of this.Am)this.ow()&&(e=Math.max(e,M(b.sm()).sv(),this.Ps.leftPriceScale.minimumWidth)),this._w()&&(s=Math.max(s,M(b.nm()).sv(),this.Ps.rightPriceScale.minimumWidth)),t+=b.Io();e=nn(e),s=nn(s);const n=this.Mo,r=this.sl,o=Math.max(n-e-s,0),l=1*this.zm.length,a=this.Ps.timeScale.visible;let h=a?Math.max(this.Xm.ym(),this.Ps.timeScale.minimumHeight):0;var c;h=(c=h)+c%2;const u=l+h,d=r<u?0:r-u,f=d/t;let g=0;const v=window.devicePixelRatio||1;for(let b=0;b<this.Am.length;++b){const w=this.Am[b];w.zv(this.ts.$s()[b]);let x=0,S=0;S=b===this.Am.length-1?Math.ceil((d-g)*v)/v:Math.round(w.Io()*f*v)/v,x=Math.max(S,2),g+=x,w.rv(lt({width:o,height:x})),this.ow()&&w.Gv(e,"left"),this._w()&&w.Gv(s,"right"),w.hp()&&this.ts.cc(w.hp(),x)}this.Xm.km(lt({width:a?o:0,height:h}),a?e:0,a?s:0),this.ts.Eo(o),this.Om!==e&&(this.Om=e),this.Nm!==s&&(this.Nm=s)}jm(t){t?this.kp.addEventListener("wheel",this.qm,{passive:!1}):this.kp.removeEventListener("wheel",this.qm)}mw(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return Hp?1/window.devicePixelRatio:1}Ym(t){if(!(t.deltaX!==0&&this.Ps.handleScroll.mouseWheel||t.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const e=this.mw(t),s=e*t.deltaX/100,n=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),n!==0&&this.Ps.handleScale.mouseWheel){const r=Math.sign(n)*Math.min(1,Math.abs(n)),o=t.clientX-this.kp.getBoundingClientRect().left;this.Qt().Mc(o,r)}s!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().bc(-80*s)}nw(t,e){var n;const s=t.nn();s===3&&this.ww(),s!==3&&s!==2||(this.gw(t),this.Mw(t,e),this.Xm.kt(),this.Am.forEach(r=>{r.Ov()}),((n=this.Fm)==null?void 0:n.nn())===3&&(this.Fm.vn(t),this.ww(),this.gw(this.Fm),this.Mw(this.Fm,e),t=this.Fm,this.Fm=null)),this.av(t)}Mw(t,e){for(const s of t.pn())this.mn(s,e)}gw(t){const e=this.ts.$s();for(let s=0;s<e.length;s++)t.en(s).sn&&e[s].Go()}mn(t,e){const s=this.ts.Et();switch(t.an){case 0:s.Eu();break;case 1:s.Au(t.Wt);break;case 2:s.dn(t.Wt);break;case 3:s.fn(t.Wt);break;case 4:s.bu();break;case 5:t.Wt.Tu(e)||s.fn(t.Wt.Ru(e))}}Zu(t){this.Fm!==null?this.Fm.vn(t):this.Fm=t,this.Wm||(this.Wm=!0,this.Lm=window.requestAnimationFrame(e=>{if(this.Wm=!1,this.Lm=0,this.Fm!==null){const s=this.Fm;this.Fm=null,this.nw(s,e);for(const n of s.pn())if(n.an===5&&!n.Wt.Tu(e)){this.Qt()._n(n.Wt);break}}}))}ww(){this.Jm()}iw(t){this.$m.removeChild(t.Xf()),t.m()}Jm(){const t=this.ts.$s(),e=t.length,s=this.Am.length;for(let n=e;n<s;n++){const r=jt(this.Am.pop());this.$m.removeChild(r.Xf()),r.Kv().u(this),r.Xv().u(this),r.m();const o=this.zm.pop();o!==void 0&&this.iw(o)}for(let n=s;n<e;n++){const r=new Ln(this,t[n]);if(r.Kv().i(this.bw.bind(this,r),this),r.Xv().i(this.Sw.bind(this,r),this),this.Am.push(r),n>0){const o=new Dp(this,n-1,n);this.zm.push(o),this.$m.insertBefore(o.Xf(),this.Xm.Xf())}this.$m.insertBefore(r.Xf(),this.Xm.Xf())}for(let n=0;n<e;n++){const r=t[n],o=this.Am[n];o.hp()!==r?o.zv(r):o.Av()}this.Qm(),this.pw()}xw(t,e,s,n){var u;const r=new Map;t!==null&&this.ts.js().forEach(d=>{const f=d.Xs().Fr(t);f!==null&&r.set(d,f)});let o;if(t!==null){const d=(u=this.ts.Et().ss(t))==null?void 0:u.originalTime;d!==void 0&&(o=d)}const l=this.Qt().hc(),a=l!==null&&l.n_ instanceof ys?l.n_:void 0,h=l!==null&&l.e_!==void 0?l.e_.Kn:void 0,c=this.Cw(n);return{Pw:o,Re:t??void 0,kw:e??void 0,yw:c!==-1?c:void 0,Tw:a,Rw:r,Dw:h,Vw:s??void 0}}Cw(t){let e=-1;if(t)e=this.Am.indexOf(t);else{const s=this.Qt()._c().Us();s!==null&&(e=this.Qt().$s().indexOf(s))}return e}bw(t,e,s,n){this.Sv.p(()=>this.xw(e,s,n,t))}Sw(t,e,s,n){this.xv.p(()=>this.xw(e,s,n,t))}Km(t,e,s){var n;this.cw(((n=this.Qt().hc())==null?void 0:n.h_)??null),this.Ku.p(()=>this.xw(t,e,s))}Qm(){const t=this.Ps.timeScale.visible?"":"none";this.Xm.Xf().style.display=t}ow(){return this.Am[0].hp().Wo().N().visible}_w(){return this.Am[0].hp().Ho().N().visible}Zm(){return"ResizeObserver"in window&&(this.Hm=new ResizeObserver(t=>{const e=t[t.length-1];e&&this.Gm(e.contentRect.width,e.contentRect.height)}),this.Hm.observe(this.Rp,{box:"border-box"}),!0)}sw(){this.Hm!==null&&this.Hm.disconnect(),this.Hm=null}}function Xs(i){return!!(i.handleScroll.mouseWheel||i.handleScale.mouseWheel)}function Gp(i){return i.open===void 0&&i.value===void 0}function Xp(i){return function(t){return t.open!==void 0}(i)||function(t){return t.value!==void 0}(i)}function ro(i,t,e,s){const n=e.value,r={Re:t,wt:i,Wt:[n,n,n,n],Pw:s};return e.color!==void 0&&(r.R=e.color),r}function Qp(i,t,e,s){const n=e.value,r={Re:t,wt:i,Wt:[n,n,n,n],Pw:s};return e.lineColor!==void 0&&(r.vt=e.lineColor),e.topColor!==void 0&&(r.mr=e.topColor),e.bottomColor!==void 0&&(r.wr=e.bottomColor),r}function Kp(i,t,e,s){const n=e.value,r={Re:t,wt:i,Wt:[n,n,n,n],Pw:s};return e.topLineColor!==void 0&&(r.gr=e.topLineColor),e.bottomLineColor!==void 0&&(r.Mr=e.bottomLineColor),e.topFillColor1!==void 0&&(r.br=e.topFillColor1),e.topFillColor2!==void 0&&(r.Sr=e.topFillColor2),e.bottomFillColor1!==void 0&&(r.Cr=e.bottomFillColor1),e.bottomFillColor2!==void 0&&(r.Pr=e.bottomFillColor2),r}function qp(i,t,e,s){const n={Re:t,wt:i,Wt:[e.open,e.high,e.low,e.close],Pw:s};return e.color!==void 0&&(n.R=e.color),n}function Zp(i,t,e,s){const n={Re:t,wt:i,Wt:[e.open,e.high,e.low,e.close],Pw:s};return e.color!==void 0&&(n.R=e.color),e.borderColor!==void 0&&(n.Ht=e.borderColor),e.wickColor!==void 0&&(n.vr=e.wickColor),n}function Jp(i,t,e,s,n){const r=jt(n)(e),o=Math.max(...r),l=Math.min(...r),a=r[r.length-1],h=[a,o,l,a],{time:c,color:u,...d}=e;return{Re:t,wt:i,Wt:h,Pw:s,se:d,R:u}}function xi(i){return i.Wt!==void 0}function oo(i,t){return t.customValues!==void 0&&(i.Iw=t.customValues),i}function Te(i){return(t,e,s,n,r,o)=>function(l,a){return a?a(l):Gp(l)}(s,o)?oo({wt:t,Re:e,Pw:n},s):oo(i(t,e,s,n,r),s)}function lo(i){return{Candlestick:Te(Zp),Bar:Te(qp),Area:Te(Qp),Baseline:Te(Kp),Histogram:Te(ro),Line:Te(ro),Custom:Te(Jp)}[i]}function ao(i){return{Re:0,Bw:new Map,Hh:i}}function ho(i,t){if(i!==void 0&&i.length!==0)return{Ew:t.key(i[0].wt),Aw:t.key(i[i.length-1].wt)}}function co(i){let t;return i.forEach(e=>{t===void 0&&(t=e.Pw)}),jt(t)}class tf{constructor(t){this.zw=new Map,this.Lw=new Map,this.Ow=new Map,this.Nw=[],this.o_=t}m(){this.zw.clear(),this.Lw.clear(),this.Ow.clear(),this.Nw=[]}Fw(t,e){let s=this.zw.size!==0,n=!1;const r=this.Lw.get(t);if(r!==void 0)if(this.Lw.size===1)s=!1,n=!0,this.zw.clear();else for(const a of this.Nw)a.pointData.Bw.delete(t)&&(n=!0);let o=[];if(e.length!==0){const a=e.map(f=>f.time),h=this.o_.createConverterToInternalObj(e),c=lo(t.Rr()),u=t.da(),d=t.pa();o=e.map((f,g)=>{const v=h(f.time),b=this.o_.key(v);let w=this.zw.get(b);w===void 0&&(w=ao(v),this.zw.set(b,w),n=!0);const x=c(v,w.Re,f,a[g],u,d);return w.Bw.set(t,x),x})}s&&this.Ww(),this.Hw(t,o);let l=-1;if(n){const a=[];this.zw.forEach(h=>{a.push({timeWeight:0,time:h.Hh,pointData:h,originalTime:co(h.Bw)})}),a.sort((h,c)=>this.o_.key(h.time)-this.o_.key(c.time)),l=this.Uw(a)}return this.$w(t,l,function(a,h,c){const u=ho(a,c),d=ho(h,c);if(u!==void 0&&d!==void 0)return{qw:!1,zh:u.Aw>=d.Aw&&u.Ew>=d.Ew}}(this.Lw.get(t),r,this.o_))}Ec(t){return this.Fw(t,[])}Yw(t,e,s){const n=e;(function(b){b.Pw===void 0&&(b.Pw=b.time)})(n),this.o_.preprocessData(e);const r=this.o_.createConverterToInternalObj([e])(e.time),o=this.Ow.get(t);if(!s&&o!==void 0&&this.o_.key(r)<this.o_.key(o))throw new Error(`Cannot update oldest data, last time=${o}, new time=${r}`);let l=this.zw.get(this.o_.key(r));if(s&&l===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const a=l===void 0;l===void 0&&(l=ao(r),this.zw.set(this.o_.key(r),l));const h=lo(t.Rr()),c=t.da(),u=t.pa(),d=h(r,l.Re,e,n.Pw,c,u);l.Bw.set(t,d),s?this.jw(t,d,l.Re):this.Kw(t,d);const f={zh:xi(d),qw:s};if(!a)return this.$w(t,-1,f);const g={timeWeight:0,time:l.Hh,pointData:l,originalTime:co(l.Bw)},v=ri(this.Nw,this.o_.key(g.time),(b,w)=>this.o_.key(b.time)<w);this.Nw.splice(v,0,g);for(let b=v;b<this.Nw.length;++b)Qs(this.Nw[b].pointData,b);return this.o_.fillWeightsForPoints(this.Nw,v),this.$w(t,v,f)}Kw(t,e){let s=this.Lw.get(t);s===void 0&&(s=[],this.Lw.set(t,s));const n=s.length!==0?s[s.length-1]:null;n===null||this.o_.key(e.wt)>this.o_.key(n.wt)?xi(e)&&s.push(e):xi(e)?s[s.length-1]=e:s.splice(-1,1),this.Ow.set(t,e.wt)}jw(t,e,s){const n=this.Lw.get(t);if(n===void 0)return;const r=ri(n,s,(o,l)=>o.Re<l);xi(e)?n[r]=e:n.splice(r,1)}Hw(t,e){e.length!==0?(this.Lw.set(t,e.filter(xi)),this.Ow.set(t,e[e.length-1].wt)):(this.Lw.delete(t),this.Ow.delete(t))}Ww(){for(const t of this.Nw)t.pointData.Bw.size===0&&this.zw.delete(this.o_.key(t.time))}Uw(t){let e=-1;for(let s=0;s<this.Nw.length&&s<t.length;++s){const n=this.Nw[s],r=t[s];if(this.o_.key(n.time)!==this.o_.key(r.time)){e=s;break}r.timeWeight=n.timeWeight,Qs(r.pointData,s)}if(e===-1&&this.Nw.length!==t.length&&(e=Math.min(this.Nw.length,t.length)),e===-1)return-1;for(let s=e;s<t.length;++s)Qs(t[s].pointData,s);return this.o_.fillWeightsForPoints(t,e),this.Nw=t,e}Xw(){if(this.Lw.size===0)return null;let t=0;return this.Lw.forEach(e=>{e.length!==0&&(t=Math.max(t,e[e.length-1].Re))}),t}$w(t,e,s){const n={Oo:new Map,Et:{ou:this.Xw()}};if(e!==-1)this.Lw.forEach((r,o)=>{n.Oo.set(o,{se:r,Zw:o===t?s:void 0})}),this.Lw.has(t)||n.Oo.set(t,{se:[],Zw:s}),n.Et.Gw=this.Nw,n.Et.Jw=e;else{const r=this.Lw.get(t);n.Oo.set(t,{se:r||[],Zw:s})}return n}}function Qs(i,t){i.Re=t,i.Bw.forEach(e=>{e.Re=t})}function ef(i,t){return i.wt<t}function sf(i,t){return t<i.wt}function El(i,t,e){const s=t.Uh(),n=t.bi(),r=ri(i,s,ef),o=Cl(i,n,sf);if(!e)return{from:r,to:o};let l=r,a=o;return r>0&&r<i.length&&i[r].wt>=s&&(l=r-1),o>0&&o<i.length&&i[o-1].wt<=n&&(a=o+1),{from:l,to:a}}class In{constructor(t,e,s){this.Qw=!0,this.tg=!0,this.ig=!0,this.sg=[],this.ng=null,this.Jn=t,this.Qn=e,this.eg=s}kt(t){this.Qw=!0,t==="data"&&(this.tg=!0),t==="options"&&(this.ig=!0)}Tt(){return this.Jn.Vt()?(this.rg(),this.ng===null?null:this.hg):null}ag(){this.sg=this.sg.map(t=>({...t,...this.Jn.Rh().Dr(t.wt)}))}lg(){this.ng=null}rg(){this.tg&&(this.og(),this.tg=!1),this.ig&&(this.ag(),this.ig=!1),this.Qw&&(this._g(),this.Qw=!1)}_g(){const t=this.Jn.Ft(),e=this.Qn.Et();if(this.lg(),e.Ki()||t.Ki())return;const s=e.Pe();if(s===null||this.Jn.Xs().zr()===0)return;const n=this.Jn.zt();n!==null&&(this.ng=El(this.sg,s,this.eg),this.ug(t,e,n.Wt),this.cg())}}class nf{constructor(t,e){this.dg=t,this.Yi=e}nt(t,e,s){this.dg.draw(t,this.Yi,e,s)}}class rf extends In{constructor(t,e,s){super(t,e,!1),this.sh=s,this.hg=new nf(this.sh.renderer(),n=>{const r=t.zt();return r===null?null:t.Ft().Nt(n,r.Wt)})}fa(t){return this.sh.priceValueBuilder(t)}va(t){return this.sh.isWhitespace(t)}og(){const t=this.Jn.Rh();this.sg=this.Jn.Xs().Hr().map(e=>({wt:e.Re,_t:NaN,...t.Dr(e.Re),fg:e.se}))}ug(t,e){e._u(this.sg,Ii(this.ng))}cg(){this.sh.update({bars:this.sg.map(of),barSpacing:this.Qn.Et().vu(),visibleRange:this.ng},this.Jn.N())}}function of(i){return{x:i._t,time:i.wt,originalData:i.fg,barColor:i.cr}}const lf={color:"#2196f3"},af=(i,t,e)=>{const s=be(e);return new rf(i,t,s)};function Dn(i){const t={value:i.Wt[3],time:i.Pw};return i.Iw!==void 0&&(t.customValues=i.Iw),t}function uo(i){const t=Dn(i);return i.R!==void 0&&(t.color=i.R),t}function hf(i){const t=Dn(i);return i.vt!==void 0&&(t.lineColor=i.vt),i.mr!==void 0&&(t.topColor=i.mr),i.wr!==void 0&&(t.bottomColor=i.wr),t}function cf(i){const t=Dn(i);return i.gr!==void 0&&(t.topLineColor=i.gr),i.Mr!==void 0&&(t.bottomLineColor=i.Mr),i.br!==void 0&&(t.topFillColor1=i.br),i.Sr!==void 0&&(t.topFillColor2=i.Sr),i.Cr!==void 0&&(t.bottomFillColor1=i.Cr),i.Pr!==void 0&&(t.bottomFillColor2=i.Pr),t}function Bl(i){const t={open:i.Wt[0],high:i.Wt[1],low:i.Wt[2],close:i.Wt[3],time:i.Pw};return i.Iw!==void 0&&(t.customValues=i.Iw),t}function uf(i){const t=Bl(i);return i.R!==void 0&&(t.color=i.R),t}function df(i){const t=Bl(i),{R:e,Ht:s,vr:n}=i;return e!==void 0&&(t.color=e),s!==void 0&&(t.borderColor=s),n!==void 0&&(t.wickColor=n),t}function ln(i){return{Area:hf,Line:uo,Baseline:cf,Histogram:uo,Bar:uf,Candlestick:df,Custom:pf}[i]}function pf(i){const t=i.Pw;return{...i.se,time:t}}const ff={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},mf={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},gf={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:_n,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},Ks={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},vf={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function po(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:gf,crosshair:ff,grid:mf,overlayPriceScales:{...Ks},leftPriceScale:{...Ks,visible:!1},rightPriceScale:{...Ks,visible:!0},timeScale:vf,localization:{locale:oi?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class zl{constructor(t,e,s){this.Wf=t,this.pg=e,this.vg=s??0}applyOptions(t){this.Wf.Qt().lc(this.pg,t,this.vg)}options(){return this.Yi().N()}width(){return ws(this.pg)?this.Wf.lw(this.pg):0}setVisibleRange(t){this.setAutoScale(!1),this.Yi().Wl(new Tt(t.from,t.to))}getVisibleRange(){const t=this.Yi().Qe();return t===null?null:{from:t.$e(),to:t.qe()}}setAutoScale(t){this.applyOptions({autoScale:t})}Yi(){return M(this.Wf.Qt().oc(this.pg,this.vg)).Ft}}class bf{constructor(t,e,s,n){this.Wf=t,this.Pt=s,this.mg=e,this.wg=n}getHeight(){return this.Pt.$t()}setHeight(t){const e=this.Wf.Qt(),s=e.Hc(this.Pt);e.fc(s,t)}getStretchFactor(){return this.Pt.Io()}setStretchFactor(t){this.Pt.Bo(t),this.Wf.Qt().Bh()}paneIndex(){return this.Wf.Qt().Hc(this.Pt)}moveTo(t){const e=this.paneIndex();e!==t&&(_t(t>=0&&t<this.Wf.Uf().length,"Invalid pane index"),this.Wf.Qt().mc(e,t))}getSeries(){return this.Pt.Oo().map(t=>this.mg(t))??[]}getHTMLElement(){const t=this.Wf.Uf();return t&&t.length!==0&&t[this.paneIndex()]?t[this.paneIndex()].Xf():null}attachPrimitive(t){this.Pt.ua(t),t.attached&&t.attached({chart:this.wg,requestUpdate:()=>this.Pt.Qt().Bh()})}detachPrimitive(t){this.Pt.ca(t)}priceScale(t){if(this.Pt.Do(t)===null)throw new Error(`Cannot find price scale with id: ${t}`);return new zl(this.Wf,t,this.paneIndex())}setPreserveEmptyPane(t){this.Pt.zo(t)}preserveEmptyPane(){return this.Pt.Lo()}addCustomSeries(t,e={},s=0){return this.wg.addCustomSeries(t,e,s)}addSeries(t,e={}){return this.wg.addSeries(t,e,this.paneIndex())}}const wf={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class fo{constructor(t){this.ir=t}applyOptions(t){this.ir.hr(t)}options(){return this.ir.N()}gg(){return this.ir}}class xf{constructor(t,e,s,n,r,o){this.Mg=new wt,this.Jn=t,this.bg=e,this.Sg=s,this.o_=r,this.wg=n,this.xg=o}m(){this.Mg.m()}priceFormatter(){return this.Jn.ra()}priceToCoordinate(t){const e=this.Jn.zt();return e===null?null:this.Jn.Ft().Nt(t,e.Wt)}coordinateToPrice(t){const e=this.Jn.zt();return e===null?null:this.Jn.Ft().Ts(t,e.Wt)}barsInLogicalRange(t){if(t===null)return null;const e=new ii(new ei(t.from,t.to)).k_(),s=this.Jn.Xs();if(s.Ki())return null;const n=s.Fr(e.Uh(),1),r=s.Fr(e.bi(),-1),o=M(s.Lr()),l=M(s.Ks());if(n!==null&&r!==null&&n.Re>r.Re)return{barsBefore:t.from-o,barsAfter:l-t.to};const a={barsBefore:n===null||n.Re===o?t.from-o:n.Re-o,barsAfter:r===null||r.Re===l?l-t.to:l-r.Re};return n!==null&&r!==null&&(a.from=n.Pw,a.to=r.Pw),a}setData(t){this.o_,this.Jn.Rr(),this.bg.Cg(this.Jn,t),this.Pg("full")}update(t,e=!1){this.Jn.Rr(),this.bg.kg(this.Jn,t,e),this.Pg("update")}dataByIndex(t,e){const s=this.Jn.Xs().Fr(t,e);return s===null?null:ln(this.seriesType())(s)}data(){const t=ln(this.seriesType());return this.Jn.Xs().Hr().map(e=>t(e))}subscribeDataChanged(t){this.Mg.i(t)}unsubscribeDataChanged(t){this.Mg._(t)}applyOptions(t){this.Jn.hr(t)}options(){return de(this.Jn.N())}priceScale(){return this.Sg.priceScale(this.Jn.Ft().wa(),this.getPane().paneIndex())}createPriceLine(t){const e=Gt(de(wf),t),s=this.Jn.Oh(e);return new fo(s)}removePriceLine(t){this.Jn.Nh(t.gg())}priceLines(){return this.Jn.Fh().map(t=>new fo(t))}seriesType(){return this.Jn.Rr()}attachPrimitive(t){this.Jn.ua(t),t.attached&&t.attached({chart:this.wg,series:this,requestUpdate:()=>this.Jn.Qt().Bh(),horzScaleBehavior:this.o_})}detachPrimitive(t){this.Jn.ca(t),t.detached&&t.detached(),this.Jn.Qt().Bh()}getPane(){const t=this.Jn,e=M(this.Jn.Qt().Hn(t));return this.xg(e)}moveToPane(t){this.Jn.Qt().Oc(this.Jn,t)}seriesOrder(){const t=this.Jn.Qt().Hn(this.Jn);return t===null?-1:t.Oo().indexOf(this.Jn)}setSeriesOrder(t){const e=this.Jn.Qt().Hn(this.Jn);e!==null&&e.Qo(this.Jn,t)}Pg(t){this.Mg.v()&&this.Mg.p(t)}}class yf{constructor(t,e,s){this.yg=new wt,this.z_=new wt,this.wm=new wt,this.ts=t,this.uh=t.Et(),this.Xm=e,this.uh.Du().i(this.Tg.bind(this)),this.uh.Vu().i(this.Rg.bind(this)),this.Xm.Pm().i(this.Dg.bind(this)),this.o_=s}m(){this.uh.Du().u(this),this.uh.Vu().u(this),this.Xm.Pm().u(this),this.yg.m(),this.z_.m(),this.wm.m()}scrollPosition(){return this.uh.wu()}scrollToPosition(t,e){e?this.uh.yu(t,1e3):this.ts.fn(t)}scrollToRealTime(){this.uh.ku()}getVisibleRange(){const t=this.uh.su();return t===null?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.o_.convertHorzItemToInternal(t.from),to:this.o_.convertHorzItemToInternal(t.to)},s=this.uh.hu(e);this.ts.zc(s)}getVisibleLogicalRange(){const t=this.uh.iu();return t===null?null:{from:t.Uh(),to:t.bi()}}setVisibleLogicalRange(t){_t(t.from<=t.to,"The from index cannot be after the to index."),this.ts.zc(t)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.Eu()}logicalToCoordinate(t){const e=this.ts.Et();return e.Ki()?null:e.qt(t)}coordinateToLogical(t){return this.uh.Ki()?null:this.uh.uu(t)}timeToIndex(t,e){const s=this.o_.convertHorzItemToInternal(t);return this.uh.J_(s,e)}timeToCoordinate(t){const e=this.timeToIndex(t,!1);return e===null?null:this.uh.qt(e)}coordinateToTime(t){const e=this.ts.Et(),s=e.uu(t),n=e.ss(s);return n===null?null:n.originalTime}width(){return this.Xm.Zf().width}height(){return this.Xm.Zf().height}subscribeVisibleTimeRangeChange(t){this.yg.i(t)}unsubscribeVisibleTimeRangeChange(t){this.yg._(t)}subscribeVisibleLogicalRangeChange(t){this.z_.i(t)}unsubscribeVisibleLogicalRangeChange(t){this.z_._(t)}subscribeSizeChange(t){this.wm.i(t)}unsubscribeSizeChange(t){this.wm._(t)}applyOptions(t){this.uh.hr(t)}options(){return{...de(this.uh.N()),barSpacing:this.uh.vu()}}Tg(){this.yg.v()&&this.yg.p(this.getVisibleRange())}Rg(){this.z_.v()&&this.z_.p(this.getVisibleLogicalRange())}Dg(t){this.wm.p(t.width,t.height)}}function Sf(i){if(i===void 0||i.type==="custom")return;const t=i;t.minMove!==void 0&&t.precision===void 0&&(t.precision=function(e){if(e>=1)return 0;let s=0;for(;s<8;s++){const n=Math.round(e);if(Math.abs(n-e)<1e-8)return s;e*=10}return s}(t.minMove))}function mo(i){return function(t){if(Ui(t.handleScale)){const s=t.handleScale;t.handleScale={axisDoubleClickReset:{time:s,price:s},axisPressedMouseMove:{time:s,price:s},mouseWheel:s,pinch:s}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:s,axisDoubleClickReset:n}=t.handleScale;Ui(s)&&(t.handleScale.axisPressedMouseMove={time:s,price:s}),Ui(n)&&(t.handleScale.axisDoubleClickReset={time:n,price:n})}const e=t.handleScroll;Ui(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(i),i}class Cf{constructor(t,e,s){this.Vg=new Map,this.Ig=new Map,this.Bg=new wt,this.Eg=new wt,this.Ag=new wt,this.$u=new WeakMap,this.zg=new tf(e);const n=s===void 0?de(po()):Gt(de(po()),mo(s));this.Lg=e,this.Wf=new Up(t,n,e),this.Wf.Kv().i(o=>{this.Bg.v()&&this.Bg.p(this.Og(o()))},this),this.Wf.Xv().i(o=>{this.Eg.v()&&this.Eg.p(this.Og(o()))},this),this.Wf.uc().i(o=>{this.Ag.v()&&this.Ag.p(this.Og(o()))},this);const r=this.Wf.Qt();this.Ng=new yf(r,this.Wf.tw(),this.Lg)}remove(){this.Wf.Kv().u(this),this.Wf.Xv().u(this),this.Wf.uc().u(this),this.Ng.m(),this.Wf.m(),this.Vg.clear(),this.Ig.clear(),this.Bg.m(),this.Eg.m(),this.Ag.m(),this.zg.m()}resize(t,e,s){this.autoSizeActive()||this.Wf.Gm(t,e,s)}addCustomSeries(t,e={},s=0){const n=(r=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...lf,...r.defaultOptions()},Fg:af,Wg:r}))(be(t));return this.Hg(n,e,s)}addSeries(t,e={},s=0){return this.Hg(t,e,s)}removeSeries(t){const e=jt(this.Vg.get(t)),s=this.zg.Ec(e);this.Wf.Qt().Ec(e),this.Ug(s),this.Vg.delete(t),this.Ig.delete(e)}Cg(t,e){this.Ug(this.zg.Fw(t,e))}kg(t,e,s){this.Ug(this.zg.Yw(t,e,s))}subscribeClick(t){this.Bg.i(t)}unsubscribeClick(t){this.Bg._(t)}subscribeCrosshairMove(t){this.Ag.i(t)}unsubscribeCrosshairMove(t){this.Ag._(t)}subscribeDblClick(t){this.Eg.i(t)}unsubscribeDblClick(t){this.Eg._(t)}priceScale(t,e=0){return new zl(this.Wf,t,e)}timeScale(){return this.Ng}applyOptions(t){this.Wf.hr(mo(t))}options(){return this.Wf.N()}takeScreenshot(){return this.Wf.hw()}addPane(t=!1){const e=this.Wf.Qt().Uc();return e.zo(t),this.$g(e)}removePane(t){this.Wf.Qt().dc(t)}swapPanes(t,e){this.Wf.Qt().vc(t,e)}autoSizeActive(){return this.Wf.uw()}chartElement(){return this.Wf.tp()}panes(){return this.Wf.Qt().$s().map(t=>this.$g(t))}paneSize(t=0){const e=this.Wf.fw(t);return{height:e.height,width:e.width}}setCrosshairPosition(t,e,s){const n=this.Vg.get(s);if(n===void 0)return;const r=this.Wf.Qt().Hn(n);r!==null&&this.Wf.Qt().Tc(t,e,r)}clearCrosshairPosition(){this.Wf.Qt().Rc(!0)}horzBehaviour(){return this.Lg}Hg(t,e={},s=0){_t(t.Fg!==void 0),Sf(e.priceFormat),t.type==="Candlestick"&&function(a){a.borderColor!==void 0&&(a.borderUpColor=a.borderColor,a.borderDownColor=a.borderColor),a.wickColor!==void 0&&(a.wickUpColor=a.wickColor,a.wickDownColor=a.wickColor)}(e);const n=Gt(de(fl),de(t.defaultOptions),e),r=t.Fg,o=new ys(this.Wf.Qt(),t.type,n,r,t.Wg);this.Wf.Qt().Ic(o,s);const l=new xf(o,this,this,this,this.Lg,a=>this.$g(a));return this.Vg.set(l,o),this.Ig.set(o,l),l}Ug(t){const e=this.Wf.Qt();e.Dc(t.Et.ou,t.Et.Gw,t.Et.Jw),t.Oo.forEach((s,n)=>n.ht(s.se,s.Zw)),e.Et().j_(),e.pu()}qg(t){return jt(this.Ig.get(t))}Og(t){const e=new Map;t.Rw.forEach((n,r)=>{const o=r.Rr(),l=ln(o)(n);if(o!=="Custom")_t(Xp(l));else{const a=r.pa();_t(!a||a(l)===!1)}e.set(this.qg(r),l)});const s=t.Tw!==void 0&&this.Ig.has(t.Tw)?this.qg(t.Tw):void 0;return{time:t.Pw,logical:t.Re,point:t.kw,paneIndex:t.yw,hoveredSeries:s,hoveredObjectId:t.Dw,seriesData:e,sourceEvent:t.Vw}}$g(t){let e=this.$u.get(t);return e||(e=new bf(this.Wf,s=>this.qg(s),t,this),this.$u.set(t,e)),e}}function Mf(i){if(Oi(i)){const t=document.getElementById(i);return _t(t!==null,`Cannot find element in DOM with id=${i}`),t}return i}function Pf(i,t,e){const s=Mf(i),n=new Cf(s,t,e);return t.setOptions(n.options()),n}function kf(i,t){return Pf(i,new qr,qr.ad(t))}class Cs extends In{constructor(t,e){super(t,e,!0)}ug(t,e,s){e._u(this.sg,Ii(this.ng)),t.$l(this.sg,s,Ii(this.ng))}Yg(t,e){return{wt:t,gt:e,_t:NaN,ut:NaN}}og(){const t=this.Jn.Rh();this.sg=this.Jn.Xs().Hr().map(e=>{const s=e.Wt[3];return this.jg(e.Re,s,t)})}}function Ll(i,t,e,s,n,r,o){if(t.length===0||s.from>=t.length||s.to<=0)return;const{context:l,horizontalPixelRatio:a,verticalPixelRatio:h}=i,c=t[s.from];let u=r(i,c),d=c;if(s.to-s.from<2){const f=n/2;l.beginPath();const g={_t:c._t-f,ut:c.ut},v={_t:c._t+f,ut:c.ut};l.moveTo(g._t*a,g.ut*h),l.lineTo(v._t*a,v.ut*h),o(i,u,g,v)}else{const f=(v,b)=>{o(i,u,d,b),l.beginPath(),u=v,d=b};let g=d;l.beginPath(),l.moveTo(c._t*a,c.ut*h);for(let v=s.from+1;v<s.to;++v){g=t[v];const b=r(i,g);switch(e){case 0:l.lineTo(g._t*a,g.ut*h);break;case 1:l.lineTo(g._t*a,t[v-1].ut*h),b!==u&&(f(b,g),l.lineTo(g._t*a,t[v-1].ut*h)),l.lineTo(g._t*a,g.ut*h);break;case 2:{const[w,x]=Rf(t,v-1,v);l.bezierCurveTo(w._t*a,w.ut*h,x._t*a,x.ut*h,g._t*a,g.ut*h);break}}e!==1&&b!==u&&(f(b,g),l.moveTo(g._t*a,g.ut*h))}(d!==g||d===g&&e===1)&&o(i,u,d,g)}}const go=6;function qs(i,t){return{_t:i._t-t._t,ut:i.ut-t.ut}}function vo(i,t){return{_t:i._t/t,ut:i.ut/t}}function Rf(i,t,e){const s=Math.max(0,t-1),n=Math.min(i.length-1,e+1);var r,o;return[(r=i[t],o=vo(qs(i[e],i[s]),go),{_t:r._t+o._t,ut:r.ut+o.ut}),qs(i[e],vo(qs(i[n],i[t]),go))]}function _f(i,t){const e=i.context;e.strokeStyle=t,e.stroke()}class Tl extends le{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(this.rt===null)return;const{ot:e,lt:s,Kg:n,Xg:r,ct:o,Xt:l,Zg:a}=this.rt;if(s===null)return;const h=t.context;h.lineCap="butt",h.lineWidth=o*t.verticalPixelRatio,Ye(h,l),h.lineJoin="round";const c=this.Gg.bind(this);r!==void 0&&Ll(t,e,r,s,n,c,_f),a&&function(u,d,f,g,v){if(g.to-g.from<=0)return;const{horizontalPixelRatio:b,verticalPixelRatio:w,context:x}=u;let S=null;const y=Math.max(1,Math.floor(b))%2/2,P=f*w+y;for(let k=g.to-1;k>=g.from;--k){const B=d[k];if(B){const _=v(u,B);_!==S&&(x.beginPath(),S!==null&&x.fill(),x.fillStyle=_,S=_);const I=Math.round(B._t*b)+y,N=B.ut*w;x.moveTo(I,N),x.arc(I,N,P,0,2*Math.PI)}}x.fill()}(t,e,a,s,c)}}class Il extends Tl{Gg(t,e){return e.vt}}class $f extends Cs{constructor(){super(...arguments),this.hg=new Il}jg(t,e,s){return{...this.Yg(t,e),...s.Dr(t)}}cg(){const t=this.Jn.N(),e={ot:this.sg,Xt:t.lineStyle,Xg:t.lineVisible?t.lineType:void 0,ct:t.lineWidth,Zg:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,lt:this.ng,Kg:this.Qn.Et().vu()};this.hg.ht(e)}}const Ef={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Fg:(i,t)=>new $f(i,t)};function Bf(i,t,e,s,n){const{context:r,horizontalPixelRatio:o,verticalPixelRatio:l}=t;r.lineTo(n._t*o,i*l),r.lineTo(s._t*o,i*l),r.closePath(),r.fillStyle=e,r.fill()}class Dl extends le{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(this.rt===null)return;const{ot:e,lt:s,Kg:n,ct:r,Xt:o,Xg:l}=this.rt,a=this.rt.eM??(this.rt.rM?0:t.mediaSize.height);if(s===null)return;const h=t.context;h.lineCap="butt",h.lineJoin="round",h.lineWidth=r,Ye(h,o),h.lineWidth=1,Ll(t,e,l,s,n,this.hM.bind(this),Bf.bind(null,a))}}class Nn{aM(t,e){const s=this.lM,{oM:n,_M:r,uM:o,cM:l,eM:a,dM:h,fM:c}=e;if(this.pM===void 0||s===void 0||s.oM!==n||s._M!==r||s.uM!==o||s.cM!==l||s.eM!==a||s.dM!==h||s.fM!==c){const{verticalPixelRatio:u}=t,d=a||h>0?u:1,f=h*d,g=c===t.bitmapSize.height?c:c*d,v=(a??0)*d,b=t.context.createLinearGradient(0,f,0,g);if(b.addColorStop(0,n),a!=null){const w=ti((v-f)/(g-f),0,1);b.addColorStop(w,r),b.addColorStop(w,o)}b.addColorStop(1,l),this.pM=b,this.lM=e}return this.pM}}class zf extends Dl{constructor(){super(...arguments),this.vM=new Nn}hM(t,e){const s=this.rt;return this.vM.aM(t,{oM:e.br,_M:e.Sr,uM:e.Cr,cM:e.Pr,eM:s.eM,dM:s.dM??0,fM:s.fM??t.bitmapSize.height})}}class Lf extends Tl{constructor(){super(...arguments),this.mM=new Nn}Gg(t,e){const s=this.rt;return this.mM.aM(t,{oM:e.gr,_M:e.gr,uM:e.Mr,cM:e.Mr,eM:s.eM,dM:s.dM??0,fM:s.fM??t.bitmapSize.height})}}class Tf extends Cs{constructor(t,e){super(t,e),this.hg=new $n,this.wM=new zf,this.gM=new Lf,this.hg.st([this.wM,this.gM])}jg(t,e,s){return{...this.Yg(t,e),...s.Dr(t)}}cg(){const t=this.Jn.zt();if(t===null)return;const e=this.Jn.N(),s=this.Jn.Ft().Nt(e.baseValue.price,t.Wt),n=this.Qn.Et().vu();if(this.ng===null||this.sg.length===0)return;let r,o;if(e.relativeGradient){r=this.sg[this.ng.from].ut,o=this.sg[this.ng.from].ut;for(let l=this.ng.from;l<this.ng.to;l++){const a=this.sg[l];a.ut<r&&(r=a.ut),a.ut>o&&(o=a.ut)}}this.wM.ht({ot:this.sg,ct:e.lineWidth,Xt:e.lineStyle,Xg:e.lineType,eM:s,dM:r,fM:o,rM:!1,lt:this.ng,Kg:n}),this.gM.ht({ot:this.sg,ct:e.lineWidth,Xt:e.lineStyle,Xg:e.lineVisible?e.lineType:void 0,Zg:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,eM:s,dM:r,fM:o,lt:this.ng,Kg:n})}}const If={type:"Baseline",isBuiltIn:!0,defaultOptions:{baseValue:{type:"price",price:0},relativeGradient:!1,topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Fg:(i,t)=>new Tf(i,t)};class Df extends Dl{constructor(){super(...arguments),this.vM=new Nn}hM(t,e){var s;return this.vM.aM(t,{oM:e.mr,_M:"",uM:"",cM:e.wr,dM:((s=this.rt)==null?void 0:s.dM)??0,fM:t.bitmapSize.height})}}class Nf extends Cs{constructor(t,e){super(t,e),this.hg=new $n,this.MM=new Df,this.bM=new Il,this.hg.st([this.MM,this.bM])}jg(t,e,s){return{...this.Yg(t,e),...s.Dr(t)}}cg(){const t=this.Jn.N();if(this.ng===null||this.sg.length===0)return;let e;if(t.relativeGradient){e=this.sg[this.ng.from].ut;for(let s=this.ng.from;s<this.ng.to;s++){const n=this.sg[s];n.ut<e&&(e=n.ut)}}this.MM.ht({Xg:t.lineType,ot:this.sg,Xt:t.lineStyle,ct:t.lineWidth,eM:null,dM:e,rM:t.invertFilledArea,lt:this.ng,Kg:this.Qn.Et().vu()}),this.bM.ht({Xg:t.lineVisible?t.lineType:void 0,ot:this.sg,Xt:t.lineStyle,ct:t.lineWidth,lt:this.ng,Kg:this.Qn.Et().vu(),Zg:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}const Ff={type:"Area",isBuiltIn:!0,defaultOptions:{topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,relativeGradient:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Fg:(i,t)=>new Nf(i,t)};class jf extends le{constructor(){super(...arguments),this.Yt=null,this.SM=0,this.xM=0}ht(t){this.Yt=t}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.Yt===null||this.Yt.Xs.length===0||this.Yt.lt===null)return;this.SM=this.CM(e),this.SM>=2&&Math.max(1,Math.floor(e))%2!=this.SM%2&&this.SM--,this.xM=this.Yt.PM?Math.min(this.SM,Math.floor(e)):this.SM;let n=null;const r=this.xM<=this.SM&&this.Yt.vu>=Math.floor(1.5*e);for(let o=this.Yt.lt.from;o<this.Yt.lt.to;++o){const l=this.Yt.Xs[o];n!==l.cr&&(t.fillStyle=l.cr,n=l.cr);const a=Math.floor(.5*this.xM),h=Math.round(l._t*e),c=h-a,u=this.xM,d=c+u-1,f=Math.min(l.Kl,l.Xl),g=Math.max(l.Kl,l.Xl),v=Math.round(f*s)-a,b=Math.round(g*s)+a,w=Math.max(b-v,this.xM);t.fillRect(c,v,u,w);const x=Math.ceil(1.5*this.SM);if(r){if(this.Yt.kM){const k=h-x;let B=Math.max(v,Math.round(l.jl*s)-a),_=B+u-1;_>v+w-1&&(_=v+w-1,B=_-u+1),t.fillRect(k,B,c-k,_-B+1)}const S=h+x;let y=Math.max(v,Math.round(l.Zl*s)-a),P=y+u-1;P>v+w-1&&(P=v+w-1,y=P-u+1),t.fillRect(d+1,y,S-d,P-y+1)}}}CM(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(s,n){return Math.floor(.3*s*n)}(M(this.Yt).vu,t)))}}class Nl extends In{constructor(t,e){super(t,e,!1)}ug(t,e,s){e._u(this.sg,Ii(this.ng)),t.Yl(this.sg,s,Ii(this.ng))}yM(t,e,s){return{wt:t,qh:e.Wt[0],Yh:e.Wt[1],jh:e.Wt[2],Kh:e.Wt[3],_t:NaN,jl:NaN,Kl:NaN,Xl:NaN,Zl:NaN}}og(){const t=this.Jn.Rh();this.sg=this.Jn.Xs().Hr().map(e=>this.jg(e.Re,e,t))}}class Of extends Nl{constructor(){super(...arguments),this.hg=new jf}jg(t,e,s){return{...this.yM(t,e,s),...s.Dr(t)}}cg(){const t=this.Jn.N();this.hg.ht({Xs:this.sg,vu:this.Qn.Et().vu(),kM:t.openVisible,PM:t.thinBars,lt:this.ng})}}const Wf={type:"Bar",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Fg:(i,t)=>new Of(i,t)};class Vf extends le{constructor(){super(...arguments),this.Yt=null,this.SM=0}ht(t){this.Yt=t}et(t){if(this.Yt===null||this.Yt.Xs.length===0||this.Yt.lt===null)return;const{horizontalPixelRatio:e}=t;this.SM=function(r,o){if(r>=2.5&&r<=4)return Math.floor(3*o);const l=1-.2*Math.atan(Math.max(4,r)-4)/(.5*Math.PI),a=Math.floor(r*l*o),h=Math.floor(r*o),c=Math.min(a,h);return Math.max(Math.floor(o),c)}(this.Yt.vu,e),this.SM>=2&&Math.floor(e)%2!=this.SM%2&&this.SM--;const s=this.Yt.Xs;this.Yt.TM&&this.RM(t,s,this.Yt.lt),this.Yt.Mi&&this._v(t,s,this.Yt.lt);const n=this.DM(e);(!this.Yt.Mi||this.SM>2*n)&&this.VM(t,s,this.Yt.lt)}RM(t,e,s){if(this.Yt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="",a=Math.min(Math.floor(r),Math.floor(this.Yt.vu*r));a=Math.max(Math.floor(r),Math.min(a,this.SM));const h=Math.floor(.5*a);let c=null;for(let u=s.from;u<s.to;u++){const d=e[u];d.pr!==l&&(n.fillStyle=d.pr,l=d.pr);const f=Math.round(Math.min(d.jl,d.Zl)*o),g=Math.round(Math.max(d.jl,d.Zl)*o),v=Math.round(d.Kl*o),b=Math.round(d.Xl*o);let w=Math.round(r*d._t)-h;const x=w+a-1;c!==null&&(w=Math.max(c+1,w),w=Math.min(w,x));const S=x-w+1;n.fillRect(w,v,S,f-v),n.fillRect(w,g+1,S,b-g),c=x}}DM(t){let e=Math.floor(1*t);this.SM<=2*e&&(e=Math.floor(.5*(this.SM-1)));const s=Math.max(Math.floor(t),e);return this.SM<=2*s?Math.max(Math.floor(t),Math.floor(1*t)):s}_v(t,e,s){if(this.Yt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="";const a=this.DM(r);let h=null;for(let c=s.from;c<s.to;c++){const u=e[c];u.dr!==l&&(n.fillStyle=u.dr,l=u.dr);let d=Math.round(u._t*r)-Math.floor(.5*this.SM);const f=d+this.SM-1,g=Math.round(Math.min(u.jl,u.Zl)*o),v=Math.round(Math.max(u.jl,u.Zl)*o);if(h!==null&&(d=Math.max(h+1,d),d=Math.min(d,f)),this.Yt.vu*r>2*a)Nd(n,d,g,f-d+1,v-g+1,a);else{const b=f-d+1;n.fillRect(d,g,b,v-g+1)}h=f}}VM(t,e,s){if(this.Yt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="";const a=this.DM(r);for(let h=s.from;h<s.to;h++){const c=e[h];let u=Math.round(Math.min(c.jl,c.Zl)*o),d=Math.round(Math.max(c.jl,c.Zl)*o),f=Math.round(c._t*r)-Math.floor(.5*this.SM),g=f+this.SM-1;if(c.cr!==l){const v=c.cr;n.fillStyle=v,l=v}this.Yt.Mi&&(f+=a,u+=a,g-=a,d-=a),u>d||n.fillRect(f,u,g-f+1,d-u+1)}}}class Yf extends Nl{constructor(){super(...arguments),this.hg=new Vf}jg(t,e,s){return{...this.yM(t,e,s),...s.Dr(t)}}cg(){const t=this.Jn.N();this.hg.ht({Xs:this.sg,vu:this.Qn.Et().vu(),TM:t.wickVisible,Mi:t.borderVisible,lt:this.ng})}}const Af={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},Fg:(i,t)=>new Yf(i,t)};class Hf extends le{constructor(){super(...arguments),this.Yt=null,this.IM=[]}ht(t){this.Yt=t,this.IM=[]}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.Yt===null||this.Yt.ot.length===0||this.Yt.lt===null)return;this.IM.length||this.BM(e);const n=Math.max(1,Math.floor(s)),r=Math.round(this.Yt.EM*s)-Math.floor(n/2),o=r+n;for(let l=this.Yt.lt.from;l<this.Yt.lt.to;l++){const a=this.Yt.ot[l],h=this.IM[l-this.Yt.lt.from],c=Math.round(a.ut*s);let u,d;t.fillStyle=a.cr,c<=r?(u=c,d=o):(u=r,d=c-Math.floor(n/2)+n),t.fillRect(h.Uh,u,h.bi-h.Uh+1,d-u)}}BM(t){if(this.Yt===null||this.Yt.ot.length===0||this.Yt.lt===null)return void(this.IM=[]);const e=Math.ceil(this.Yt.vu*t)<=1?0:Math.max(1,Math.floor(t)),s=Math.round(this.Yt.vu*t)-e;this.IM=new Array(this.Yt.lt.to-this.Yt.lt.from);for(let r=this.Yt.lt.from;r<this.Yt.lt.to;r++){const o=this.Yt.ot[r],l=Math.round(o._t*t);let a,h;if(s%2){const c=(s-1)/2;a=l-c,h=l+c}else{const c=s/2;a=l-c,h=l+c-1}this.IM[r-this.Yt.lt.from]={Uh:a,bi:h,AM:l,ne:o._t*t,wt:o.wt}}for(let r=this.Yt.lt.from+1;r<this.Yt.lt.to;r++){const o=this.IM[r-this.Yt.lt.from],l=this.IM[r-this.Yt.lt.from-1];o.wt===l.wt+1&&o.Uh-l.bi!==e+1&&(l.AM>l.ne?l.bi=o.Uh-e-1:o.Uh=l.bi+e+1)}let n=Math.ceil(this.Yt.vu*t);for(let r=this.Yt.lt.from;r<this.Yt.lt.to;r++){const o=this.IM[r-this.Yt.lt.from];o.bi<o.Uh&&(o.bi=o.Uh);const l=o.bi-o.Uh+1;n=Math.min(l,n)}if(e>0&&n<4)for(let r=this.Yt.lt.from;r<this.Yt.lt.to;r++){const o=this.IM[r-this.Yt.lt.from];o.bi-o.Uh+1>n&&(o.AM>o.ne?o.bi-=1:o.Uh+=1)}}}class Uf extends Cs{constructor(){super(...arguments),this.hg=new Hf}jg(t,e,s){return{...this.Yg(t,e),...s.Dr(t)}}cg(){const t={ot:this.sg,vu:this.Qn.Et().vu(),lt:this.ng,EM:this.Jn.Ft().Nt(this.Jn.N().base,M(this.Jn.zt()).Wt)};this.hg.ht(t)}}const Gf={type:"Histogram",isBuiltIn:!0,defaultOptions:{color:"#26a69a",base:0},Fg:(i,t)=>new Uf(i,t)};class Fl{constructor(t,e){this.Pt=t,this.zM=e,this.LM()}detach(){this.Pt.detachPrimitive(this.zM)}getPane(){return this.Pt}applyOptions(t){var e,s;(s=(e=this.zM).hr)==null||s.call(e,t)}LM(){this.Pt.attachPrimitive(this.zM)}}const Xf={visible:!0,horzAlign:"center",vertAlign:"center",lines:[]},Qf={color:"rgba(0, 0, 0, 0.5)",fontSize:48,fontFamily:_n,fontStyle:"",text:""};class Kf{constructor(t){this.OM=new Map,this.Yt=t}draw(t){t.useMediaCoordinateSpace(e=>{if(!this.Yt.visible)return;const{context:s,mediaSize:n}=e;let r=0;for(const l of this.Yt.lines){if(l.text.length===0)continue;s.font=l.k;const a=this.NM(s,l.text);a>n.width?l.xu=n.width/a:l.xu=1,r+=l.lineHeight*l.xu}let o=0;switch(this.Yt.vertAlign){case"top":o=0;break;case"center":o=Math.max((n.height-r)/2,0);break;case"bottom":o=Math.max(n.height-r,0)}for(const l of this.Yt.lines){s.save(),s.fillStyle=l.color;let a=0;switch(this.Yt.horzAlign){case"left":s.textAlign="left",a=l.lineHeight/2;break;case"center":s.textAlign="center",a=n.width/2;break;case"right":s.textAlign="right",a=n.width-1-l.lineHeight/2}s.translate(a,o),s.textBaseline="top",s.font=l.k,s.scale(l.xu,l.xu),s.fillText(l.text,0,l.FM),s.restore(),o+=l.lineHeight*l.xu}})}NM(t,e){const s=this.WM(t.font);let n=s.get(e);return n===void 0&&(n=t.measureText(e).width,s.set(e,n)),n}WM(t){let e=this.OM.get(t);return e===void 0&&(e=new Map,this.OM.set(t,e)),e}}class qf{constructor(t){this.Ps=bo(t)}kt(t){this.Ps=bo(t)}renderer(){return new Kf(this.Ps)}}function Zf(i){return{...i,k:ni(i.fontSize,i.fontFamily,i.fontStyle),lineHeight:i.lineHeight||1.2*i.fontSize,FM:0,xu:0}}function bo(i){return{...i,lines:i.lines.map(Zf)}}function Jf(i){return{...Qf,...i}}function wo(i){var t;return{...Xf,...i,lines:((t=i.lines)==null?void 0:t.map(Jf))??[]}}class tm{constructor(t){this.Ps=wo(t),this.HM=[new qf(this.Ps)]}updateAllViews(){this.HM.forEach(t=>t.kt(this.Ps))}paneViews(){return this.HM}attached({requestUpdate:t}){this.UM=t}detached(){this.UM=void 0}hr(t){this.Ps=wo({...this.Ps,...t}),this.UM&&this.UM()}}function em(i,t){return new Fl(i,new tm(t))}const im={alpha:1,padding:0};class sm{constructor(t){this.Yt=t}draw(t){t.useMediaCoordinateSpace(e=>{const s=e.context,n=this.$M(this.Yt,e.mediaSize);n&&this.Yt.qM&&(s.globalAlpha=this.Yt.alpha??1,s.drawImage(this.Yt.qM,n._t,n.ut,n.Qi,n.$t))})}$M(t,e){const{maxHeight:s,maxWidth:n,YM:r,jM:o,padding:l}=t,a=Math.round(e.width/2),h=Math.round(e.height/2),c=l??0;let u=e.width-2*c,d=e.height-2*c;s&&(d=Math.min(d,s)),n&&(u=Math.min(u,n));const f=u/o,g=d/r,v=Math.min(f,g),b=o*v,w=r*v;return{_t:a-.5*b,ut:h-.5*w,$t:w,Qi:b}}}class nm{constructor(t){this.KM=null,this.XM=0,this.ZM=0,this.Ps=t,this.M=xo(this.Ps,this.KM,this.XM,this.ZM)}GM(t){t.JM!==void 0&&(this.XM=t.JM),t.QM!==void 0&&(this.ZM=t.QM),t.tb!==void 0&&(this.KM=t.tb),this.kt()}ib(t){this.Ps=t,this.kt()}zOrder(){return"bottom"}kt(){this.M=xo(this.Ps,this.KM,this.XM,this.ZM)}renderer(){return new sm(this.M)}}function xo(i,t,e,s){return{...i,qM:t,jM:e,YM:s}}function yo(i){return{...im,...i}}class rm{constructor(t,e){this.sb=null,this.nb=t,this.Ps=yo(e),this.HM=[new nm(this.Ps)]}updateAllViews(){this.HM.forEach(t=>t.kt())}paneViews(){return this.HM}attached(t){const{requestUpdate:e}=t;this.eb=e,this.sb=new Image,this.sb.onload=()=>{var r,o;const s=((r=this.sb)==null?void 0:r.naturalHeight)??1,n=((o=this.sb)==null?void 0:o.naturalWidth)??1;this.HM.forEach(l=>l.GM({QM:s,JM:n,tb:this.sb})),this.eb&&this.eb()},this.sb.src=this.nb}detached(){this.eb=void 0,this.sb=null}hr(t){this.Ps=yo({...this.Ps,...t}),this.rb(),this.UM&&this.UM()}UM(){this.eb&&this.eb()}rb(){this.HM.forEach(t=>t.ib(this.Ps))}}function om(i,t,e){return new Fl(i,new rm(t,e))}class lm{constructor(t,e){this.Jn=t,this.ah=e,this.LM()}detach(){this.Jn.detachPrimitive(this.ah)}getSeries(){return this.Jn}applyOptions(t){this.ah&&this.ah.hr&&this.ah.hr(t)}LM(){this.Jn.attachPrimitive(this.ah)}}const am={zOrder:"normal"};function $i(i,t){return Bn(Math.min(Math.max(i,12),30)*t)}function li(i,t){switch(i){case"arrowDown":case"arrowUp":return $i(t,1);case"circle":return $i(t,.8);case"square":return $i(t,.7)}}function jl(i){return function(t){const e=Math.ceil(t);return e%2!=0?e-1:e}($i(i,1))}function Ol(i){return Math.max($i(i,.1),3)}function So(i,t,e){return t?i:e?Math.ceil(i/2):0}function Co(i,t,e,s){const n=(li("arrowUp",s)-1)/2*e.hb,r=(Bn(s/2)-1)/2*e.hb;t.beginPath(),i?(t.moveTo(e._t-n,e.ut),t.lineTo(e._t,e.ut-n),t.lineTo(e._t+n,e.ut),t.lineTo(e._t+r,e.ut),t.lineTo(e._t+r,e.ut+n),t.lineTo(e._t-r,e.ut+n),t.lineTo(e._t-r,e.ut)):(t.moveTo(e._t-n,e.ut),t.lineTo(e._t,e.ut+n),t.lineTo(e._t+n,e.ut),t.lineTo(e._t+r,e.ut),t.lineTo(e._t+r,e.ut-n),t.lineTo(e._t-r,e.ut-n),t.lineTo(e._t-r,e.ut)),t.fill()}function Mo(i,t,e,s,n,r){const o=(li("arrowUp",s)-1)/2,l=(Bn(s/2)-1)/2;return n>=t-l-2&&n<=t+l+2&&r>=(i?e:e-o)-2&&r<=(i?e+o:e)+2?!0:(()=>{if(n<t-o-3||n>t+o+3||r<(i?e-o-3:e)||r>(i?e:e+o+3))return!1;const a=Math.abs(n-t);return Math.abs(r-e)+3>=a/2})()}class hm{constructor(){this.Yt=null,this.On=new Ni,this.F=-1,this.W="",this.Fp="",this.ab="normal"}ht(t){this.Yt=t}Nn(t,e,s){this.F===t&&this.W===e||(this.F=t,this.W=e,this.Fp=ni(t,e),this.On.In()),this.ab=s}jn(t,e){if(this.Yt===null||this.Yt.lt===null)return null;for(let s=this.Yt.lt.from;s<this.Yt.lt.to;s++){const n=this.Yt.ot[s];if(n&&um(n,t,e))return{zOrder:"normal",externalId:n.Kn??""}}return null}draw(t){this.ab!=="aboveSeries"&&t.useBitmapCoordinateSpace(e=>{this.et(e)})}drawBackground(t){this.ab==="aboveSeries"&&t.useBitmapCoordinateSpace(e=>{this.et(e)})}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.Yt!==null&&this.Yt.lt!==null){t.textBaseline="middle",t.font=this.Fp;for(let n=this.Yt.lt.from;n<this.Yt.lt.to;n++){const r=this.Yt.ot[n];r.ri!==void 0&&(r.ri.Qi=this.On.Vi(t,r.ri.lb),r.ri.$t=this.F,r.ri._t=r._t-r.ri.Qi/2),cm(r,t,e,s)}}}}function cm(i,t,e,s){t.fillStyle=i.R,i.ri!==void 0&&function(n,r,o,l,a,h){n.save(),n.scale(a,h),n.fillText(r,o,l),n.restore()}(t,i.ri.lb,i.ri._t,i.ri.ut,e,s),function(n,r,o){if(n.zr!==0){switch(n.ob){case"arrowDown":return void Co(!1,r,o,n.zr);case"arrowUp":return void Co(!0,r,o,n.zr);case"circle":return void function(l,a,h){const c=(li("circle",h)-1)/2;l.beginPath(),l.arc(a._t,a.ut,c*a.hb,0,2*Math.PI,!1),l.fill()}(r,o,n.zr);case"square":return void function(l,a,h){const c=li("square",h),u=(c-1)*a.hb/2,d=a._t-u,f=a.ut-u;l.fillRect(d,f,c*a.hb,c*a.hb)}(r,o,n.zr)}n.ob}}(i,t,function(n,r,o){const l=Math.max(1,Math.floor(r))%2/2;return{_t:Math.round(n._t*r)+l,ut:n.ut*o,hb:r}}(i,e,s))}function um(i,t,e){return!(i.ri===void 0||!function(s,n,r,o,l,a){const h=o/2;return l>=s&&l<=s+r&&a>=n-h&&a<=n+h}(i.ri._t,i.ri.ut,i.ri.Qi,i.ri.$t,t,e))||function(s,n,r){if(s.zr===0)return!1;switch(s.ob){case"arrowDown":return Mo(!0,s._t,s.ut,s.zr,n,r);case"arrowUp":return Mo(!1,s._t,s.ut,s.zr,n,r);case"circle":return function(o,l,a,h,c){const u=2+li("circle",a)/2,d=o-h,f=l-c;return Math.sqrt(d*d+f*f)<=u}(s._t,s.ut,s.zr,n,r);case"square":return function(o,l,a,h,c){const u=li("square",a),d=(u-1)/2,f=o-d,g=l-d;return h>=f&&h<=f+u&&c>=g&&c<=g+u}(s._t,s.ut,s.zr,n,r)}}(i,t,e)}function Po(i){return i==="atPriceTop"||i==="atPriceBottom"||i==="atPriceMiddle"}function dm(i,t,e,s,n,r,o,l){const a=function(g,v){if(Po(v.position)&&v.price!==void 0)return v.price;if("value"in(b=g)&&typeof b.value=="number")return g.value;var b;if(function(w){return"open"in w&&"high"in w&&"low"in w&&"close"in w}(g)){if(v.position==="inBar")return g.close;if(v.position==="aboveBar")return g.high;if(v.position==="belowBar")return g.low}}(e,t);if(a===void 0)return;const h=Po(t.position),c=l.timeScale(),u=Ae(t.size)?Math.max(t.size,0):1,d=jl(c.options().barSpacing)*u,f=d/2;switch(i.zr=d,t.position){case"inBar":case"atPriceMiddle":return i.ut=M(o.priceToCoordinate(a)),void(i.ri!==void 0&&(i.ri.ut=i.ut+f+r+.6*n));case"aboveBar":case"atPriceTop":{const g=h?0:s._b;return i.ut=M(o.priceToCoordinate(a))-f-g,i.ri!==void 0&&(i.ri.ut=i.ut-f-.6*n,s._b+=1.2*n),void(h||(s._b+=d+r))}case"belowBar":case"atPriceBottom":{const g=h?0:s.ub;return i.ut=M(o.priceToCoordinate(a))+f+g,i.ri!==void 0&&(i.ri.ut=i.ut+f+r+.6*n,s.ub+=1.2*n),void(h||(s.ub+=d+r))}}}class pm{constructor(t,e,s){this.cb=[],this.xt=!0,this.fb=!0,this.Gt=new hm,this.ge=t,this.Dp=e,this.Yt={ot:[],lt:null},this.Ps=s}renderer(){if(!this.ge.options().visible)return null;this.xt&&this.pb();const t=this.Dp.options().layout;return this.Gt.Nn(t.fontSize,t.fontFamily,this.Ps.zOrder),this.Gt.ht(this.Yt),this.Gt}mb(t){this.cb=t,this.kt("data")}kt(t){this.xt=!0,t==="data"&&(this.fb=!0)}wb(t){this.xt=!0,this.Ps=t}zOrder(){return this.Ps.zOrder==="aboveSeries"?"top":this.Ps.zOrder}pb(){const t=this.Dp.timeScale(),e=this.cb;this.fb&&(this.Yt.ot=e.map(h=>({wt:h.time,_t:0,ut:0,zr:0,ob:h.shape,R:h.color,Kn:h.id,gb:h.gb,ri:void 0})),this.fb=!1);const s=this.Dp.options().layout;this.Yt.lt=null;const n=t.getVisibleLogicalRange();if(n===null)return;const r=new ei(Math.floor(n.from),Math.ceil(n.to));if(this.ge.data()[0]===null||this.Yt.ot.length===0)return;let o=NaN;const l=Ol(t.options().barSpacing),a={_b:l,ub:l};this.Yt.lt=El(this.Yt.ot,r,!0);for(let h=this.Yt.lt.from;h<this.Yt.lt.to;h++){const c=e[h];c.time!==o&&(a._b=l,a.ub=l,o=c.time);const u=this.Yt.ot[h];u._t=M(t.logicalToCoordinate(c.time)),c.text!==void 0&&c.text.length>0&&(u.ri={lb:c.text,_t:0,ut:0,Qi:0,$t:0});const d=this.ge.dataByIndex(c.time,0);d!==null&&dm(u,c,d,a,s.fontSize,l,this.ge,this.Dp)}this.xt=!1}}function ko(i){return{...am,...i}}class fm{constructor(t){this.sh=null,this.cb=[],this.Mb=[],this.bb=null,this.ge=null,this.Dp=null,this.Sb=!0,this.xb=null,this.Cb=null,this.Pb=null,this.kb=!0,this.Ps=ko(t)}attached(t){this.yb(),this.Dp=t.chart,this.ge=t.series,this.sh=new pm(this.ge,M(this.Dp),this.Ps),this.eb=t.requestUpdate,this.ge.subscribeDataChanged(e=>this.Pg(e)),this.kb=!0,this.UM()}UM(){this.eb&&this.eb()}detached(){this.ge&&this.bb&&this.ge.unsubscribeDataChanged(this.bb),this.Dp=null,this.ge=null,this.sh=null,this.bb=null}mb(t){this.kb=!0,this.cb=t,this.yb(),this.Sb=!0,this.Cb=null,this.UM()}Tb(){return this.cb}paneViews(){return this.sh?[this.sh]:[]}updateAllViews(){this.Rb()}hitTest(t,e){var s;return this.sh?((s=this.sh.renderer())==null?void 0:s.jn(t,e))??null:null}autoscaleInfo(t,e){if(this.sh){const s=this.Db();if(s)return{priceRange:null,margins:s}}return null}hr(t){this.Ps=ko({...this.Ps,...t}),this.UM&&this.UM()}Db(){const t=M(this.Dp).timeScale().options().barSpacing;if(this.Sb||t!==this.Pb){if(this.Pb=t,this.cb.length>0){const e=Ol(t),s=1.5*jl(t)+2*e,n=this.Vb();this.xb={above:So(s,n.aboveBar,n.inBar),below:So(s,n.belowBar,n.inBar)}}else this.xb=null;this.Sb=!1}return this.xb}Vb(){return this.Cb===null&&(this.Cb=this.cb.reduce((t,e)=>(t[e.position]||(t[e.position]=!0),t),{inBar:!1,aboveBar:!1,belowBar:!1,atPriceTop:!1,atPriceBottom:!1,atPriceMiddle:!1})),this.Cb}yb(){var n;if(!this.kb||!this.Dp||!this.ge)return;const t=this.Dp.timeScale(),e=(n=this.ge)==null?void 0:n.data();if(t.getVisibleLogicalRange()==null||!this.ge||e.length===0)return void(this.Mb=[]);const s=t.timeToIndex(M(e[0].time),!0);this.Mb=this.cb.map((r,o)=>{const l=t.timeToIndex(r.time,!0),a=l<s?1:-1,h=M(this.ge).dataByIndex(l,a),c={time:t.timeToIndex(M(h).time,!1),position:r.position,shape:r.shape,color:r.color,id:r.id,gb:o,text:r.text,size:r.size,price:r.price,Pw:r.time};if(r.position==="atPriceTop"||r.position==="atPriceBottom"||r.position==="atPriceMiddle"){if(r.price===void 0)throw new Error(`Price is required for position ${r.position}`);return{...c,position:r.position,price:r.price}}return{...c,position:r.position,price:r.price}}),this.kb=!1}Rb(t){this.sh&&(this.yb(),this.sh.mb(this.Mb),this.sh.wb(this.Ps),this.sh.kt(t))}Pg(t){this.kb=!0,this.UM()}}class mm extends lm{constructor(t,e,s){super(t,e),s&&this.setMarkers(s)}setMarkers(t){this.ah.mb(t)}markers(){return this.ah.Tb()}}function gm(i,t,e){const s=new mm(i,new fm(e??{}));return t&&s.setMarkers(t),s}const vm={...fl,color:"#2196f3"};let Me=(0,m.createContext)(null);Me.displayName="ChartContext";let Ro={addDefaultPane:!1},bm=({container:i,onClick:t,onCrosshairMove:e,onInit:s,options:n={},onDblClick:r})=>{let[o,l]=(0,m.useState)(!1),a=(0,m.useRef)({_chart:null,api(){return this._chart},init(){if(this._chart===null){let h=kf(i,{...Ro,...n});this._chart=h,s&&s(this._chart)}return o||l(!0),this._chart},clear(){this._chart!==null&&(l(!1),this._chart.remove(),this._chart=null)}});return(0,m.useLayoutEffect)(()=>(a.current.init(),()=>{a.current.clear()}),[]),(0,m.useLayoutEffect)(()=>{if(i){if(t){var h;(h=a.current.api())===null||h===void 0||h.subscribeClick(t)}return()=>{if(t){var c;(c=a.current.api())===null||c===void 0||c.unsubscribeClick(t)}}}},[t]),(0,m.useLayoutEffect)(()=>{if(i){if(e){var h;(h=a.current.api())===null||h===void 0||h.subscribeCrosshairMove(e)}return()=>{if(e){var c;(c=a.current.api())===null||c===void 0||c.unsubscribeCrosshairMove(e)}}}},[e]),(0,m.useLayoutEffect)(()=>{if(i){if(r){var h;(h=a.current.api())===null||h===void 0||h.subscribeDblClick(r)}return()=>{if(r){var c;(c=a.current.api())===null||c===void 0||c.unsubscribeDblClick(r)}}}},[r]),(0,m.useLayoutEffect)(()=>{var h;i&&((h=a.current.api())===null||h===void 0||h.applyOptions({...Ro,...n}))},[n]),{chartApiRef:a,isReady:o}},wm=({children:i,container:t,onClick:e,onCrosshairMove:s,onInit:n,options:r})=>{let{chartApiRef:{current:o},isReady:l}=bm({container:t,onClick:e,onCrosshairMove:s,onInit:n,options:r});return Pt.createElement(Me.Provider,{value:{chartApiRef:o,isReady:l}},i)},Et=(0,m.forwardRef)(({children:i,containerProps:t,...e},s)=>{let[n,r]=(0,m.useState)(),o=(0,m.useCallback)(l=>{r(l),s&&(typeof s=="function"?o(l):s.current=l)},[s]);return Pt.createElement("div",{ref:o,...t},!!n&&Pt.createElement(wm,{container:n,...e},i))});Et.displayName="ChartWrapper";let Fn=(0,m.createContext)(null);Fn.displayName="TimeScaleContext";let xm="1.3.0";function _o(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}class ui extends Error{constructor(t,{isOperational:e=!0,cause:s,docsPath:n}={}){super(t),_o(this,"isOperational",void 0),_o(this,"cause",void 0),this.name=this.constructor.name??"InternalError",this.isOperational=e,this.cause=s,this.message=`${t??"An error occurred"}`,n&&(this.message=`${this.message}

Docs: see ${"https://ukorvl.github.io/lightweight-charts-react-components/docs/"+n}`),this.message=`${this.message}

Version: lightweight-charts-react-components@${xm}`,Object.setPrototypeOf(this,ui.prototype)}}let oe=(i,t)=>{let e=(0,m.useContext)(i);if(!e){let s=i.name??i.displayName??"Context";throw new ui(`${s} not found.`,{isOperational:!0})}return e},ym=({onVisibleTimeRangeChange:i,onVisibleLogicalRangeChange:t,onSizeChange:e,visibleRange:s,visibleLogicalRange:n,options:r={}})=>{let{isReady:o,chartApiRef:l}=oe(Me),[a,h]=(0,m.useState)(!1),c=(0,m.useRef)({_timeScale:null,api(){return this._timeScale},init(){if(this._timeScale)return this._timeScale;let u=l==null?void 0:l.api();return u?(this._timeScale=u.timeScale(),this._timeScale.applyOptions(r),s&&this._timeScale.setVisibleRange(s),n&&this._timeScale.setVisibleLogicalRange(n),i&&this._timeScale.subscribeVisibleTimeRangeChange(i),t&&this._timeScale.subscribeVisibleLogicalRangeChange(t),e&&this._timeScale.subscribeSizeChange(e),h(!0),this._timeScale):null},clear(){this._timeScale=null,h(!1)}});return(0,m.useLayoutEffect)(()=>{o&&c.current.init()},[o]),(0,m.useLayoutEffect)(()=>()=>{c.current.clear()},[]),(0,m.useLayoutEffect)(()=>{if(l&&r){var u,d;(d=c.current)===null||d===void 0||(u=d.api())===null||u===void 0||u.applyOptions(r)}},[r]),(0,m.useLayoutEffect)(()=>{if(l){if(e){var u,d;(d=c.current)===null||d===void 0||(u=d.api())===null||u===void 0||u.subscribeSizeChange(e)}return()=>{if(e){var f,g;(g=c.current)===null||g===void 0||(f=g.api())===null||f===void 0||f.unsubscribeSizeChange(e)}}}},[e]),(0,m.useLayoutEffect)(()=>{if(l){if(t){var u,d;(d=c.current)===null||d===void 0||(u=d.api())===null||u===void 0||u.subscribeVisibleLogicalRangeChange(t)}return()=>{if(t){var f,g;(g=c.current)===null||g===void 0||(f=g.api())===null||f===void 0||f.unsubscribeVisibleLogicalRangeChange(t)}}}},[t]),(0,m.useLayoutEffect)(()=>{if(l){if(i){var u,d;(d=c.current)===null||d===void 0||(u=d.api())===null||u===void 0||u.subscribeVisibleTimeRangeChange(i)}return()=>{if(i){var f,g;(g=c.current)===null||g===void 0||(f=g.api())===null||f===void 0||f.unsubscribeVisibleTimeRangeChange(i)}}}},[i]),(0,m.useLayoutEffect)(()=>{if(l&&s){var u,d;(d=c.current)===null||d===void 0||(u=d.api())===null||u===void 0||u.setVisibleRange(s)}},[s]),(0,m.useLayoutEffect)(()=>{if(l&&n){var u,d;(d=c.current)===null||d===void 0||(u=d.api())===null||u===void 0||u.setVisibleLogicalRange(n)}},[n]),{timeScaleApiRef:c,isReady:a}},Bt=(0,m.forwardRef)(({children:i,...t},e)=>{let{timeScaleApiRef:{current:s},isReady:n}=ym(t);return(0,m.useImperativeHandle)(e,()=>s,[s]),Pt.createElement(Fn.Provider,{value:{timeScaleApiRef:s,isReady:n}},i)});Bt.displayName="TimeScale";let jn=(0,m.createContext)(null);jn.displayName="PaneContext";let On=()=>{let i=(0,m.useContext)(jn);return{isInsidePane:!!i,isPaneReady:!!(i!=null&&i.isReady),paneApiRef:i==null?void 0:i.paneApiRef}},Sm=({options:i={},id:t})=>{let{isReady:e,chartApiRef:s}=oe(Me),{isInsidePane:n,isPaneReady:r}=On(),o=(0,m.useRef)({_priceScale:null,api(){return this._priceScale},init(){if(!this._priceScale){let l=s==null?void 0:s.api();if(!l)return null;this._priceScale=l.priceScale(t),this._priceScale.applyOptions(i)}return this._priceScale},setId(l){this._priceScale!==null&&s!==null&&(this._priceScale=s.api().priceScale(l),this._priceScale.applyOptions(i))},clear(){this._priceScale=null}});return(0,m.useLayoutEffect)(()=>{if(e){if(!n)throw new ui("PriceScale must be used inside a pane. Please ensure that the component is wrapped in a pane component.",{isOperational:!0,docsPath:""});r&&o.current.init()}},[e,n,r]),(0,m.useLayoutEffect)(()=>()=>{o.current.clear()},[]),(0,m.useLayoutEffect)(()=>{var l;s&&((l=o.current)===null||l===void 0||l.setId(t))},[t]),(0,m.useLayoutEffect)(()=>{if(s&&i){var l,a;(a=o.current)===null||a===void 0||(l=a.api())===null||l===void 0||l.applyOptions(i)}},[i]),o},an=(0,m.forwardRef)((i,t)=>{let e=Sm(i);return(0,m.useImperativeHandle)(t,()=>e.current,[e]),null});an.displayName="PriceScale";let Cm=({deps:i})=>{let{timeScaleApiRef:t,isReady:e}=oe(Fn);(0,m.useLayoutEffect)(()=>{if(!e||!t)return;let s=t.api();queueMicrotask(()=>{s&&s.fitContent()})},[...i,e])},It=({deps:i})=>(Cm({deps:i}),null),Wi=(0,m.createContext)({seriesApiRef:null,isReady:!1});Wi.displayName="SeriesContext";let Mm=({type:i,data:t,options:e={},reactive:s=!0,seriesOrder:n,alwaysReplaceData:r=!1,...o})=>{let{isReady:l,chartApiRef:a}=oe(Me),{isPaneReady:h,isInsidePane:c,paneApiRef:u}=On(),[d,f]=(0,m.useState)(!1),g=(0,m.useRef)({_series:null,api(){return this._series},init(){if(!this._series){var v,b,w;let x=a==null?void 0:a.api();if(!x)return null;let S=c?u==null||(v=u.api())===null||v===void 0?void 0:v.paneIndex():void 0;if(i==="Custom"){let y=o.plugin;if(!y)throw new ui("Custom series requires a plugin to be defined");this._series=x.addCustomSeries(y,e,S)}else this._series=x.addSeries(Pm[i],e,S);(b=this._series)===null||b===void 0||b.setData(t),n!==void 0&&((w=this._series)===null||w===void 0||w.setSeriesOrder(n)),f(!0)}return this._series},clear(){if(this._series!==null){var v;a==null||(v=a.api())===null||v===void 0||v.removeSeries(this._series),this._series=null,f(!1)}}});return(0,m.useLayoutEffect)(()=>{l&&(!c||h)&&g.current.init()},[l,c,h]),(0,m.useLayoutEffect)(()=>()=>{g.current.clear()},[]),(0,m.useLayoutEffect)(()=>{if(a&&t&&s){let v=g.current.api();if(!v)return;let b=v.data(),w=t.length-b.length;if(r||b.length===0||t.length===0||w<0||w>1){v.setData(t);return}let x={...t[t.length-1]};v.update(x)}},[t,s,r]),(0,m.useLayoutEffect)(()=>{if(a&&e){var v;(v=g.current.api())===null||v===void 0||v.applyOptions(e)}},[e]),(0,m.useLayoutEffect)(()=>{if(a&&n!==void 0){var v;(v=g.current.api())===null||v===void 0||v.setSeriesOrder(n)}},[n]),{isReady:d,seriesApiRef:g}},Pm={Line:Ef,Candlestick:Af,Histogram:Gf,Area:Ff,Baseline:If,Bar:Wf},Pe=(0,m.forwardRef)(({children:i,...t},e)=>{let{seriesApiRef:{current:s},isReady:n}=Mm(t);return(0,m.useImperativeHandle)(e,()=>s,[s]),Pt.createElement(Wi.Provider,{value:{seriesApiRef:s,isReady:n}},i)});Pe.displayName="SeriesTemplate";let re=(0,m.forwardRef)(({children:i,...t},e)=>Pt.createElement(Pe,{type:"Line",ref:e,...t},i));re.displayName="LineSeries";let Wn=(0,m.forwardRef)(({children:i,...t},e)=>Pt.createElement(Pe,{type:"Histogram",ref:e,...t},i));Wn.displayName="HistogramSeries";let ke=(0,m.forwardRef)(({children:i,...t},e)=>Pt.createElement(Pe,{type:"Candlestick",ref:e,...t},i));ke.displayName="CandlestickSeries";let Ge=(0,m.forwardRef)(({children:i,...t},e)=>Pt.createElement(Pe,{type:"Area",ref:e,...t},i));Ge.displayName="AreaSeries";let Wl=(0,m.forwardRef)(({children:i,...t},e)=>Pt.createElement(Pe,{type:"Baseline",ref:e,...t},i));Wl.displayName="BaselineSeries";let Vl=(0,m.forwardRef)(({children:i,...t},e)=>Pt.createElement(Pe,{type:"Bar",ref:e,...t},i));Vl.displayName="BarSeries";let Yl=(0,m.forwardRef)(({children:i,...t},e)=>Pt.createElement(Pe,{type:"Custom",ref:e,...t},i));Yl.displayName="CustomSeries";let km=({options:i,price:t})=>{let{isReady:e,seriesApiRef:s}=oe(Wi),n=(0,m.useRef)({_priceLine:null,api(){return this._priceLine},init(){if(!this._priceLine){let r=s==null?void 0:s.api();if(!r)return null;this._priceLine=r.createPriceLine({price:t,...i})}return this._priceLine},clear(){if(this._priceLine!==null){var r;s==null||(r=s.api())===null||r===void 0||r.removePriceLine(this._priceLine),this._priceLine=null}}});return(0,m.useLayoutEffect)(()=>{e&&n.current.init()},[e]),(0,m.useLayoutEffect)(()=>()=>{n.current.clear()},[]),(0,m.useLayoutEffect)(()=>{if(s&&i){var r;(r=n.current.api())===null||r===void 0||r.applyOptions(i)}},[i]),(0,m.useLayoutEffect)(()=>{if(s&&t){var r;(r=n.current.api())===null||r===void 0||r.applyOptions({price:t})}},[t]),n},hs=(0,m.forwardRef)((i,t)=>{let e=km(i);return(0,m.useImperativeHandle)(t,()=>e.current,[e]),null});hs.displayName="PriceLine";let Rm=({reactive:i=!0,markers:t})=>{let{isReady:e,seriesApiRef:s}=oe(Wi),n=(0,m.useRef)({_markers:null,api(){return this._markers},init(){if(this._markers===null){let r=s==null?void 0:s.api();if(!r)return null;this._markers=gm(r,t)}return this._markers},clear(){this._markers!==null&&(this._markers.detach(),this._markers=null)}});return(0,m.useLayoutEffect)(()=>{e&&n.current.init()},[e]),(0,m.useLayoutEffect)(()=>()=>{n.current.clear()},[]),(0,m.useLayoutEffect)(()=>{if(s&&t&&i){var r;(r=n.current.api())===null||r===void 0||r.setMarkers(t)}},[t,i]),n},Al=(0,m.forwardRef)(({...i},t)=>{let e=Rm(i);return(0,m.useImperativeHandle)(t,()=>e.current,[e]),null});Al.displayName="Markers";let _m=i=>{let{isReady:t,chartApiRef:e}=oe(Me),{isPaneReady:s,isInsidePane:n,paneApiRef:r}=On(),o=(0,m.useRef)({_watermark:null,api(){return this._watermark},init(){if(this._watermark===null){let l=e==null?void 0:e.api(),a=r==null?void 0:r.api();if(!l||!a)return null;if($m(i)){let{type:h,...c}=i;this._watermark=em(a,c)}else{let{type:h,src:c,...u}=i;this._watermark=om(a,c,u)}}return this._watermark},clear(){this._watermark!==null&&(this._watermark.detach(),this._watermark=null)}});return(0,m.useLayoutEffect)(()=>{if(t){if(!n)throw new ui("Watermark must be used inside a pane. Please ensure that the component is wrapped in a pane component.",{isOperational:!0,docsPath:""});s&&o.current.init()}},[t,s,n]),(0,m.useLayoutEffect)(()=>()=>{o.current.clear()},[]),(0,m.useLayoutEffect)(()=>{var l;if(!e||!i)return;let{type:a,...h}=i;(l=o.current.api())===null||l===void 0||l.applyOptions(h)},[i]),o},$m=i=>i.type==="text",Hl=(i,t)=>{let e=_m(i);return(0,m.useImperativeHandle)(t,()=>e.current,[e]),null},Ms=(0,m.forwardRef)((i,t)=>Hl({...i,type:"text"},t)),Ul=(0,m.forwardRef)((i,t)=>Hl({...i,type:"image"},t));Ms.displayName="WatermarkText",Ul.displayName="WatermarkImage";let Em=({render:i,plugin:t})=>{let{isReady:e,chartApiRef:s}=oe(Me),{isReady:n,seriesApiRef:r}=oe(Wi),o=(0,m.useRef)({_primitive:null,api(){return this._primitive},init(){if(!this._primitive){let l=r==null?void 0:r.api(),a=s==null?void 0:s.api();if(!a||!l)return null;let h=t||i({chart:a,series:l});l.attachPrimitive(h),this._primitive=h}return this._primitive},clear(){if(this._primitive!==null){var l;r==null||(l=r.api())===null||l===void 0||l.detachPrimitive(this._primitive),this._primitive=null}}});return(0,m.useLayoutEffect)(()=>{e&&n&&o.current.init()},[n,e]),(0,m.useLayoutEffect)(()=>()=>{o.current.clear()},[]),o},Gl=(0,m.forwardRef)((i,t)=>{let e=Em(i);return(0,m.useImperativeHandle)(t,()=>e.current,[e]),null});Gl.displayName="SeriesPrimitive";let Bm=({stretchFactor:i}={})=>{let{chartApiRef:t,isReady:e}=oe(Me),[s,n]=(0,m.useState)(!1),r=(0,m.useRef)({_pane:null,api(){return this._pane},init(){let o=t==null?void 0:t.api();if(!o)return null;let l=o.addPane(!0);return this._pane=l,n(!0),i!==void 0&&this._pane.setStretchFactor(i),this._pane},clear(){if(this._pane!==null){var o;t==null||(o=t.api())===null||o===void 0||o.removePane(this._pane.paneIndex()),n(!1),this._pane=null}}});return(0,m.useLayoutEffect)(()=>{e&&r.current.init()},[e]),(0,m.useLayoutEffect)(()=>()=>{r.current.clear()},[]),(0,m.useLayoutEffect)(()=>{if(i===void 0)return;let o=r.current.api();o&&o.setStretchFactor(i)},[i]),{paneApiRef:r,isReady:s}},Ne=(0,m.forwardRef)(({children:i,stretchFactor:t},e)=>{let{paneApiRef:{current:s},isReady:n}=Bm({stretchFactor:t});return(0,m.useImperativeHandle)(e,()=>s,[s]),Pt.createElement(jn.Provider,{value:{paneApiRef:s,isReady:n}},i)});Ne.displayName="Pane";const $o=i=>{let t;const e=new Set,s=(h,c)=>{const u=typeof h=="function"?h(t):h;if(!Object.is(u,t)){const d=t;t=c??(typeof u!="object"||u===null)?u:Object.assign({},t,u),e.forEach(f=>f(t,d))}},n=()=>t,l={setState:s,getState:n,getInitialState:()=>a,subscribe:h=>(e.add(h),()=>e.delete(h))},a=t=i(s,n,l);return l},zm=i=>i?$o(i):$o,Lm=i=>i;function Tm(i,t=Lm){const e=Pt.useSyncExternalStore(i.subscribe,()=>t(i.getState()),()=>t(i.getInitialState()));return Pt.useDebugValue(e),e}const Eo=i=>{const t=zm(i),e=s=>Tm(t,s);return Object.assign(e,t),e},xt=i=>i?Eo(i):Eo,Lt=(i,{lastItemTime:t}={})=>{const e=t?ne(t).subtract(i,"day"):ne().subtract(i,"day");let s=Math.floor(Math.random()*100);return dl(i).map((n,r)=>{const o=Math.floor(Math.random()*21)-10;return s=Math.max(0,s+o),{time:e.add(r,"day").format("YYYY-MM-DD"),value:s}})},di=i=>{const t=ne().subtract(i,"day");let e=Math.max(1,Math.random()*100);return dl(i).map((s,n)=>{const r=e,o=r+Math.random()*10;let l=r-Math.random()*10;l=Math.max(0,l);const h=Math.max(o,l+.01),c=l+Math.random()*(h-l);return e=c,{time:t.add(n,"day").format("YYYY-MM-DD"),open:r,high:h,low:l,close:c}})},Vn=(i,{upColor:t,downColor:e}={})=>{const s=Lt(i);return s.map((n,r)=>{const l=!(r===0)&&n.value<s[r-1].value;return{time:n.time,value:n.value,color:l?e:t}})};let yi=null;const Im=i=>{const t=ne(i.time.toString()).add(1,"day").format("YYYY-MM-DD"),e=i.close,s=Math.random()*e/10+1,n=Math.random()>.5?1:-1,r=s*n,o=5,l=e+r>=o?e+r:e-r<-5?e-r:e+r,a=Math.max(e,l)+s/2,h=Math.min(e,l)-s/2,c=h>=o?h:Math.max(e,l);return{time:t,open:e,high:a,low:c,close:l}},Dm=xt(i=>({reactive:!0,resizeOnUpdate:!1,data:di(50),setReactive:t=>i({reactive:t}),setResizeOnUpdate:t=>i({resizeOnUpdate:t}),setData:t=>i(()=>({data:t})),startSimulation:()=>{yi||(yi=setInterval(()=>{i(t=>{const e=t.data[t.data.length-1],s=Im(e);return{data:t.data.length>=300?[...t.data.slice(1),s]:[...t.data,s]}})},1e3))},stopSimulation:()=>{yi&&(clearInterval(yi),yi=null)}})),Nm=()=>{const{reactive:i,setReactive:t,resizeOnUpdate:e,setResizeOnUpdate:s,data:n,startSimulation:r,stopSimulation:o}=Dm(),l=m.useRef(null),{isOnScreen:a}=ld({ref:l,margin:"100px"});return m.useEffect(()=>(a?r():o(),()=>{o()}),[a,r,o]),p.jsxs(Wt,{title:"Realtime updates",subTitle:"Updating the chart in real-time",sampleConfig:Ot.RealTime,children:[p.jsxs(gs,{sx:{flexDirection:"row",gap:2},children:[p.jsx(Ie,{control:p.jsx(ki,{checked:i,onChange:h=>t(h.target.checked),slotProps:{input:{"aria-label":"controlled"}}}),label:"Reactive"}),p.jsx(Ie,{control:p.jsx(ki,{checked:e,onChange:h=>s(h.target.checked),slotProps:{input:{"aria-label":"controlled"}}}),label:"Resize on update"})]}),p.jsxs(Et,{containerProps:{style:{flexGrow:"1"}},options:ci,ref:l,children:[p.jsx(ke,{data:n,reactive:i}),p.jsx(Bt,{children:p.jsx(It,{deps:e?[n.length]:[]})})]})]})},hn=Lt(50),Fm=di(50),jm=Vn(50,{upColor:C.orange,downColor:C.blue100}),cn={Candlestick:{Component:ke,options:{upColor:C.green,downColor:C.red,borderUpColor:C.green,borderDownColor:C.red,wickUpColor:C.green,wickDownColor:C.red}},Line:{Component:re},Bar:{Component:Vl,options:{upColor:C.green,downColor:C.red}},Area:{Component:Ge,options:{topColor:C.pink,bottomColor:`${C.pink}20`,lineColor:C.pink}},Histogram:{Component:Wn},Baseline:{Component:Wl,options:{baseValue:{type:"price",price:(Math.min(...hn.map(i=>i.value))+Math.max(...hn.map(i=>i.value)))/2},topLineColor:C.green,bottomLineColor:C.red}}},Xl=i=>{switch(i){case"Line":case"Area":case"Baseline":return hn;case"Candlestick":case"Bar":return Fm;case"Histogram":return jm;default:return[]}},Yn=xt(i=>({activeTab:"Candlestick",setActiveTab:t=>i({activeTab:t})})),un=xt(i=>({seriesComponent:ke,seriesData:Xl(Yn.getState().activeTab),setSeriesData:t=>i({seriesData:t}),setSeriesComponent:t=>i({seriesComponent:t})}));Yn.subscribe(i=>{var e;const t=i.activeTab;un.getState().setSeriesComponent(((e=cn[t])==null?void 0:e.Component)??null),un.getState().setSeriesData(Xl(t))});const Om=()=>{var o;const{activeTab:i,setActiveTab:t}=Yn(),{seriesData:e,seriesComponent:s}=un(),n=((o=cn[i])==null?void 0:o.options)||{},r=l=>({id:`line-series-tab-${l}`,"aria-controls":`basic-series-tabpanel-${l}`});return p.jsxs(Wt,{title:"Basic series",subTitle:"Different series types basic usage",sampleConfig:Ot.BasicSeries,children:[p.jsx(Pn,{value:i,onChange:(l,a)=>t(a),"aria-label":"basic series tabs",sx:{marginBottom:2},allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",children:kn(cn).map(l=>p.jsx(Mn,{value:l,label:l,...r(l)},l))}),p.jsxs(Et,{options:ci,containerProps:{style:{flexGrow:"1"}},children:[s&&p.jsx(s,{data:e,options:n,reactive:!1}),p.jsx(Bt,{children:p.jsx(It,{deps:[]})})]})]})},Wm={maskImage:"linear-gradient(to left, white 90%, transparent 100%)",WebkitMaskImage:"linear-gradient(to left, white 90%, transparent 100%)"},Vm={maskImage:"linear-gradient(to right, white 90%, transparent 100%)",WebkitMaskImage:"linear-gradient(to right, white 90%, transparent 100%)"},Ym={maskImage:"linear-gradient(to top, white 90%, transparent 100%)",WebkitMaskImage:"linear-gradient(to top, white 90%, transparent 100%)"},Am={maskImage:"linear-gradient(to bottom, white 90%, transparent 100%)",WebkitMaskImage:"linear-gradient(to bottom, white 90%, transparent 100%)"},Hm={maskImage:`
    linear-gradient(to right, transparent 0%, white 10%, white 90%, transparent 100%)`,WebkitMaskImage:`
    linear-gradient(to right, transparent 0%, white 10%, white 90%, transparent 100%)`},Um={maskImage:`
    linear-gradient(to top, transparent 0%, white 10%, white 90%, transparent 100%)`,WebkitMaskImage:`
    linear-gradient(to top, transparent 0%, white 10%, white 90%, transparent 100%)`},Gm=({top:i,right:t,bottom:e,left:s})=>{const n={...s&&Wm,...t&&Vm,...i&&Ym,...e&&Am};return s&&t&&Object.assign(n,Hm),i&&e&&Object.assign(n,Um),n},Ps=({children:i,direction:t="row",gap:e=2,sx:s})=>{const n=m.useRef(null),[r,o]=m.useState({left:!1,right:!1,top:!1,bottom:!1});return m.useLayoutEffect(()=>{const l=n.current;if(!l)return;const a=()=>{const{scrollLeft:h,scrollWidth:c,clientWidth:u,scrollTop:d,scrollHeight:f,clientHeight:g}=l,v=h>0,b=h+u<c,w=d>0,x=d+g<f;o({left:v,right:b,top:w,bottom:x})};return a(),l.addEventListener("scroll",a),window.addEventListener("resize",a),()=>{l.removeEventListener("scroll",a),window.removeEventListener("resize",a)}},[]),p.jsx(We,{component:"div",direction:t,ref:n,sx:{...s,overflow:"auto",minWidth:0,scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},...Gm(r)},children:p.jsx(We,{component:"div",gap:e,direction:t,sx:{flexShrink:0},flexWrap:"nowrap",children:i})})},Xm=(i,t=14)=>{const e=[];for(let s=t-1;s<i.length;s++){const r=i.slice(s-t+1,s+1).reduce((o,l)=>o+l.value,0)/t;e.push({time:i[s].time,value:r})}return e},Qm=(i,t=14)=>{const e=2/(t+1),s=[];let n=i[0].value;for(let r=0;r<i.length;r++){if(r===0){s.push({time:i[r].time,value:n});continue}const o=i[r].value*e+n*(1-e);s.push({time:i[r].time,value:o}),n=o}return s},Ql=100,dn=Lt(Ql),Km=Lt(Ql),qm={"Asset B":{data:Km,Component:re,chipColor:C.violet,options:{color:C.violet}},"SMA 14":{data:Xm(dn,14),Component:re,chipColor:C.green,options:{color:C.green,priceLineVisible:!1,lineWidth:2}},"EMA 14":{data:Qm(dn),Component:re,chipColor:C.orange100,options:{color:C.orange100,priceLineVisible:!1,lineWidth:2}}},Zm=xt(i=>({visibleSeries:[],toggleSeriesVisibility:t=>i(e=>({visibleSeries:e.visibleSeries.includes(t)?e.visibleSeries.filter(n=>n!==t):[...e.visibleSeries,t]}))})),Bo=({label:i,selected:t,onClick:e,color:s})=>p.jsx(xh,{label:i,variant:t?"filled":"outlined",onClick:e,tabIndex:e?0:-1,sx:{backgroundColor:t?s:"transparent",borderColor:s,color:t?C.white:s,"&:hover":{backgroundColor:t?s:"transparent"},...e?{"&:focus":{outline:`2px solid ${s}`}}:{}}}),Jm=()=>{const{visibleSeries:i,toggleSeriesVisibility:t}=Zm(),e=ad(qm);return p.jsxs(Wt,{title:"Compare series",subTitle:"Compare different series and metrics on the same chart",sampleConfig:Ot.CompareSeries,children:[p.jsxs(Ps,{sx:{marginBottom:2,paddingBlock:1},children:[p.jsx(Bo,{label:"Asset A",color:C.blue100,selected:!0}),e.map(([s,{chipColor:n}])=>p.jsx(Bo,{label:s,color:n,selected:i.includes(s),onClick:()=>t(s)},s))]}),p.jsxs(Et,{options:Ut({crosshair:{mode:Di.Normal}}),containerProps:{style:{flexGrow:"1"}},children:[p.jsx(Ge,{data:dn,options:{topColor:C.blue100,bottomColor:`${C.blue100}10`,lineColor:C.blue100,lineWidth:2}}),e.filter(([s])=>i.includes(s)).map(([s,{Component:n,data:r,options:o}])=>p.jsx(n,{data:r,options:o},s)),p.jsx(Bt,{children:p.jsx(It,{deps:[]})})]})]})},tg={...vm,colors:["#2962FF","#E1575A","#F28E2C","rgb(164, 89, 209)","rgb(27, 156, 133)"]};function eg(i){return Math.floor(i*.5)}function ig(i,t,e=1,s){const n=Math.round(t*i),r=Math.round(e*t),o=eg(r);return{position:n-o,length:r}}function sg(i,t,e){const s=Math.round(e*i),n=Math.round(e*t);return{position:Math.min(s,n),length:Math.abs(n-s)+1}}class ng{constructor(){Jt(this,"_data",null);Jt(this,"_options",null)}draw(t,e){t.useBitmapCoordinateSpace(s=>this._drawImpl(s,e))}update(t,e){this._data=t,this._options=e}_drawImpl(t,e){if(this._data===null||this._data.bars.length===0||this._data.visibleRange===null||this._options===null)return;const s=this._options,n=this._data.barSpacing,r=this._data.bars.map(l=>{var d;const a=(d=l.originalData.customValues)==null?void 0:d.values.length,h=n/(a+1),u=h/2+l.x-n/2+h/2;return{singleBarWidth:h,singleBars:l.originalData.customValues.values.map((f,g)=>({y:e(f)??0,color:s.colors[g%s.colors.length],x:u+g*h}))}}),o=e(0)??0;for(let l=this._data.visibleRange.from;l<this._data.visibleRange.to;l++){const a=r[l];let h;a.singleBars.forEach(c=>{const u=sg(o,c.y,t.verticalPixelRatio),d=ig(c.x,t.horizontalPixelRatio,a.singleBarWidth);t.context.beginPath(),t.context.fillStyle=c.color;const f=h?d.position-h:0;t.context.fillRect(d.position-f,u.position,d.length+f,u.length),h=d.position+d.length})}}}class rg{constructor(){Jt(this,"_renderer");this._renderer=new ng}priceValueBuilder(t){const{values:e}=t.customValues??{values:[]};return[0,...e]}isWhitespace(t){var e,s;return!((s=(e=t.customValues)==null?void 0:e.values)!=null&&s.length)}renderer(){return this._renderer}update(t,e){this._renderer.update(t,e)}defaultOptions(){return tg}}const og=()=>p.jsx(Wt,{title:"Custom series",subTitle:"Custom series plugin usage (grouped bars)",sampleConfig:Ot.CustomSeries,children:p.jsxs(Et,{options:ci,containerProps:{style:{flexGrow:"1"}},children:[p.jsx(Yl,{data:[{time:"2021-01-01",customValues:{values:[1,2,3]}},{time:"2021-01-02",customValues:{values:[2,3,4]}},{time:"2021-01-03",customValues:{values:[3,4,5]}}],plugin:new rg}),p.jsx(Bt,{children:p.jsx(It,{deps:[]})})]})}),lg=Lt(100),ag=xt((i,t)=>({data:lg,loading:!1,fetchMoreData:async e=>{const{data:s}=t();i({loading:!0});try{i({loading:!0}),await cd(500);const n=Lt(e,{lastItemTime:s[0].time});i({data:[...n,...s]}),i({loading:!1})}catch{i({loading:!1})}}})),hg=()=>{const{data:i,loading:t,fetchMoreData:e}=ag(),s=ai(),n=m.useMemo(()=>Fi(l=>{const{from:a}=l;e(Math.floor(50-a))},150),[e]),r=m.useCallback(l=>{t||!l||l.from<5&&n(l)},[n,t]),o=m.useMemo(()=>Ut(t?{layout:{background:{color:`${C.gray}05`},textColor:C.gray}}:{}),[Ut,t]);return p.jsx(Wt,{title:"Infinite data",subTitle:"Load more data on scroll",sampleConfig:Ot.InfiniteData,children:p.jsx(Et,{options:o,containerProps:{style:{flexGrow:"1"}},children:p.jsxs(Ne,{children:[p.jsx(re,{data:i,options:{color:C.green}}),p.jsx(Bt,{options:{barSpacing:10,fixRightEdge:!0},onVisibleLogicalRangeChange:r,children:p.jsx(It,{deps:[]})}),p.jsx(Ms,{visible:t,lines:[{text:"Loading more data...",color:`${C.gray}75`,fontSize:32,fontFamily:s.typography.fontFamily}]})]})})})},cg=xt(i=>({legendVisible:!0,setLegendVisible:t=>i({legendVisible:t})})),pn=di(40),Kl=i=>"close"in i&&"open"in i&&"high"in i&&"low"in i,ug=i=>{if(typeof i=="number")return ne(i*1e3).format("YYYY-MM-DD");if(typeof i=="object"){const t=new Date(i.year,i.month-1,i.day);return ne(t).format("YYYY-MM-DD")}return i},fn=({open:i,high:t,low:e,close:s,time:n})=>{const r=i>s,o=r?"-":"+",l=Math.abs(s-i);return{open:i.toFixed(1),high:t.toFixed(1),low:e.toFixed(1),close:s.toFixed(1),time:ug(n),color:r?C.red:C.green,change:`${o}${l.toFixed(1)} (${o}${(l/i*100).toFixed(2)}%)`}},dg=i=>{const t=i.dataByIndex(Number.MAX_SAFE_INTEGER,-1);return!t||!Kl(t)?null:fn(t)},pg=i=>{const t=m.useRef(null),[e,s]=m.useState(()=>fn(pn[pn.length-1])),n=m.useCallback(r=>{if(!i||!t.current)return;const o=t.current.api();if(!o||!r)return;if(!r.time){const h=dg(o);s(c=>(c==null?void 0:c.time)!==(h==null?void 0:h.time)?h:c);return}const l=r.seriesData.get(o);if(!Kl(l)){s(null);return}const a=fn(l);s(h=>(h==null?void 0:h.time)!==a.time?a:h)},[s,i]);return{ref:t,legendData:e,onCrosshairMove:n}},fg=({children:i})=>p.jsx(ji,{sx:{position:"absolute",top:0,left:0,backgroundColor:`${C.blue200}95`,padding:2,zIndex:10},children:i}),mg=()=>{const{legendVisible:i,setLegendVisible:t}=cg(),{ref:e,legendData:s,onCrosshairMove:n}=pg(i);return p.jsxs(Wt,{title:"Legend",subTitle:"Display legend on the chart",sampleConfig:Ot.Legend,children:[p.jsx(gs,{sx:{marginBottom:2},children:p.jsx(Ie,{control:p.jsx(ul,{checked:i,onChange:()=>t(!i),slotProps:{input:{"aria-label":"controlled"}}}),label:"Show legend"})}),p.jsxs(ji,{height:"100%",flexDirection:"column",position:"relative",children:[p.jsxs(Et,{options:Ut({crosshair:{mode:Di.Normal}}),containerProps:{style:{height:"100%"}},onCrosshairMove:n,children:[p.jsx(ke,{ref:e,data:pn,options:{upColor:C.green,downColor:C.red,borderUpColor:C.green,borderDownColor:C.red,wickUpColor:C.green,wickDownColor:C.red}}),p.jsx(Bt,{children:p.jsx(It,{deps:[]})})]}),s!==null&&i&&p.jsxs(fg,{children:[p.jsx(ut,{variant:"h6",gutterBottom:!0,children:"Your awesome chart legend"}),p.jsx(ut,{variant:"body2",children:s.time}),p.jsxs(We,{direction:"row",useFlexGap:!0,gap:1.2,children:[p.jsxs(ut,{variant:"overline",children:["O:"," ",p.jsx(ut,{color:s.color,variant:"overline",children:s.open})]}),p.jsxs(ut,{variant:"overline",children:["H:"," ",p.jsx(ut,{color:s.color,variant:"overline",children:s.high})]}),p.jsxs(ut,{variant:"overline",children:["L:"," ",p.jsx(ut,{color:s.color,variant:"overline",children:s.low})]}),p.jsxs(ut,{variant:"overline",children:["C:"," ",p.jsx(ut,{color:s.color,variant:"overline",children:s.close})]}),p.jsx(ut,{color:s.color,variant:"overline",children:s.change})]})]})]})]})},gg=xt((i,t)=>({basicMarkersVisible:!0,setBasicMarkersVisible:e=>i({basicMarkersVisible:e}),getMarkersData:()=>{const{basicMarkersVisible:e}=t();return e?vg:[]}})),Mi=di(40),vg=[{time:Mi[5].time,color:C.green,shape:"arrowUp",text:"Buy",position:"belowBar",size:2},{time:Mi[25].time,color:C.red,shape:"arrowDown",text:"Sell",position:"aboveBar",size:2},{time:Mi[35].time,price:Math.max(...Mi.map(i=>i.high)),color:C.orange,shape:"circle",text:"D",position:"atPriceTop",size:2}],bg=()=>{const{getMarkersData:i,basicMarkersVisible:t,setBasicMarkersVisible:e}=gg();return p.jsxs(Wt,{title:"Markers",subTitle:"Various markers display on the chart",sampleConfig:Ot.Markers,children:[p.jsx(gs,{sx:{marginBottom:2},children:p.jsx(Ie,{control:p.jsx(ul,{checked:t,onChange:()=>e(!t),slotProps:{input:{"aria-label":"controlled"}}}),label:"Basic markers"})}),p.jsxs(Et,{options:ci,containerProps:{style:{flexGrow:"1"}},children:[p.jsx(ke,{data:Mi,options:{priceLineVisible:!1,upColor:"transparent",downColor:C.blue,borderUpColor:C.blue,borderDownColor:C.blue,wickUpColor:C.blue,wickDownColor:C.blue},children:p.jsx(Al,{markers:i()})}),p.jsx(Bt,{children:p.jsx(It,{deps:[]})})]})]})},wg=(i,t=14)=>{const e=i.map(a=>a.close),s=[];let n=0,r=0,o=null,l=null;for(let a=0;a<e.length;a++){if(a===0){s.push({time:i[a].time});continue}const h=e[a]-e[a-1],c=Math.max(h,0),u=Math.max(-h,0);if(a<t){n+=c,r+=u,s.push({time:i[a].time});continue}a===t?(n+=c,r+=u,o=n/t,l=r/t):(o=(o*(t-1)+c)/t,l=(l*(t-1)+u)/t);const f=100-100/(1+(l===0?100:o/l));s.push({time:i[a].time,value:f})}return s},An=di(100),xg=wg(An,14),yg=Vn(100).map((i,t)=>{const e=An[t];return{time:e.time,value:i.value,color:e.close>e.open?`${C.green}90`:`${C.red}90`}}),zo=({text:i})=>{const t=ai();return p.jsx(Ms,{lines:[{text:i,color:`${C.blue}90`,fontSize:12,fontFamily:t.typography.fontFamily}],horzAlign:"center",vertAlign:"center"})},Sg=()=>p.jsx(Wt,{title:"Panes",subTitle:"Multiple panes on the same chart",sampleConfig:Ot.Panes,children:p.jsxs(Et,{options:Ut({layout:{panes:{enableResize:!0,separatorColor:C.gray100}}}),containerProps:{style:{flexGrow:"1"}},children:[p.jsx(Bt,{children:p.jsx(It,{deps:[]})}),p.jsx(Ne,{stretchFactor:3,children:p.jsx(ke,{data:An,options:{upColor:"transparent",downColor:C.orange100,borderUpColor:C.blue,borderDownColor:C.orange100,wickUpColor:C.blue,wickDownColor:C.orange100,priceLineVisible:!1}})}),p.jsxs(Ne,{stretchFactor:1,children:[p.jsxs(re,{data:xg,options:{priceLineVisible:!1,color:C.blue100,lineWidth:2,priceScaleId:"right"},children:[p.jsx(hs,{price:70,options:{color:C.violet,lineWidth:1,lineStyle:3,axisLabelVisible:!0}}),p.jsx(hs,{price:30,options:{color:C.violet,lineWidth:1,lineStyle:3,axisLabelVisible:!0}})]}),p.jsx(zo,{text:"RSI-14"})]}),p.jsxs(Ne,{stretchFactor:1,children:[p.jsx(Wn,{data:yg,options:{priceLineVisible:!1}}),p.jsx(zo,{text:"VOLUME"})]})]})}),mn=di(60);let Ei=0,cs=0;for(let i=0;i<mn.length;i++){const t=mn[i];t.high>cs&&(cs=t.high),(t.low<Ei||Ei===0)&&(Ei=t.low)}const Cg=(cs+Ei)/2,ql={price:cs,options:{title:"Max Price",color:C.violet,lineWidth:2,axisLabelVisible:!0,lineStyle:0}},Zl={price:Ei,options:{title:"Min Price",color:C.red,lineWidth:2,axisLabelVisible:!0,lineStyle:0}},Jl={price:Cg,options:{title:"Average Price",color:C.pink,lineWidth:2,axisLabelVisible:!0,lineStyle:3}},ta=xt(i=>({maxPriceVisible:!0,minPriceVisible:!0,avgPriceVisible:!0,setMaxPriceVisible:t=>i({maxPriceVisible:t}),setMinPriceVisible:t=>i({minPriceVisible:t}),setAvgPriceVisible:t=>i({avgPriceVisible:t})})),ea=xt(i=>({priceLines:[ql,Zl,Jl],setPriceLines:t=>i({priceLines:t})}));ta.subscribe(i=>{const{maxPriceVisible:t,minPriceVisible:e,avgPriceVisible:s}=i,n=[];t&&n.push(ql),e&&n.push(Zl),s&&n.push(Jl),ea.getState().setPriceLines(n)});const Mg=()=>{const{maxPriceVisible:i,minPriceVisible:t,avgPriceVisible:e,setAvgPriceVisible:s,setMaxPriceVisible:n,setMinPriceVisible:r}=ta(),{priceLines:o}=ea();return p.jsxs(Wt,{title:"PriceLines",subTitle:"Multiple price lines with titles",sampleConfig:Ot.PriceLines,children:[p.jsx(Ps,{sx:{marginBottom:2},children:p.jsxs(gs,{sx:{flexDirection:"row",gap:2},children:[p.jsx(Ie,{control:p.jsx(ki,{checked:i,onChange:l=>n(l.target.checked),slotProps:{input:{"aria-label":"controlled"}}}),label:"Max price"}),p.jsx(Ie,{control:p.jsx(ki,{checked:e,onChange:l=>s(l.target.checked),slotProps:{input:{"aria-label":"controlled"}}}),label:"Avg price"}),p.jsx(Ie,{control:p.jsx(ki,{checked:t,onChange:l=>r(l.target.checked),slotProps:{input:{"aria-label":"controlled"}}}),label:"Min price"})]})}),p.jsxs(Et,{options:Ut({timeScale:{fixRightEdge:!0,fixLeftEdge:!0}}),containerProps:{style:{flexGrow:"1"}},children:[p.jsx(Bt,{children:p.jsx(It,{deps:[]})}),p.jsx(ke,{data:mn,options:{upColor:"transparent",downColor:C.blue,borderUpColor:C.blue,borderDownColor:C.blue,wickUpColor:C.blue,wickDownColor:C.blue,priceLineVisible:!1},children:o.map(({price:l,options:a})=>p.jsx(hs,{options:a,price:l},`${a==null?void 0:a.title}-${l}`))})]})]})};var Ze=255,we=100,Pg=i=>{var{r:t,g:e,b:s,a:n}=i,r=Math.max(t,e,s),o=r-Math.min(t,e,s),l=o?r===t?(e-s)/o:r===e?2+(s-t)/o:4+(t-e)/o:0;return{h:60*(l<0?l+6:l),s:r?o/r*we:0,v:r/Ze*we,a:n}},kg=i=>{var{h:t,s:e,v:s,a:n}=i,r=(200-e)*s/we;return{h:t,s:r>0&&r<200?e*s/we/(r<=we?r:200-r)*we:0,l:r/2,a:n}},ia=i=>{var{r:t,g:e,b:s}=i,n=t<<16|e<<8|s;return"#"+(r=>new Array(7-r.length).join("0")+r)(n.toString(16))},Rg=i=>{var{r:t,g:e,b:s,a:n}=i,r=typeof n=="number"&&(n*255|256).toString(16).slice(1);return""+ia({r:t,g:e,b:s})+(r||"")},sa=i=>Pg(_g(i)),_g=i=>{var t=i.replace("#","");/^#?/.test(i)&&t.length===3&&(i="#"+t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2));var e=new RegExp("[A-Za-z0-9]{2}","g"),[s,n,r=0,o]=i.match(e).map(l=>parseInt(l,16));return{r:s,g:n,b:r,a:(o??255)/Ze}},na=i=>{var{h:t,s:e,v:s,a:n}=i,r=t/60,o=e/we,l=s/we,a=Math.floor(r)%6,h=r-Math.floor(r),c=Ze*l*(1-o),u=Ze*l*(1-o*h),d=Ze*l*(1-o*(1-h));l*=Ze;var f={};switch(a){case 0:f.r=l,f.g=d,f.b=c;break;case 1:f.r=u,f.g=l,f.b=c;break;case 2:f.r=c,f.g=l,f.b=d;break;case 3:f.r=c,f.g=u,f.b=l;break;case 4:f.r=d,f.g=c,f.b=l;break;case 5:f.r=l,f.g=c,f.b=u;break}return f.r=Math.round(f.r),f.g=Math.round(f.g),f.b=Math.round(f.b),ve({},f,{a:n})},$g=i=>{var{r:t,g:e,b:s}=i;return{r:t,g:e,b:s}},Eg=i=>{var{h:t,s:e,l:s}=i;return{h:t,s:e,l:s}},ra=i=>ia(na(i)),Bg=i=>{var{h:t,s:e,v:s}=i;return{h:t,s:e,v:s}},zg=i=>{var{r:t,g:e,b:s}=i,n=function(c){return c<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)},r=n(t/255),o=n(e/255),l=n(s/255),a={};return a.x=r*.4124+o*.3576+l*.1805,a.y=r*.2126+o*.7152+l*.0722,a.bri=r*.0193+o*.1192+l*.9505,a},Lg=i=>{var t,e,s,n,r,o,l,a,h;return typeof i=="string"&&oa(i)?(o=sa(i),a=i):typeof i!="string"&&(o=i),o&&(s=Bg(o),r=kg(o),n=na(o),h=Rg(n),a=ra(o),e=Eg(r),t=$g(n),l=zg(t)),{rgb:t,hsl:e,hsv:s,rgba:n,hsla:r,hsva:o,hex:a,hexa:h,xy:l}},oa=i=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(i);function Lo(i){var t=m.useRef(i);return m.useEffect(()=>{t.current=i}),m.useCallback((e,s)=>t.current&&t.current(e,s),[])}var Bi=i=>"touches"in i,To=i=>{!Bi(i)&&i.preventDefault&&i.preventDefault()},Io=function(t,e,s){return e===void 0&&(e=0),s===void 0&&(s=1),t>s?s:t<e?e:t},Do=(i,t)=>{var e=i.getBoundingClientRect(),s=Bi(t)?t.touches[0]:t;return{left:Io((s.pageX-(e.left+window.pageXOffset))/e.width),top:Io((s.pageY-(e.top+window.pageYOffset))/e.height),width:e.width,height:e.height,x:s.pageX-(e.left+window.pageXOffset),y:s.pageY-(e.top+window.pageYOffset)}},Tg=["prefixCls","className","onMove","onDown"],la=Pt.forwardRef((i,t)=>{var{prefixCls:e="w-color-interactive",className:s,onMove:n,onDown:r}=i,o=Go(i,Tg),l=m.useRef(null),a=m.useRef(!1),[h,c]=m.useState(!1),u=Lo(n),d=Lo(r),f=x=>a.current&&!Bi(x)?!1:(a.current=Bi(x),!0),g=m.useCallback(x=>{if(To(x),!!l.current){var S=Bi(x)?x.touches.length>0:x.buttons>0;if(!S){c(!1);return}u==null||u(Do(l.current,x),x)}},[u]),v=m.useCallback(()=>c(!1),[]),b=m.useCallback(x=>{x?(window.addEventListener(a.current?"touchmove":"mousemove",g),window.addEventListener(a.current?"touchend":"mouseup",v)):(window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",v),window.removeEventListener("touchmove",g),window.removeEventListener("touchend",v))},[g,v]);m.useEffect(()=>(b(h),()=>{b(!1)}),[h,g,v,b]);var w=m.useCallback(x=>{To(x.nativeEvent),f(x.nativeEvent)&&l.current&&(d==null||d(Do(l.current,x.nativeEvent),x.nativeEvent),c(!0))},[d]);return p.jsx("div",ve({},o,{className:[e,s||""].filter(Boolean).join(" "),style:ve({},o.style,{touchAction:"none"}),ref:l,tabIndex:0,onMouseDown:w,onTouchStart:w}))});la.displayName="Interactive";var Ig="rgb(255 255 255) 0px 0px 0px 1.5px, rgb(0 0 0 / 30%) 0px 0px 1px 1px inset, rgb(0 0 0 / 40%) 0px 0px 1px 2px",Dg=i=>{var{className:t,color:e,left:s,top:n,style:r,prefixCls:o}=i,l=ve({},r,{position:"absolute",top:n,left:s}),a=o+"-pointer "+(t||"");return p.jsx("div",{className:a,style:l,children:p.jsx("div",{className:o+"-fill",style:{width:10,height:10,transform:"translate(-5px, -5px)",boxShadow:Ig,borderRadius:"50%",backgroundColor:"#fff"},children:p.jsx("div",{style:{inset:0,borderRadius:"50%",position:"absolute",backgroundColor:e}})})})},aa=Math.PI*2,Ng=(i,t)=>(i%t+t)%t,Fg=(i,t)=>Math.sqrt(i*i+t*t);function ha(i){var{width:t=0}=i,e=t/2;return{width:t,radius:e,cx:e,cy:e}}function jg(i,t){var{cx:e,cy:s}=ha(i),n=ca(i),r=(180+ua(i,t.h,!0))*(aa/360),o=t.s/100*n,l=i.direction==="clockwise"?-1:1;return{x:e+o*Math.cos(r)*l,y:s+o*Math.sin(r)*l}}function ca(i){var{width:t=0}=i;return t/2}function ua(i,t,e){var s=i.angle||0,n=i.direction;return e&&n==="clockwise"?t=s+t:n==="clockwise"?t=360-s+t:e&&n==="anticlockwise"?t=s+180-t:n==="anticlockwise"&&(t=s-t),Ng(t,360)}function Og(i,t,e){var{cx:s,cy:n}=ha(i),r=ca(i);t=s-t,e=n-e;var o=ua(i,Math.atan2(-e,-t)*(360/aa)),l=Math.min(Fg(t,e),r);return{h:Math.round(o),s:Math.round(100/r*l)}}var Wg=["prefixCls","radius","pointer","className","style","width","height","oval","direction","angle","color","onChange"],Vg="conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",Yg="conic-gradient(red, magenta, blue, aqua, lime, yellow, red)",da=Pt.forwardRef((i,t)=>{var{prefixCls:e="w-color-wheel",radius:s=0,pointer:n,className:r,style:o,width:l=200,height:a=200,oval:h,direction:c="anticlockwise",angle:u=180,color:d,onChange:f}=i,g=Go(i,Wg),v=typeof d=="string"&&oa(d)?sa(d):d||{},b=d?ra(v):"",w=jg({width:l},v),x={top:"0",left:"0",color:b},S=(k,B)=>{var _=Og({width:l},l-k.x,a-k.y),I={h:_.h,s:_.s,v:v.v,a:v.a};f&&f(Lg(I))},y={zIndex:1,position:"absolute",transform:"translate("+w.x+"px, "+w.y+"px) "+(h==="x"||h==="X"?"scaleY(2)":h==="y"||h==="Y"?"scaleX(2)":"")},P=n&&typeof n=="function"?n(ve({prefixCls:e,style:y},x)):p.jsx(Dg,ve({prefixCls:e,style:y},x));return p.jsxs(la,ve({className:[e,r||""].filter(Boolean).join(" ")},g,{style:ve({position:"relative",width:l,transform:h==="x"||h==="X"?"scaleY(0.5)":h==="y"||h==="Y"?"scaleX(0.5)":"",height:a},o),ref:t,onMove:S,onDown:S,children:[P,p.jsx("div",{style:{position:"absolute",borderRadius:"50%",background:c==="anticlockwise"?Vg:Yg,transform:"rotateZ("+(u+90)+"deg)",inset:0}}),p.jsx("div",{style:{position:"absolute",borderRadius:"50%",background:"radial-gradient(circle closest-side, #fff, transparent)",inset:0}}),p.jsx("div",{style:{backgroundColor:"#000",borderRadius:"50%",position:"absolute",inset:0,opacity:typeof v.v=="number"?1-v.v/100:0}})]}))});da.displayName="Wheel";const Ag={color:C.red,width:1,labelBgColor:C.red,labelTextColor:C.white};class Hg{constructor(t,e){this.options=t,this.x=e}draw(t){const{width:e,color:s}=this.options;t.useBitmapCoordinateSpace(n=>{if(this.x===null)return;const r=n.context,o=Math.round(n.horizontalPixelRatio*this.x),l=Math.round(e*n.horizontalPixelRatio),a=o-(l>>1);r.fillStyle=s,r.fillRect(a,0,l,n.bitmapSize.height)})}}class Ug{constructor(t){Jt(this,"x",null);this.primitive=t}renderer(){return new Hg(this.primitive.options,this.x)}update(){const t=this.primitive.chart.timeScale();this.x=t.timeToCoordinate(this.primitive.time)}}class Gg{constructor(t){Jt(this,"x",null);this.primitive=t}update(){const t=this.primitive.chart.timeScale();this.x=t.timeToCoordinate(this.primitive.time)}coordinate(){return this.x??0}text(){return this.primitive.time.toString()}textColor(){return this.primitive.options.labelTextColor}backColor(){return this.primitive.options.labelBgColor}tickVisible(){return!1}}class Xg{constructor({chart:t,time:e,options:s}){Jt(this,"_paneViews");Jt(this,"_timeAxisViews");Jt(this,"time");Jt(this,"chart");Jt(this,"options");this.time=e,this.chart=t,this.options={...Ag,...s},this._paneViews=[new Ug(this)],this._timeAxisViews=[new Gg(this)]}updateAllViews(){this._paneViews.forEach(t=>t.update()),this._timeAxisViews.forEach(t=>t.update())}timeAxisViews(){return this._timeAxisViews}paneViews(){return this._paneViews}}const Qg=Lt(50),Kg=[{value:1,label:"1"},{value:3,label:"3"},{value:5,label:"5"}],Hn=xt(i=>({maxPrimitivesCount:3,setMaxPrimitivesCount:t=>i(()=>({maxPrimitivesCount:t}))})),pa=xt(i=>({primitives:[],pushPrimitive:t=>i(e=>{const{primitives:s}=e,n=Hn.getState().maxPrimitivesCount;return{primitives:s.slice(s.length>=n?1:0).concat(t)}}),shiftPrimitives:t=>i(e=>{const{primitives:s}=e,n=[...s],r=t;return r>=n.length?n.length=0:n.splice(0,r),{primitives:n}})}));Hn.subscribe(i=>{const{maxPrimitivesCount:t}=i,{primitives:e,shiftPrimitives:s}=pa.getState();if(e.length>t){const n=e.length-t;s(n)}});const Un=(i,t,e,s,n)=>{const{tooltipHeight:r,tooltipWidth:o,yOffset:l=10,xOffset:a=10}=n,h=i.point.x,c=i.point.y;let u,d;switch(s){case"center":u=h-o/2,d=c-r/2;break;case"anchor":default:u=h+a,d=c+l;break}return u+o>t&&(u=s==="center"?t-o-a:u-o-a*2),d+r>e&&(d=s==="center"?e-r-l:d-r-l*2),u<0&&(u=a),d<0&&(d=l),{x:u,y:d}},qg=Pt[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],Zg=i=>{const t=m.useRef(i);return m.useEffect(()=>{t.current=i}),t};function Jg(){}function tv(i,t,e={}){const s=iv(e.polyfill),n=Zg(t);return qg(()=>{let r=!1;const o=i&&"current"in i?i.current:i;if(!o)return Jg;function l(a,h){r||n.current(a,h)}return s.subscribe(o,l),()=>{r=!0,s.unsubscribe(o,l)}},[i,s,n]),s.observer}function ev(i){let t=!1,e=[];const s=new Map,n=new(i||window.ResizeObserver)((r,o)=>{e=e.concat(r);function l(){const a=new Set;for(let h=0;h<e.length;h++){if(a.has(e[h].target))continue;a.add(e[h].target);const c=s.get(e[h].target);c==null||c.forEach(u=>u(e[h],o))}e=[],t=!1}t||window.requestAnimationFrame(l),t=!0});return{observer:n,subscribe(r,o){var l;n.observe(r);const a=(l=s.get(r))!==null&&l!==void 0?l:[];a.push(o),s.set(r,a)},unsubscribe(r,o){var l;const a=(l=s.get(r))!==null&&l!==void 0?l:[];if(a.length===1){n.unobserve(r),s.delete(r);return}const h=a.indexOf(o);h!==-1&&a.splice(h,1),s.set(r,a)}}}let Zs;const iv=i=>Zs||(Zs=ev(i)),Gn=i=>{const[t,e]=m.useState();return m.useLayoutEffect(()=>{i.current&&e(i.current.getBoundingClientRect())},[i]),tv(i,s=>e(s.contentRect)),t},No=10,sv=({width:i,height:t,containerRef:e})=>{const s=Gn(e),n=s==null?void 0:s.width,r=s==null?void 0:s.height,[o,l]=m.useState({x:null,y:null}),[a,h]=m.useState(!1),[c,u]=m.useState(null),d=m.useCallback(()=>{h(!1),l({x:null,y:null})},[]),f=a&&c!==null&&o.x!==null&&o.y!==null,g=m.useCallback(v=>{if(!n||!r)return;const b=v.time;if(b===void 0||v.point===void 0)return;const w=Un(v,n,r,"center",{tooltipWidth:i,tooltipHeight:t,xOffset:No,yOffset:No});l(w),h(!0),u(b)},[n,r,i,t]);return{position:o,show:f,close:d,onChartClick:g,time:c}},nv=({time:i,options:t})=>{const e=m.useCallback(({chart:s})=>new Xg({chart:s,time:i,options:t}),[i,t]);return p.jsx(Gl,{render:e})},rv=m.memo(nv),ov=({show:i,x:t,y:e,width:s=200,height:n=200,onAddPrimitive:r,onClose:o,time:l})=>{const[a,h]=m.useState(C.pink),c=s/1.618;return p.jsx(vn,{in:i,timeout:{enter:300},children:p.jsxs(ji,{role:"tooltip","aria-live":"polite","aria-atomic":"true","aria-label":"Color Picker tooltip",sx:{width:s,height:n,position:"absolute",display:t!==null&&e!==null?"flex":"none",flexDirection:"column",justifyContent:"space-between",alignItems:"center",borderRadius:4,padding:2,boxShadow:2,backgroundColor:`${C.black}99`,zIndex:10,top:e,left:t},children:[p.jsxs(We,{alignItems:"center",children:[p.jsx(ut,{color:"primary",children:`Time: ${l}`}),p.jsx(ut,{color:"info",children:"Choose color:"})]}),p.jsx(da,{width:c,height:c,color:a,onChange:u=>{h(u.hex)}}),p.jsx(Jo,{onClick:()=>{r&&r({uid:crypto.randomUUID(),time:l,options:{color:a,width:2,labelBgColor:a,labelTextColor:ud(a)}}),o&&o()},variant:"outlined",children:"Add"})]})})},lv=()=>{const i=ai(),t=Oc(i.breakpoints.down("sm")),e=m.useRef(null),{maxPrimitivesCount:s,setMaxPrimitivesCount:n}=Hn(),{primitives:r,pushPrimitive:o}=pa(),l=t?175:200,a=l*1.618,{close:h,position:{x:c,y:u},show:d,onChartClick:f,time:g}=sv({width:l,height:a,containerRef:e});return p.jsxs(Wt,{title:"Primitives",subTitle:"Multiple primitives display on the chart",sampleConfig:Ot.Primitives,children:[p.jsx(Ps,{sx:{marginBottom:2},children:p.jsxs(il,{sx:{flexDirection:"row",alignItems:"center"},children:[p.jsx(jc,{htmlFor:"max-primitives-count",sx:{marginRight:1},children:"Max. primitives count:"}),p.jsx(Cn,{value:s,onChange:({target:v})=>n(v.value),size:"small",variant:"outlined",sx:{minWidth:120},inputProps:{"aria-label":"Max. primitives count"},id:"max-primitives-count",children:Kg.map(({value:v,label:b})=>p.jsx(ol,{value:v,children:b},b))})]})}),p.jsx(vc,{onClickAway:h,children:p.jsx(ji,{sx:{flexGrow:1,position:"relative"},role:"presentation",children:p.jsxs(Et,{options:Ut({crosshair:{mode:Di.Normal}}),containerProps:{style:{height:"100%"}},ref:e,onClick:f,children:[p.jsx(re,{data:Qg,options:{lineWidth:3,color:C.violet,priceLineVisible:!1},children:r.map(({uid:v,options:b,time:w})=>p.jsx(rv,{time:w,options:b},v))}),p.jsx(Bt,{onVisibleTimeRangeChange:h,children:p.jsx(It,{deps:[]})}),p.jsx(ov,{show:d,x:c,y:u,time:g,onClose:h,onAddPrimitive:o,width:l,height:a})]})})})]})},Ji=(i,t=50)=>{const e=Math.floor(Date.now()/1e3),s=86400;let n=e-t*s;switch(i){case"1w":n=e-t*7*s;break;case"1m":n=e-t*30*s;break;case"1y":n=e-t*365*s;break}return Lt(t).map((r,o)=>{let l=n+o*s;switch(i){case"1w":l=n+o*s*7;break;case"1m":l=n+o*s*30;break;case"1y":l=n+o*s*365;break}return{time:l*1e3,value:r.value}})},zi={"1d":{formatter:i=>ne(i).format("YYYY-MM-DD"),data:Ji("1d")},"1w":{formatter:i=>{const t=ne(i);return`${t.format("YYYY")}, ${t.week()}w`},data:Ji("1w")},"1m":{formatter:i=>ne(i).format("YYYY-MM"),data:Ji("1m")},"1y":{formatter:i=>ne(i).format("YYYY"),data:Ji("1y")}},fa=xt(i=>({range:"1d",setRange:t=>i({range:t})})),ma=xt(i=>({data:zi["1d"].data,setData:t=>i({data:t})}));fa.subscribe(i=>{const{range:t}=i;ma.getState().setData(zi[t].data)});const av={bottomColor:`${C.blue100}05`,lineColor:C.cyan,topColor:C.cyan,lineWidth:2},hv=()=>{const{range:i,setRange:t}=fa(),{data:e}=ma();return p.jsxs(Wt,{title:"Range switcher",subTitle:"Allows user to switch between different time ranges",sampleConfig:Ot.RangeSwitcher,children:[p.jsx(Wh,{variant:"outlined","aria-label":"Basic button group",color:"secondary",sx:{marginBottom:2},children:kn(zi).map(s=>p.jsx(Jo,{onClick:()=>t(s),variant:i===s?"contained":"outlined",children:s},s))}),p.jsxs(Et,{options:Ut({localization:{timeFormatter:zi[i].formatter},timeScale:{tickMarkFormatter:zi[i].formatter}}),containerProps:{style:{flexGrow:"1"}},children:[p.jsx(Ge,{options:av,data:e}),p.jsx(Bt,{children:p.jsx(It,{deps:[]})})]})]})},Xn=i=>t=>`${i} ${t.toFixed(2)}`,ga=Xn("Rs"),cv=Xn("AMD"),uv=Lt(50),dv=Vn(50,{upColor:C.green,downColor:C.red}),pv=[{value:"normal",label:"Normal"},{value:"logarithmic",label:"Logarithmic"},{value:"percentage",label:"Percentage"},{value:"inverted",label:"Inverted"}],fv=[{value:"left",label:"Left"},{value:"right",label:"Right"}],mv=[{value:1,label:"1"},{value:2,label:"2"}],gv=[{value:"LKR",label:"LKR"},{value:"AMD",label:"AMD"}],vv=i=>{switch(i){case"normal":return{mode:qe.Normal,invertScale:!1};case"logarithmic":return{mode:qe.Logarithmic,invertScale:!1};case"percentage":return{mode:qe.Percentage,invertScale:!1};case"inverted":return{mode:qe.Normal,invertScale:!0}}},bv=xt(i=>({priceScalePosition:"right",setPriceScalePosition:t=>i({priceScalePosition:t})})),wv=xt(i=>({priceScalesNumber:1,setPriceScalesNumber:t=>i({priceScalesNumber:t})})),Qn=xt(i=>({priceScaleType:"normal",setPriceScaleType:t=>i({priceScaleType:t})})),va=xt(i=>({priceScaleOptions:{visible:!0},setPriceScaleOptions:t=>i({priceScaleOptions:t})})),Kn=xt(i=>({currency:"LKR",setCurrency:t=>i({currency:t})})),qn=xt(i=>({priceFormatter:ga,setPriceFormatter:t=>i({priceFormatter:t})}));Qn.subscribe(i=>{const{priceScaleType:t}=i,{priceScaleOptions:e,setPriceScaleOptions:s}=va.getState();s({...e,...vv(t)})});Kn.subscribe(i=>{const{currency:t}=i,{setPriceFormatter:e}=qn.getState();e(t==="LKR"?ga:t==="AMD"?cv:void 0)});Qn.subscribe(i=>{const{priceScaleType:t}=i,{setPriceFormatter:e}=qn.getState();if(t!=="percentage"&&t!=="logarithmic"){const{currency:n}=Kn.getState();e(Xn(n))}else e(void 0)});const ts=({label:i,value:t,setValue:e,options:s,disabled:n})=>p.jsxs(il,{sx:{minWidth:120},children:[p.jsx(Tc,{children:i}),p.jsx(Cn,{inputProps:{"aria-label":i},value:t,onChange:({target:r})=>e(r.value),size:"small",disabled:n,variant:"outlined",children:s.map(({value:r,label:o})=>p.jsx(ol,{value:r,children:o},o))})]}),xv=()=>{const{priceScaleType:i,setPriceScaleType:t}=Qn(),{priceScalesNumber:e,setPriceScalesNumber:s}=wv(),{priceScalePosition:n,setPriceScalePosition:r}=bv(),{priceScaleOptions:o}=va(),{currency:l,setCurrency:a}=Kn(),{priceFormatter:h}=qn(),c=m.useMemo(()=>{const u=h?{localization:{priceFormatter:h}}:{};return Ut(e===1?{...u,...n==="left"?{leftPriceScale:{visible:!0},rightPriceScale:{visible:!1}}:{leftPriceScale:{visible:!1},rightPriceScale:{visible:!0}}}:{...u,leftPriceScale:{visible:!0},rightPriceScale:{visible:!0}})},[Ut,n,e,h]);return p.jsxs(Wt,{title:"Scales",subTitle:"Customize the scales of the chart",sampleConfig:Ot.Scales,children:[p.jsxs(Ps,{sx:{marginBottom:2},children:[p.jsx(ts,{label:"Price scales",value:e,setValue:u=>s(Number(u)),options:mv}),p.jsx(ts,{label:"Price scale type",value:i,setValue:t,options:pv}),p.jsx(ts,{label:"Price scale position",value:n,setValue:r,options:fv,disabled:e===2}),p.jsx(ts,{label:"Price currency",value:l,setValue:a,options:gv,disabled:i==="logarithmic"||i==="percentage"})]}),p.jsxs(Et,{options:c,containerProps:{style:{flexGrow:"1"}},children:[p.jsxs(Ne,{children:[p.jsx(Ge,{data:uv,options:{lineColor:C.red,topColor:C.red,bottomColor:`${C.red}33`,lineWidth:2,priceScaleId:n},children:p.jsx(an,{id:n,options:o})}),e===2&&p.jsx(Ge,{data:dv,options:{lineColor:C.violet,topColor:C.violet,bottomColor:`${C.violet}33`,lineWidth:2,priceScaleId:n==="left"?"right":"left"},children:p.jsx(an,{id:n==="left"?"right":"left",options:o})})]}),p.jsx(Bt,{children:p.jsx(It,{deps:[]})})]})]})},yv=i=>{var t,e;return i.time!==void 0&&i.point!==void 0&&((t=i.point)==null?void 0:t.x)>0&&((e=i.point)==null?void 0:e.y)>0},Sv=(i,t)=>{const e=m.useRef(null),s=Gn(i),n=s==null?void 0:s.width,r=s==null?void 0:s.height,o={show:!1,price:"-",position:{x:null,y:null}},[l,a]=m.useState(o);return{onCrosshairMove:m.useCallback(c=>{if(!e.current||!n||!r)return;if(!yv(c)){a(o);return}const u=e.current.api();if(!u){a(o);return}const d=c.seriesData.get(u);if(!d){a(o);return}const f=d.value!==void 0?d.value.toFixed(2):"-",g=c.time;a(v=>v.time!==g?{show:!0,price:f,time:g,position:Un(c,n,r,"anchor",t)}:v)},[n,r,t]),tooltipData:l,seriesRef:e}},Cv=(i,t,e)=>{const s=Gn(i),n=s==null?void 0:s.width,r=s==null?void 0:s.height,o={show:!1,data:null,position:{x:null,y:null}},[l,a]=m.useState(o);return{onCrosshairMove:m.useCallback(c=>{var g,v;if(!n||!r)return;if(!(c.time!==void 0&&c.point!==void 0&&((g=c.point)==null?void 0:g.x)>0&&((v=c.point)==null?void 0:v.y)>0)){a(o);return}const d=new Map;t.forEach((b,w)=>{var S;const x=(S=b.current)==null?void 0:S.api();if(x){const y=c.seriesData.get(x);y&&y.value!==void 0&&d.set(w,y.value!==void 0?y.value.toFixed(2):"-")}});const f=c.time;a(b=>b.time!==f?{show:!0,data:d,time:f,position:Un(c,n,r,"anchor",e)}:b)},[n,r,e]),tooltipData:l}},Mv=xt(i=>({activeTab:"Basic",setActiveTab:t=>i({activeTab:t})})),Pv=Lt(100),Fo=[{data:Lt(100),color:C.red},{data:Lt(100),color:C.green},{data:Lt(100),color:C.orange100},{data:Lt(100),color:C.pink}],ba=({show:i,x:t,y:e,children:s,ariaLabel:n,width:r,height:o,sx:l})=>p.jsx(vn,{in:i,timeout:{enter:400},children:p.jsx(ji,{role:"tooltip","aria-live":"polite","aria-atomic":"true","aria-label":n,sx:{width:`${r}px`,height:`${o}px`,position:"absolute",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",borderRadius:1,paddingBlock:2,paddingInline:3,boxShadow:2,zIndex:10,top:e,left:t,...l},children:s})}),kv=()=>{const i=m.useRef(null),t=120,e=60,s=m.useMemo(()=>({tooltipHeight:e,tooltipWidth:t,yOffset:12,xOffset:12}),[e,t]),{onCrosshairMove:n,tooltipData:{time:r,price:o,position:l,show:a},seriesRef:h}=Sv(i,s);return p.jsxs(Et,{ref:i,options:Ut({crosshair:{vertLine:{style:0,color:C.blue},horzLine:{style:0,color:C.blue}}}),containerProps:{style:{flexGrow:"1",position:"relative"}},onCrosshairMove:n,children:[p.jsx(re,{ref:h,data:Pv,options:{color:C.orange,lineWidth:2}}),p.jsxs(ba,{show:a,x:l.x,y:l.y,ariaLabel:`Tooltip with chart data for time ${r} is ${o}`,width:t,height:e,sx:{color:C.white,backgroundColor:C.violet},children:[p.jsx(ut,{fontSize:18,fontWeight:"bold","aria-hidden":!0,children:o}),p.jsx(ut,{variant:"caption","aria-hidden":!0,children:r})]}),p.jsx(Bt,{children:p.jsx(It,{deps:[]})})]})},Rv=()=>{const i=[m.useRef(null),m.useRef(null),m.useRef(null),m.useRef(null)],t=m.useRef(null),e=190,s=150,n=m.useMemo(()=>({tooltipHeight:s,tooltipWidth:e,yOffset:12,xOffset:12}),[s,e]),{onCrosshairMove:r,tooltipData:{time:o,data:l,position:a,show:h}}=Cv(t,i,n);return p.jsxs(Et,{ref:t,options:Ut({crosshair:{vertLine:{style:0,color:C.blue},horzLine:{visible:!1}}}),containerProps:{style:{flexGrow:"1",position:"relative"}},onCrosshairMove:r,children:[Fo.map(({data:c,color:u},d)=>p.jsx(re,{ref:i[d],data:c,options:{color:u,lineWidth:2,priceLineVisible:!1}},d)),p.jsxs(ba,{show:h,x:a.x,y:a.y,ariaLabel:`Tooltip with chart data for time ${o} is ${l}`,width:e,height:s,sx:{color:C.blue200,backgroundColor:C.white,alignItems:"flex-start"},children:[Fo.map(({color:c},u)=>p.jsxs(We,{direction:"row",gap:"1ch",alignItems:"center",children:[p.jsx(od,{sx:{color:c,fontSize:"12px"}}),p.jsx(ut,{variant:"body1",fontWeight:"bold","aria-hidden":!0,children:`Asset ${String.fromCharCode(65+u)}: ${(l==null?void 0:l.get(u))??"-"}`})]},u)),p.jsx(ut,{width:"100%",textAlign:"center",variant:"caption","aria-hidden":!0,marginTop:1,children:o})]}),p.jsx(Bt,{children:p.jsx(It,{deps:[]})})]})},jo={Basic:kv,"Multiple series":Rv},_v=()=>{const{activeTab:i,setActiveTab:t}=Mv(),e=n=>({id:`tooltips-tab-${n}`,"aria-controls":`tooltips-tabpanel-${n}`}),s=jo[i];return p.jsxs(Wt,{title:"Tooltips",subTitle:"Different tooltips on the chart",sampleConfig:Ot.Tooltips,children:[p.jsx(Pn,{value:i,onChange:(n,r)=>t(r),"aria-label":"tooltips tabs",sx:{marginBottom:2},allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",children:kn(jo).map(n=>p.jsx(Mn,{value:n,label:n,...e(n)},n))}),p.jsx(s,{})]})},$v=xt(i=>({visibleWatermark:"text",setWatermarkVisible:t=>i({visibleWatermark:t})})),Ev=`
<svg width="800" height="800" viewBox="0 0 800 800" xmlns="http://www.w3.org/2000/svg">
  <polygon points="75 40.883 75 156.368 197.75 156.368 197.75 359.117 327.75 359.117 327.75 40.883 75 40.883"
           fill="none" stroke="${C.blue}" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"/>
  <polygon points="436.7 359.117 571.1 40.883 725 40.883 590.6 359.117 436.7 359.117"
           fill="none" stroke="${C.blue}" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"/>
  <circle cx="430.679" cy="93.803" r="65.168"
          fill="none" stroke="${C.blue}" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`,Bv=i=>{const t=ai();return{text:()=>p.jsx(Ms,{lines:[{text:"Your chart name",color:`${C.blue}50`,fontSize:24,fontFamily:t.typography.fontFamily},{text:"Some other text",color:`${C.pink}50`,fontSize:16,fontFamily:t.typography.fontFamily,fontStyle:"bold"}],horzAlign:"center",vertAlign:"top"}),image:()=>p.jsx(Ul,{src:hd(Ev),alpha:.5,padding:20})}[i]},zv=Lt(100),Lv=()=>{const{visibleWatermark:i,setWatermarkVisible:t}=$v(),e=Bv(i),s=n=>({id:`watermark-tab-${n}`,"aria-controls":`watermark-tabpanel-${n}`});return p.jsxs(Wt,{title:"Watermark",subTitle:"Text and image watermarks on the chart",sampleConfig:Ot.Watermark,children:[p.jsx(Pn,{value:i,onChange:(n,r)=>t(r),"aria-label":"watermark tabs",sx:{marginBottom:2},children:["text","image"].map(n=>p.jsx(Mn,{value:n,label:n,...s(n)},n))}),p.jsxs(Et,{options:ci,containerProps:{style:{flexGrow:"1"}},children:[p.jsxs(Ne,{children:[p.jsx(Ge,{data:zv,options:{lineWidth:1,lineColor:C.pink,topColor:C.pink,bottomColor:C.blue200}}),p.jsx(e,{})]}),p.jsx(Bt,{children:p.jsx(It,{deps:[]})})]})]})},Tv=({children:i,component:t,...e})=>{const s=m.Children.count(i),n=s%2===1;return p.jsx(ur,{container:!0,spacing:{xs:2,sm:4},justifyContent:n?"center":"stretch",component:t??"div",...e,children:m.Children.map(i,(r,o)=>p.jsx(ur,{size:{xs:12,lg:n&&o===s-1?8:6},children:r},o))})},Xv=()=>p.jsxs(Tv,{component:"section","aria-label":"Examples of library usage",children:[p.jsx(Om,{}),p.jsx(og,{}),p.jsx(hv,{}),p.jsx(Sg,{}),p.jsx(Lv,{}),p.jsx(mg,{}),p.jsx(Jm,{}),p.jsx(xv,{}),p.jsx(_v,{}),p.jsx(bg,{}),p.jsx(hg,{}),p.jsx(Mg,{}),p.jsx(lv,{}),p.jsx(Nm,{})]});export{Xv as default};
//# sourceMappingURL=Contents-DshXoDqu.js.map
