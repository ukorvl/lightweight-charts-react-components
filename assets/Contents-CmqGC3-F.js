var Da=Object.defineProperty;var Fa=(i,t,e)=>t in i?Da(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var ee=(i,t,e)=>Fa(i,typeof t!="symbol"?t+"":t,e);import{u as Oa,g as ja,r as m,R as Wa,a as We,o as Dt,s as Va,b as Aa,e as Ya,j as p,c as Y,d as Ha,f as tt,h as rt,i as Ua,k as et,l as lt,m as Ce,n as D,p as ft,q as sr,t as ht,v as Me,w as se,B as Ve,x as E,y as Wt,z as De,A as Ga,C as qo,T as Xa,D as ps,E as nr,F as Ka,G as ot,H as Qa,I as Zo,J as Jt,K as qa,L as mt,M as rr,N as nn,O as Za,P as Ja,Q as xn,U as tc,V as yn,W as Sn,X as Ii,Y as or,Z as ec,_ as ic,$ as sc,a0 as M,a1 as Jo,S as Ae,a2 as nc,a3 as rc,a4 as oc,a5 as kt,a6 as le,a7 as Oi,a8 as xe,a9 as tl}from"./index-DD9xwimk.js";function lc(i,t,e,s,n){const[r,o]=m.useState(()=>n&&e?e(i).matches:s?s(i).matches:t);return We(()=>{if(!e)return;const l=e(i),a=()=>{o(l.matches)};return a(),l.addEventListener("change",a),()=>{l.removeEventListener("change",a)}},[i,e]),r}const ac={...Wa},el=ac.useSyncExternalStore;function cc(i,t,e,s,n){const r=m.useCallback(()=>t,[t]),o=m.useMemo(()=>{if(n&&e)return()=>e(i).matches;if(s!==null){const{matches:h}=s(i);return()=>h}return r},[r,i,s,n,e]),[l,a]=m.useMemo(()=>{if(e===null)return[r,()=>()=>{}];const h=e(i);return[()=>h.matches,u=>(h.addEventListener("change",u),()=>{h.removeEventListener("change",u)})]},[r,e,i]);return el(a,l,o)}function il(i={}){const{themeId:t}=i;return function(s,n={}){let r=Oa();r&&t&&(r=r[t]||r);const o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:l=!1,matchMedia:a=o?window.matchMedia:null,ssrMatchMedia:c=null,noSsr:h=!1}=ja({name:"MuiUseMediaQuery",props:n,theme:r});let u=typeof s=="function"?s(r):s;return u=u.replace(/^@media( ?)/m,""),u.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(el!==void 0?cc:lc)(u,l,a,c,h)}}il();function lr(...i){return i.reduce((t,e)=>e==null?t:function(...n){t.apply(this,n),e.apply(this,n)},()=>{})}function ji(i,t=166){let e;function s(...n){const r=()=>{i.apply(this,n)};clearTimeout(e),e=setTimeout(r,t)}return s.clear=()=>{clearTimeout(e)},s}function ss(i,t){var e,s,n;return m.isValidElement(i)&&t.indexOf(i.type.muiName??((n=(s=(e=i.type)==null?void 0:e._payload)==null?void 0:s.value)==null?void 0:n.muiName))!==-1}function ie(i){return Dt(i).defaultView||window}function sl(i=window){const t=i.document.documentElement.clientWidth;return i.innerWidth-t}function hc(i){return m.Children.toArray(i).filter(t=>m.isValidElement(t))}const uc=(i,t)=>i.filter(e=>t.includes(e)),hi=(i,t,e)=>{const s=i.keys[0];Array.isArray(t)?t.forEach((n,r)=>{e((o,l)=>{r<=i.keys.length-1&&(r===0?Object.assign(o,l):o[i.up(i.keys[r])]=l)},n)}):t&&typeof t=="object"?(Object.keys(t).length>i.keys.length?i.keys:uc(i.keys,Object.keys(t))).forEach(r=>{if(i.keys.includes(r)){const o=t[r];o!==void 0&&e((l,a)=>{s===r?Object.assign(l,a):l[i.up(r)]=a},o)}}):(typeof t=="number"||typeof t=="string")&&e((n,r)=>{Object.assign(n,r)},t)};function os(i){return`--Grid-${i}Spacing`}function fs(i){return`--Grid-parent-${i}Spacing`}const ar="--Grid-columns",ei="--Grid-parent-columns",dc=({theme:i,ownerState:t})=>{const e={};return hi(i.breakpoints,t.size,(s,n)=>{let r={};n==="grow"&&(r={flexBasis:0,flexGrow:1,maxWidth:"100%"}),n==="auto"&&(r={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof n=="number"&&(r={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${n} / var(${ei}) - (var(${ei}) - ${n}) * (var(${fs("column")}) / var(${ei})))`}),s(e,r)}),e},pc=({theme:i,ownerState:t})=>{const e={};return hi(i.breakpoints,t.offset,(s,n)=>{let r={};n==="auto"&&(r={marginLeft:"auto"}),typeof n=="number"&&(r={marginLeft:n===0?"0px":`calc(100% * ${n} / var(${ei}) + var(${fs("column")}) * ${n} / var(${ei}))`}),s(e,r)}),e},fc=({theme:i,ownerState:t})=>{if(!t.container)return{};const e={[ar]:12};return hi(i.breakpoints,t.columns,(s,n)=>{const r=n??12;s(e,{[ar]:r,"> *":{[ei]:r}})}),e},mc=({theme:i,ownerState:t})=>{if(!t.container)return{};const e={};return hi(i.breakpoints,t.rowSpacing,(s,n)=>{var o;const r=typeof n=="string"?n:(o=i.spacing)==null?void 0:o.call(i,n);s(e,{[os("row")]:r,"> *":{[fs("row")]:r}})}),e},gc=({theme:i,ownerState:t})=>{if(!t.container)return{};const e={};return hi(i.breakpoints,t.columnSpacing,(s,n)=>{var o;const r=typeof n=="string"?n:(o=i.spacing)==null?void 0:o.call(i,n);s(e,{[os("column")]:r,"> *":{[fs("column")]:r}})}),e},vc=({theme:i,ownerState:t})=>{if(!t.container)return{};const e={};return hi(i.breakpoints,t.direction,(s,n)=>{s(e,{flexDirection:n})}),e},bc=({ownerState:i})=>({minWidth:0,boxSizing:"border-box",...i.container&&{display:"flex",flexWrap:"wrap",...i.wrap&&i.wrap!=="wrap"&&{flexWrap:i.wrap},gap:`var(${os("row")}) var(${os("column")})`}}),wc=i=>{const t=[];return Object.entries(i).forEach(([e,s])=>{s!==!1&&s!==void 0&&t.push(`grid-${e}-${String(s)}`)}),t},xc=(i,t="xs")=>{function e(s){return s===void 0?!1:typeof s=="string"&&!Number.isNaN(Number(s))||typeof s=="number"&&s>0}if(e(i))return[`spacing-${t}-${String(i)}`];if(typeof i=="object"&&!Array.isArray(i)){const s=[];return Object.entries(i).forEach(([n,r])=>{e(r)&&s.push(`spacing-${n}-${String(r)}`)}),s}return[]},yc=i=>i===void 0?[]:typeof i=="object"?Object.entries(i).map(([t,e])=>`direction-${t}-${e}`):[`direction-xs-${String(i)}`];function Sc(i,t){i.item!==void 0&&delete i.item,i.zeroMinWidth!==void 0&&delete i.zeroMinWidth,t.keys.forEach(e=>{i[e]!==void 0&&delete i[e]})}const Cc=Ua(),Mc=Va("div",{name:"MuiGrid",slot:"Root",overridesResolver:(i,t)=>t.root});function Pc(i){return Ha({props:i,name:"MuiGrid",defaultTheme:Cc})}function kc(i={}){const{createStyledComponent:t=Mc,useThemeProps:e=Pc,useTheme:s=Aa,componentName:n="MuiGrid"}=i,r=(c,h)=>{const{container:u,direction:d,spacing:f,wrap:g,size:v}=c,b={root:["root",u&&"container",g!=="wrap"&&`wrap-xs-${String(g)}`,...yc(d),...wc(v),...u?xc(f,h.breakpoints.keys[0]):[]]};return tt(b,w=>rt(n,w),{})};function o(c,h,u=()=>!0){const d={};return c===null||(Array.isArray(c)?c.forEach((f,g)=>{f!==null&&u(f)&&h.keys[g]&&(d[h.keys[g]]=f)}):typeof c=="object"?Object.keys(c).forEach(f=>{const g=c[f];g!=null&&u(g)&&(d[f]=g)}):d[h.keys[0]]=c),d}const l=t(fc,gc,mc,dc,vc,bc,pc),a=m.forwardRef(function(h,u){const d=s(),f=e(h),g=Ya(f);Sc(g,d.breakpoints);const{className:v,children:b,columns:w=12,container:x=!1,component:y="div",direction:S="row",wrap:C="wrap",size:P={},offset:_={},spacing:R=0,rowSpacing:I=R,columnSpacing:F=R,unstable_level:j=0,...L}=g,N=o(P,d.breakpoints,Z=>Z!==!1),T=o(_,d.breakpoints),z=h.columns??(j?void 0:w),B=h.spacing??(j?void 0:R),A=h.rowSpacing??h.spacing??(j?void 0:I),X=h.columnSpacing??h.spacing??(j?void 0:F),$={...g,level:j,columns:z,container:x,direction:S,wrap:C,spacing:B,rowSpacing:A,columnSpacing:X,size:N,offset:T},G=r($,d);return p.jsx(l,{ref:u,as:y,ownerState:$,className:Y(G.root,v),...L,children:m.Children.map(b,Z=>{var $t;return m.isValidElement(Z)&&ss(Z,["Grid"])&&x&&Z.props.container?m.cloneElement(Z,{unstable_level:(($t=Z.props)==null?void 0:$t.unstable_level)??j+1}):Z})})});return a.muiName="Grid",a}function nl(i,t){if(!i)return t;if(typeof i=="function"||typeof t=="function")return n=>{const r=typeof t=="function"?t(n):t,o=typeof i=="function"?i({...n,...r}):i,l=Y(n==null?void 0:n.className,r==null?void 0:r.className,o==null?void 0:o.className);return{...r,...o,...!!l&&{className:l},...(r==null?void 0:r.style)&&(o==null?void 0:o.style)&&{style:{...r.style,...o.style}},...(r==null?void 0:r.sx)&&(o==null?void 0:o.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}};const e=t,s=Y(e==null?void 0:e.className,i==null?void 0:i.className);return{...t,...i,...!!s&&{className:s},...(e==null?void 0:e.style)&&(i==null?void 0:i.style)&&{style:{...e.style,...i.style}},...(e==null?void 0:e.sx)&&(i==null?void 0:i.sx)&&{sx:[...Array.isArray(e.sx)?e.sx:[e.sx],...Array.isArray(i.sx)?i.sx:[i.sx]]}}}function Rc(i){return rt("MuiPaper",i)}et("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _c=i=>{const{square:t,elevation:e,variant:s,classes:n}=i,r={root:["root",s,!t&&"rounded",s==="elevation"&&`elevation${e}`]};return tt(r,Rc,n)},Ec=D("div",{name:"MuiPaper",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[e.variant],!e.square&&t.rounded,e.variant==="elevation"&&t[`elevation${e.elevation}`]]}})(ht(({theme:i})=>({backgroundColor:(i.vars||i).palette.background.paper,color:(i.vars||i).palette.text.primary,transition:i.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:i.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(i.vars||i).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),rl=m.forwardRef(function(t,e){var f;const s=lt({props:t,name:"MuiPaper"}),n=Ce(),{className:r,component:o="div",elevation:l=1,square:a=!1,variant:c="elevation",...h}=s,u={...s,component:o,elevation:l,square:a,variant:c},d=_c(u);return p.jsx(Ec,{as:o,ownerState:u,className:Y(d.root,r),ref:e,...h,style:{...c==="elevation"&&{"--Paper-shadow":(n.vars||n).shadows[l],...n.vars&&{"--Paper-overlay":(f=n.vars.overlays)==null?void 0:f[l]},...!n.vars&&n.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${ft("#fff",sr(l))}, ${ft("#fff",sr(l))})`}},...h.style}})}),$c=Me(p.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Tc(i){return rt("MuiChip",i)}const K=et("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Bc=i=>{const{classes:t,disabled:e,size:s,color:n,iconColor:r,onDelete:o,clickable:l,variant:a}=i,c={root:["root",a,e&&"disabled",`size${E(s)}`,`color${E(n)}`,l&&"clickable",l&&`clickableColor${E(n)}`,o&&"deletable",o&&`deletableColor${E(n)}`,`${a}${E(n)}`],label:["label",`label${E(s)}`],avatar:["avatar",`avatar${E(s)}`,`avatarColor${E(n)}`],icon:["icon",`icon${E(s)}`,`iconColor${E(r)}`],deleteIcon:["deleteIcon",`deleteIcon${E(s)}`,`deleteIconColor${E(n)}`,`deleteIcon${E(a)}Color${E(n)}`]};return tt(c,Tc,t)},zc=D("div",{name:"MuiChip",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i,{color:s,iconColor:n,clickable:r,onDelete:o,size:l,variant:a}=e;return[{[`& .${K.avatar}`]:t.avatar},{[`& .${K.avatar}`]:t[`avatar${E(l)}`]},{[`& .${K.avatar}`]:t[`avatarColor${E(s)}`]},{[`& .${K.icon}`]:t.icon},{[`& .${K.icon}`]:t[`icon${E(l)}`]},{[`& .${K.icon}`]:t[`iconColor${E(n)}`]},{[`& .${K.deleteIcon}`]:t.deleteIcon},{[`& .${K.deleteIcon}`]:t[`deleteIcon${E(l)}`]},{[`& .${K.deleteIcon}`]:t[`deleteIconColor${E(s)}`]},{[`& .${K.deleteIcon}`]:t[`deleteIcon${E(a)}Color${E(s)}`]},t.root,t[`size${E(l)}`],t[`color${E(s)}`],r&&t.clickable,r&&s!=="default"&&t[`clickableColor${E(s)})`],o&&t.deletable,o&&s!=="default"&&t[`deletableColor${E(s)}`],t[a],t[`${a}${E(s)}`]]}})(ht(({theme:i})=>{const t=i.palette.mode==="light"?i.palette.grey[700]:i.palette.grey[300];return{maxWidth:"100%",fontFamily:i.typography.fontFamily,fontSize:i.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(i.vars||i).palette.text.primary,backgroundColor:(i.vars||i).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:i.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${K.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${K.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:i.vars?i.vars.palette.Chip.defaultAvatarColor:t,fontSize:i.typography.pxToRem(12)},[`& .${K.avatarColorPrimary}`]:{color:(i.vars||i).palette.primary.contrastText,backgroundColor:(i.vars||i).palette.primary.dark},[`& .${K.avatarColorSecondary}`]:{color:(i.vars||i).palette.secondary.contrastText,backgroundColor:(i.vars||i).palette.secondary.dark},[`& .${K.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:i.typography.pxToRem(10)},[`& .${K.icon}`]:{marginLeft:5,marginRight:-6},[`& .${K.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / 0.26)`:ft(i.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / 0.4)`:ft(i.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${K.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${K.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(i.palette).filter(Wt(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(i.vars||i).palette[e].main,color:(i.vars||i).palette[e].contrastText,[`& .${K.deleteIcon}`]:{color:i.vars?`rgba(${i.vars.palette[e].contrastTextChannel} / 0.7)`:ft(i.palette[e].contrastText,.7),"&:hover, &:active":{color:(i.vars||i).palette[e].contrastText}}}})),{props:e=>e.iconColor===e.color,style:{[`& .${K.icon}`]:{color:i.vars?i.vars.palette.Chip.defaultIconColor:t}}},{props:e=>e.iconColor===e.color&&e.color!=="default",style:{[`& .${K.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${K.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.action.selectedChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:ft(i.palette.action.selected,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)}}},...Object.entries(i.palette).filter(Wt(["dark"])).map(([e])=>({props:{color:e,onDelete:!0},style:{[`&.${K.focusVisible}`]:{background:(i.vars||i).palette[e].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.action.selectedChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:ft(i.palette.action.selected,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity)},[`&.${K.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.action.selectedChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:ft(i.palette.action.selected,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)},"&:active":{boxShadow:(i.vars||i).shadows[1]}}},...Object.entries(i.palette).filter(Wt(["dark"])).map(([e])=>({props:{color:e,clickable:!0},style:{[`&:hover, &.${K.focusVisible}`]:{backgroundColor:(i.vars||i).palette[e].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:i.vars?`1px solid ${i.vars.palette.Chip.defaultBorder}`:`1px solid ${i.palette.mode==="light"?i.palette.grey[400]:i.palette.grey[700]}`,[`&.${K.clickable}:hover`]:{backgroundColor:(i.vars||i).palette.action.hover},[`&.${K.focusVisible}`]:{backgroundColor:(i.vars||i).palette.action.focus},[`& .${K.avatar}`]:{marginLeft:4},[`& .${K.avatarSmall}`]:{marginLeft:2},[`& .${K.icon}`]:{marginLeft:4},[`& .${K.iconSmall}`]:{marginLeft:2},[`& .${K.deleteIcon}`]:{marginRight:5},[`& .${K.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(i.palette).filter(Wt()).map(([e])=>({props:{variant:"outlined",color:e},style:{color:(i.vars||i).palette[e].main,border:`1px solid ${i.vars?`rgba(${i.vars.palette[e].mainChannel} / 0.7)`:ft(i.palette[e].main,.7)}`,[`&.${K.clickable}:hover`]:{backgroundColor:i.vars?`rgba(${i.vars.palette[e].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:ft(i.palette[e].main,i.palette.action.hoverOpacity)},[`&.${K.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette[e].mainChannel} / ${i.vars.palette.action.focusOpacity})`:ft(i.palette[e].main,i.palette.action.focusOpacity)},[`& .${K.deleteIcon}`]:{color:i.vars?`rgba(${i.vars.palette[e].mainChannel} / 0.7)`:ft(i.palette[e].main,.7),"&:hover, &:active":{color:(i.vars||i).palette[e].main}}}}))]}})),Ic=D("span",{name:"MuiChip",slot:"Label",overridesResolver:(i,t)=>{const{ownerState:e}=i,{size:s}=e;return[t.label,t[`label${E(s)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function cr(i){return i.key==="Backspace"||i.key==="Delete"}const Lc=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiChip"}),{avatar:n,className:r,clickable:o,color:l="default",component:a,deleteIcon:c,disabled:h=!1,icon:u,label:d,onClick:f,onDelete:g,onKeyDown:v,onKeyUp:b,size:w="medium",variant:x="filled",tabIndex:y,skipFocusWhenDisabled:S=!1,...C}=s,P=m.useRef(null),_=se(P,e),R=$=>{$.stopPropagation(),g&&g($)},I=$=>{$.currentTarget===$.target&&cr($)&&$.preventDefault(),v&&v($)},F=$=>{$.currentTarget===$.target&&g&&cr($)&&g($),b&&b($)},j=o!==!1&&f?!0:o,L=j||g?Ve:a||"div",N={...s,component:L,disabled:h,size:w,color:l,iconColor:m.isValidElement(u)&&u.props.color||l,onDelete:!!g,clickable:j,variant:x},T=Bc(N),z=L===Ve?{component:a||"div",focusVisibleClassName:T.focusVisible,...g&&{disableRipple:!0}}:{};let B=null;g&&(B=c&&m.isValidElement(c)?m.cloneElement(c,{className:Y(c.props.className,T.deleteIcon),onClick:R}):p.jsx($c,{className:Y(T.deleteIcon),onClick:R}));let A=null;n&&m.isValidElement(n)&&(A=m.cloneElement(n,{className:Y(T.avatar,n.props.className)}));let X=null;return u&&m.isValidElement(u)&&(X=m.cloneElement(u,{className:Y(T.icon,u.props.className)})),p.jsxs(zc,{as:L,className:Y(T.root,r),disabled:j&&h?!0:void 0,onClick:f,onKeyDown:I,onKeyUp:F,ref:_,tabIndex:S&&h?-1:y,ownerState:N,...z,...C,children:[A||X,p.jsx(Ic,{className:Y(T.label),ownerState:N,children:d}),B]})});function Ai(i){return parseInt(i,10)||0}const Nc={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Dc(i){for(const t in i)return!1;return!0}function hr(i){return Dc(i)||i.outerHeightStyle===0&&!i.overflowing}const Fc=m.forwardRef(function(t,e){const{onChange:s,maxRows:n,minRows:r=1,style:o,value:l,...a}=t,{current:c}=m.useRef(l!=null),h=m.useRef(null),u=se(e,h),d=m.useRef(null),f=m.useRef(null),g=m.useCallback(()=>{const y=h.current,S=f.current;if(!y||!S)return;const P=ie(y).getComputedStyle(y);if(P.width==="0px")return{outerHeightStyle:0,overflowing:!1};S.style.width=P.width,S.value=y.value||t.placeholder||"x",S.value.slice(-1)===`
`&&(S.value+=" ");const _=P.boxSizing,R=Ai(P.paddingBottom)+Ai(P.paddingTop),I=Ai(P.borderBottomWidth)+Ai(P.borderTopWidth),F=S.scrollHeight;S.value="x";const j=S.scrollHeight;let L=F;r&&(L=Math.max(Number(r)*j,L)),n&&(L=Math.min(Number(n)*j,L)),L=Math.max(L,j);const N=L+(_==="border-box"?R+I:0),T=Math.abs(L-F)<=1;return{outerHeightStyle:N,overflowing:T}},[n,r,t.placeholder]),v=De(()=>{const y=h.current,S=g();if(!y||!S||hr(S))return!1;const C=S.outerHeightStyle;return d.current!=null&&d.current!==C}),b=m.useCallback(()=>{const y=h.current,S=g();if(!y||!S||hr(S))return;const C=S.outerHeightStyle;d.current!==C&&(d.current=C,y.style.height=`${C}px`),y.style.overflow=S.overflowing?"hidden":""},[g]),w=m.useRef(-1);We(()=>{const y=ji(b),S=h==null?void 0:h.current;if(!S)return;const C=ie(S);C.addEventListener("resize",y);let P;return typeof ResizeObserver<"u"&&(P=new ResizeObserver(()=>{v()&&(P.unobserve(S),cancelAnimationFrame(w.current),b(),w.current=requestAnimationFrame(()=>{P.observe(S)}))}),P.observe(S)),()=>{y.clear(),cancelAnimationFrame(w.current),C.removeEventListener("resize",y),P&&P.disconnect()}},[g,b,v]),We(()=>{b()});const x=y=>{c||b(),s&&s(y)};return p.jsxs(m.Fragment,{children:[p.jsx("textarea",{value:l,onChange:x,ref:u,rows:r,style:o,...a}),p.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:f,tabIndex:-1,style:{...Nc.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function rn(i){return typeof i=="string"}function Qe({props:i,states:t,muiFormControl:e}){return t.reduce((s,n)=>(s[n]=i[n],e&&typeof i[n]>"u"&&(s[n]=e[n]),s),{})}const Cn=m.createContext(void 0);function Pe(){return m.useContext(Cn)}function ur(i){return i!=null&&!(Array.isArray(i)&&i.length===0)}function ls(i,t=!1){return i&&(ur(i.value)&&i.value!==""||t&&ur(i.defaultValue)&&i.defaultValue!=="")}function Oc(i){return i.startAdornment}function jc(i){return rt("MuiInputBase",i)}const ri=et("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var dr;const ms=(i,t)=>{const{ownerState:e}=i;return[t.root,e.formControl&&t.formControl,e.startAdornment&&t.adornedStart,e.endAdornment&&t.adornedEnd,e.error&&t.error,e.size==="small"&&t.sizeSmall,e.multiline&&t.multiline,e.color&&t[`color${E(e.color)}`],e.fullWidth&&t.fullWidth,e.hiddenLabel&&t.hiddenLabel]},gs=(i,t)=>{const{ownerState:e}=i;return[t.input,e.size==="small"&&t.inputSizeSmall,e.multiline&&t.inputMultiline,e.type==="search"&&t.inputTypeSearch,e.startAdornment&&t.inputAdornedStart,e.endAdornment&&t.inputAdornedEnd,e.hiddenLabel&&t.inputHiddenLabel]},Wc=i=>{const{classes:t,color:e,disabled:s,error:n,endAdornment:r,focused:o,formControl:l,fullWidth:a,hiddenLabel:c,multiline:h,readOnly:u,size:d,startAdornment:f,type:g}=i,v={root:["root",`color${E(e)}`,s&&"disabled",n&&"error",a&&"fullWidth",o&&"focused",l&&"formControl",d&&d!=="medium"&&`size${E(d)}`,h&&"multiline",f&&"adornedStart",r&&"adornedEnd",c&&"hiddenLabel",u&&"readOnly"],input:["input",s&&"disabled",g==="search"&&"inputTypeSearch",h&&"inputMultiline",d==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",f&&"inputAdornedStart",r&&"inputAdornedEnd",u&&"readOnly"]};return tt(v,jc,t)},vs=D("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ms})(ht(({theme:i})=>({...i.typography.body1,color:(i.vars||i).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ri.disabled}`]:{color:(i.vars||i).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:e})=>t.multiline&&e==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),bs=D("input",{name:"MuiInputBase",slot:"Input",overridesResolver:gs})(ht(({theme:i})=>{const t=i.palette.mode==="light",e={color:"currentColor",...i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:i.transitions.create("opacity",{duration:i.transitions.duration.shorter})},s={opacity:"0 !important"},n=i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":e,"&::-moz-placeholder":e,"&::-ms-input-placeholder":e,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ri.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":n,"&:focus::-moz-placeholder":n,"&:focus::-ms-input-placeholder":n},[`&.${ri.disabled}`]:{opacity:1,WebkitTextFillColor:(i.vars||i).palette.text.disabled},variants:[{props:({ownerState:r})=>!r.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:r})=>r.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),pr=Ga({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Mn=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiInputBase"}),{"aria-describedby":n,autoComplete:r,autoFocus:o,className:l,color:a,components:c={},componentsProps:h={},defaultValue:u,disabled:d,disableInjectingGlobalStyles:f,endAdornment:g,error:v,fullWidth:b=!1,id:w,inputComponent:x="input",inputProps:y={},inputRef:S,margin:C,maxRows:P,minRows:_,multiline:R=!1,name:I,onBlur:F,onChange:j,onClick:L,onFocus:N,onKeyDown:T,onKeyUp:z,placeholder:B,readOnly:A,renderSuffix:X,rows:$,size:G,slotProps:Z={},slots:$t={},startAdornment:St,type:at="text",value:U,...ct}=s,gt=y.value!=null?y.value:U,{current:Kt}=m.useRef(gt!=null),It=m.useRef(),Q=m.useCallback(ut=>{},[]),it=se(It,S,y.ref,Q),[q,Tt]=m.useState(!1),st=Pe(),vt=Qe({props:s,muiFormControl:st,states:["color","disabled","error","hiddenLabel","size","required","filled"]});vt.focused=st?st.focused:q,m.useEffect(()=>{!st&&d&&q&&(Tt(!1),F&&F())},[st,d,q,F]);const Qt=st&&st.onFilled,Mt=st&&st.onEmpty,Pt=m.useCallback(ut=>{ls(ut)?Qt&&Qt():Mt&&Mt()},[Qt,Mt]);We(()=>{Kt&&Pt({value:gt})},[gt,Pt,Kt]);const Ht=ut=>{N&&N(ut),y.onFocus&&y.onFocus(ut),st&&st.onFocus?st.onFocus(ut):Tt(!0)},Ut=ut=>{F&&F(ut),y.onBlur&&y.onBlur(ut),st&&st.onBlur?st.onBlur(ut):Tt(!1)},wt=(ut,...pe)=>{if(!Kt){const Te=ut.target||It.current;if(Te==null)throw new Error(qo(1));Pt({value:Te.value})}y.onChange&&y.onChange(ut,...pe),j&&j(ut,...pe)};m.useEffect(()=>{Pt(It.current)},[]);const qt=ut=>{It.current&&ut.currentTarget===ut.target&&It.current.focus(),L&&L(ut)};let ue=x,Rt=y;R&&ue==="input"&&($?Rt={type:void 0,minRows:$,maxRows:$,...Rt}:Rt={type:void 0,maxRows:P,minRows:_,...Rt},ue=Fc);const ve=ut=>{Pt(ut.animationName==="mui-auto-fill-cancel"?It.current:{value:"x"})};m.useEffect(()=>{st&&st.setAdornedStart(!!St)},[st,St]);const Ee={...s,color:vt.color||"primary",disabled:vt.disabled,endAdornment:g,error:vt.error,focused:vt.focused,formControl:st,fullWidth:b,hiddenLabel:vt.hiddenLabel,multiline:R,size:vt.size,startAdornment:St,type:at},$e=Wc(Ee),te=$t.root||c.Root||vs,be=Z.root||h.root||{},de=$t.input||c.Input||bs;return Rt={...Rt,...Z.input??h.input},p.jsxs(m.Fragment,{children:[!f&&typeof pr=="function"&&(dr||(dr=p.jsx(pr,{}))),p.jsxs(te,{...be,ref:e,onClick:qt,...ct,...!rn(te)&&{ownerState:{...Ee,...be.ownerState}},className:Y($e.root,be.className,l,A&&"MuiInputBase-readOnly"),children:[St,p.jsx(Cn.Provider,{value:null,children:p.jsx(de,{"aria-invalid":vt.error,"aria-describedby":n,autoComplete:r,autoFocus:o,defaultValue:u,disabled:vt.disabled,id:w,onAnimationStart:ve,name:I,placeholder:B,readOnly:A,required:vt.required,rows:$,value:gt,onKeyDown:T,onKeyUp:z,type:at,...Rt,...!rn(de)&&{as:ue,ownerState:{...Ee,...Rt.ownerState}},ref:it,className:Y($e.input,Rt.className,A&&"MuiInputBase-readOnly"),onBlur:Ut,onChange:wt,onFocus:Ht})}),g,X?X({...vt,startAdornment:St}):null]})]})});function Vc(i){return rt("MuiInput",i)}const gi={...ri,...et("MuiInput",["root","underline","input"])};function Ac(i){return rt("MuiOutlinedInput",i)}const re={...ri,...et("MuiOutlinedInput",["root","notchedOutline","input"])};function Yc(i){return rt("MuiFilledInput",i)}const Ie={...ri,...et("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},Hc=Me(p.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Uc={entering:{opacity:1},entered:{opacity:1}},Gc=m.forwardRef(function(t,e){const s=Ce(),n={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{addEndListener:r,appear:o=!0,children:l,easing:a,in:c,onEnter:h,onEntered:u,onEntering:d,onExit:f,onExited:g,onExiting:v,style:b,timeout:w=n,TransitionComponent:x=Xa,...y}=t,S=m.useRef(null),C=se(S,ps(l),e),P=T=>z=>{if(T){const B=S.current;z===void 0?T(B):T(B,z)}},_=P(d),R=P((T,z)=>{Ka(T);const B=nr({style:b,timeout:w,easing:a},{mode:"enter"});T.style.webkitTransition=s.transitions.create("opacity",B),T.style.transition=s.transitions.create("opacity",B),h&&h(T,z)}),I=P(u),F=P(v),j=P(T=>{const z=nr({style:b,timeout:w,easing:a},{mode:"exit"});T.style.webkitTransition=s.transitions.create("opacity",z),T.style.transition=s.transitions.create("opacity",z),f&&f(T)}),L=P(g),N=T=>{r&&r(S.current,T)};return p.jsx(x,{appear:o,in:c,nodeRef:S,onEnter:R,onEntered:I,onEntering:_,onExit:j,onExited:L,onExiting:F,addEndListener:N,timeout:w,...y,children:(T,{ownerState:z,...B})=>m.cloneElement(l,{style:{opacity:0,visibility:T==="exited"&&!c?"hidden":void 0,...Uc[T],...b,...l.props.style},ref:C,...B})})});function Xc(i){return rt("MuiBackdrop",i)}et("MuiBackdrop",["root","invisible"]);const Kc=i=>{const{classes:t,invisible:e}=i;return tt({root:["root",e&&"invisible"]},Xc,t)},Qc=D("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),qc=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiBackdrop"}),{children:n,className:r,component:o="div",invisible:l=!1,open:a,components:c={},componentsProps:h={},slotProps:u={},slots:d={},TransitionComponent:f,transitionDuration:g,...v}=s,b={...s,component:o,invisible:l},w=Kc(b),x={transition:f,root:c.Root,...d},y={...h,...u},S={slots:x,slotProps:y},[C,P]=ot("root",{elementType:Qc,externalForwardedProps:S,className:Y(w.root,r),ownerState:b}),[_,R]=ot("transition",{elementType:Gc,externalForwardedProps:S,ownerState:b});return p.jsx(_,{in:a,timeout:g,...v,...R,children:p.jsx(C,{"aria-hidden":!0,...P,classes:w,ref:e,children:n})})});function Zc(i){return rt("MuiButton",i)}const Le=et("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),ol=m.createContext({}),ll=m.createContext(void 0),Jc=i=>{const{color:t,disableElevation:e,fullWidth:s,size:n,variant:r,loading:o,loadingPosition:l,classes:a}=i,c={root:["root",o&&"loading",r,`${r}${E(t)}`,`size${E(n)}`,`${r}Size${E(n)}`,`color${E(t)}`,e&&"disableElevation",s&&"fullWidth",o&&`loadingPosition${E(l)}`],startIcon:["icon","startIcon",`iconSize${E(n)}`],endIcon:["icon","endIcon",`iconSize${E(n)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=tt(c,Zc,a);return{...a,...h}},al=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],th=D(Ve,{shouldForwardProp:i=>Jt(i)||i==="classes",name:"MuiButton",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[e.variant],t[`${e.variant}${E(e.color)}`],t[`size${E(e.size)}`],t[`${e.variant}Size${E(e.size)}`],e.color==="inherit"&&t.colorInherit,e.disableElevation&&t.disableElevation,e.fullWidth&&t.fullWidth,e.loading&&t.loading]}})(ht(({theme:i})=>{const t=i.palette.mode==="light"?i.palette.grey[300]:i.palette.grey[800],e=i.palette.mode==="light"?i.palette.grey.A100:i.palette.grey[700];return{...i.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Le.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(i.vars||i).shadows[2],"&:hover":{boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2]}},"&:active":{boxShadow:(i.vars||i).shadows[8]},[`&.${Le.focusVisible}`]:{boxShadow:(i.vars||i).shadows[6]},[`&.${Le.disabled}`]:{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Le.disabled}`]:{border:`1px solid ${(i.vars||i).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(i.palette).filter(Wt()).map(([s])=>({props:{color:s},style:{"--variant-textColor":(i.vars||i).palette[s].main,"--variant-outlinedColor":(i.vars||i).palette[s].main,"--variant-outlinedBorder":i.vars?`rgba(${i.vars.palette[s].mainChannel} / 0.5)`:ft(i.palette[s].main,.5),"--variant-containedColor":(i.vars||i).palette[s].contrastText,"--variant-containedBg":(i.vars||i).palette[s].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(i.vars||i).palette[s].dark,"--variant-textBg":i.vars?`rgba(${i.vars.palette[s].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:ft(i.palette[s].main,i.palette.action.hoverOpacity),"--variant-outlinedBorder":(i.vars||i).palette[s].main,"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette[s].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:ft(i.palette[s].main,i.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedHoverBg:e,"--variant-textBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:ft(i.palette.text.primary,i.palette.action.hoverOpacity),"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:ft(i.palette.text.primary,i.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:i.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Le.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Le.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:i.transitions.create(["background-color","box-shadow","border-color"],{duration:i.transitions.duration.short}),[`&.${Le.loading}`]:{color:"transparent"}}}]}})),eh=D("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.startIcon,e.loading&&t.startIconLoadingStart,t[`iconSize${E(e.size)}`]]}})(({theme:i})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...al]})),ih=D("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.endIcon,e.loading&&t.endIconLoadingEnd,t[`iconSize${E(e.size)}`]]}})(({theme:i})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...al]})),sh=D("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(i,t)=>t.loadingIndicator})(({theme:i})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(i.vars||i).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),fr=D("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(i,t)=>t.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),cl=m.forwardRef(function(t,e){const s=m.useContext(ol),n=m.useContext(ll),r=Qa(s,t),o=lt({props:r,name:"MuiButton"}),{children:l,color:a="primary",component:c="button",className:h,disabled:u=!1,disableElevation:d=!1,disableFocusRipple:f=!1,endIcon:g,focusVisibleClassName:v,fullWidth:b=!1,id:w,loading:x=null,loadingIndicator:y,loadingPosition:S="center",size:C="medium",startIcon:P,type:_,variant:R="text",...I}=o,F=Zo(w),j=y??p.jsx(qa,{"aria-labelledby":F,color:"inherit",size:16}),L={...o,color:a,component:c,disabled:u,disableElevation:d,disableFocusRipple:f,fullWidth:b,loading:x,loadingIndicator:j,loadingPosition:S,size:C,type:_,variant:R},N=Jc(L),T=(P||x&&S==="start")&&p.jsx(eh,{className:N.startIcon,ownerState:L,children:P||p.jsx(fr,{className:N.loadingIconPlaceholder,ownerState:L})}),z=(g||x&&S==="end")&&p.jsx(ih,{className:N.endIcon,ownerState:L,children:g||p.jsx(fr,{className:N.loadingIconPlaceholder,ownerState:L})}),B=n||"",A=typeof x=="boolean"?p.jsx("span",{className:N.loadingWrapper,style:{display:"contents"},children:x&&p.jsx(sh,{className:N.loadingIndicator,ownerState:L,children:j})}):null;return p.jsxs(th,{ownerState:L,className:Y(s.className,N.root,h,B),component:c,disabled:u||x,focusRipple:!f,focusVisibleClassName:Y(N.focusVisible,v),ref:e,type:_,id:x?F:w,...I,classes:N,children:[T,S!=="end"&&A,l,S==="end"&&A,z]})});function nh(i){return rt("MuiButtonGroup",i)}const H=et("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","horizontal","vertical","colorPrimary","colorSecondary","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),rh=(i,t)=>{const{ownerState:e}=i;return[{[`& .${H.grouped}`]:t.grouped},{[`& .${H.grouped}`]:t[`grouped${E(e.orientation)}`]},{[`& .${H.grouped}`]:t[`grouped${E(e.variant)}`]},{[`& .${H.grouped}`]:t[`grouped${E(e.variant)}${E(e.orientation)}`]},{[`& .${H.grouped}`]:t[`grouped${E(e.variant)}${E(e.color)}`]},{[`& .${H.firstButton}`]:t.firstButton},{[`& .${H.lastButton}`]:t.lastButton},{[`& .${H.middleButton}`]:t.middleButton},t.root,t[e.variant],e.disableElevation===!0&&t.disableElevation,e.fullWidth&&t.fullWidth,e.orientation==="vertical"&&t.vertical]},oh=i=>{const{classes:t,color:e,disabled:s,disableElevation:n,fullWidth:r,orientation:o,variant:l}=i,a={root:["root",l,o,r&&"fullWidth",n&&"disableElevation",`color${E(e)}`],grouped:["grouped",`grouped${E(o)}`,`grouped${E(l)}`,`grouped${E(l)}${E(o)}`,`grouped${E(l)}${E(e)}`,s&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return tt(a,nh,t)},lh=D("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:rh})(ht(({theme:i})=>({display:"inline-flex",borderRadius:(i.vars||i).shape.borderRadius,variants:[{props:{variant:"contained"},style:{boxShadow:(i.vars||i).shadows[2]}},{props:{disableElevation:!0},style:{boxShadow:"none"}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${H.lastButton},& .${H.middleButton}`]:{borderTopRightRadius:0,borderTopLeftRadius:0},[`& .${H.firstButton},& .${H.middleButton}`]:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}},{props:{orientation:"horizontal"},style:{[`& .${H.firstButton},& .${H.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${H.lastButton},& .${H.middleButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},{props:{variant:"text",orientation:"horizontal"},style:{[`& .${H.firstButton},& .${H.middleButton}`]:{borderRight:i.vars?`1px solid rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${H.disabled}`]:{borderRight:`1px solid ${(i.vars||i).palette.action.disabled}`}}}},{props:{variant:"text",orientation:"vertical"},style:{[`& .${H.firstButton},& .${H.middleButton}`]:{borderBottom:i.vars?`1px solid rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${H.disabled}`]:{borderBottom:`1px solid ${(i.vars||i).palette.action.disabled}`}}}},...Object.entries(i.palette).filter(Wt()).flatMap(([t])=>[{props:{variant:"text",color:t},style:{[`& .${H.firstButton},& .${H.middleButton}`]:{borderColor:i.vars?`rgba(${i.vars.palette[t].mainChannel} / 0.5)`:ft(i.palette[t].main,.5)}}}]),{props:{variant:"outlined",orientation:"horizontal"},style:{[`& .${H.firstButton},& .${H.middleButton}`]:{borderRightColor:"transparent","&:hover":{borderRightColor:"currentColor"}},[`& .${H.lastButton},& .${H.middleButton}`]:{marginLeft:-1}}},{props:{variant:"outlined",orientation:"vertical"},style:{[`& .${H.firstButton},& .${H.middleButton}`]:{borderBottomColor:"transparent","&:hover":{borderBottomColor:"currentColor"}},[`& .${H.lastButton},& .${H.middleButton}`]:{marginTop:-1}}},{props:{variant:"contained",orientation:"horizontal"},style:{[`& .${H.firstButton},& .${H.middleButton}`]:{borderRight:`1px solid ${(i.vars||i).palette.grey[400]}`,[`&.${H.disabled}`]:{borderRight:`1px solid ${(i.vars||i).palette.action.disabled}`}}}},{props:{variant:"contained",orientation:"vertical"},style:{[`& .${H.firstButton},& .${H.middleButton}`]:{borderBottom:`1px solid ${(i.vars||i).palette.grey[400]}`,[`&.${H.disabled}`]:{borderBottom:`1px solid ${(i.vars||i).palette.action.disabled}`}}}},...Object.entries(i.palette).filter(Wt(["dark"])).map(([t])=>({props:{variant:"contained",color:t},style:{[`& .${H.firstButton},& .${H.middleButton}`]:{borderColor:(i.vars||i).palette[t].dark}}}))],[`& .${H.grouped}`]:{minWidth:40,boxShadow:"none",props:{variant:"contained"},style:{"&:hover":{boxShadow:"none"}}}}))),ah=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiButtonGroup"}),{children:n,className:r,color:o="primary",component:l="div",disabled:a=!1,disableElevation:c=!1,disableFocusRipple:h=!1,disableRipple:u=!1,fullWidth:d=!1,orientation:f="horizontal",size:g="medium",variant:v="outlined",...b}=s,w={...s,color:o,component:l,disabled:a,disableElevation:c,disableFocusRipple:h,disableRipple:u,fullWidth:d,orientation:f,size:g,variant:v},x=oh(w),y=m.useMemo(()=>({className:x.grouped,color:o,disabled:a,disableElevation:c,disableFocusRipple:h,disableRipple:u,fullWidth:d,size:g,variant:v}),[o,a,c,h,u,d,g,v,x.grouped]),S=hc(n),C=S.length,P=_=>{const R=_===0,I=_===C-1;return R&&I?"":R?x.firstButton:I?x.lastButton:x.middleButton};return p.jsx(lh,{as:l,role:"group",className:Y(x.root,r),ref:e,ownerState:w,...b,children:p.jsx(ol.Provider,{value:y,children:S.map((_,R)=>p.jsx(ll.Provider,{value:P(R),children:_},R))})})});function ch(i){return rt("MuiCard",i)}et("MuiCard",["root"]);const hh=i=>{const{classes:t}=i;return tt({root:["root"]},ch,t)},uh=D(rl,{name:"MuiCard",slot:"Root",overridesResolver:(i,t)=>t.root})({overflow:"hidden"}),dh=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiCard"}),{className:n,raised:r=!1,...o}=s,l={...s,raised:r},a=hh(l);return p.jsx(uh,{className:Y(a.root,n),elevation:r?8:void 0,ref:e,ownerState:l,...o})});function ph(i){return rt("MuiCardContent",i)}et("MuiCardContent",["root"]);const fh=i=>{const{classes:t}=i;return tt({root:["root"]},ph,t)},mh=D("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(i,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),gh=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiCardContent"}),{className:n,component:r="div",...o}=s,l={...s,component:r},a=fh(l);return p.jsx(mh,{as:r,className:Y(a.root,n),ownerState:l,ref:e,...o})});function vh(i){return rt("MuiCardHeader",i)}const as=et("MuiCardHeader",["root","avatar","action","content","title","subheader"]),bh=i=>{const{classes:t}=i;return tt({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},vh,t)},wh=D("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(i,t)=>[{[`& .${as.title}`]:t.title},{[`& .${as.subheader}`]:t.subheader},t.root]})({display:"flex",alignItems:"center",padding:16}),xh=D("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(i,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),yh=D("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(i,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),Sh=D("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(i,t)=>t.content})({flex:"1 1 auto",[`.${rr.root}:where(& .${as.title})`]:{display:"block"},[`.${rr.root}:where(& .${as.subheader})`]:{display:"block"}}),Ch=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiCardHeader"}),{action:n,avatar:r,component:o="div",disableTypography:l=!1,subheader:a,subheaderTypographyProps:c,title:h,titleTypographyProps:u,slots:d={},slotProps:f={},...g}=s,v={...s,component:o,disableTypography:l},b=bh(v),w={slots:d,slotProps:{title:u,subheader:c,...f}};let x=h;const[y,S]=ot("title",{className:b.title,elementType:mt,externalForwardedProps:w,ownerState:v,additionalProps:{variant:r?"body2":"h5",component:"span"}});x!=null&&x.type!==mt&&!l&&(x=p.jsx(y,{...S,children:x}));let C=a;const[P,_]=ot("subheader",{className:b.subheader,elementType:mt,externalForwardedProps:w,ownerState:v,additionalProps:{variant:r?"body2":"body1",color:"textSecondary",component:"span"}});C!=null&&C.type!==mt&&!l&&(C=p.jsx(P,{..._,children:C}));const[R,I]=ot("root",{ref:e,className:b.root,elementType:wh,externalForwardedProps:{...w,...g,component:o},ownerState:v}),[F,j]=ot("avatar",{className:b.avatar,elementType:xh,externalForwardedProps:w,ownerState:v}),[L,N]=ot("content",{className:b.content,elementType:Sh,externalForwardedProps:w,ownerState:v}),[T,z]=ot("action",{className:b.action,elementType:yh,externalForwardedProps:w,ownerState:v});return p.jsxs(R,{...I,children:[r&&p.jsx(F,{...j,children:r}),p.jsxs(L,{...N,children:[x,C]}),n&&p.jsx(T,{...z,children:n})]})});function Mh(i){return rt("PrivateSwitchBase",i)}et("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Ph=i=>{const{classes:t,checked:e,disabled:s,edge:n}=i,r={root:["root",e&&"checked",s&&"disabled",n&&`edge${E(n)}`],input:["input"]};return tt(r,Mh,t)},kh=D(Ve,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:i,ownerState:t})=>i==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:i,ownerState:t})=>i==="end"&&t.size!=="small",style:{marginRight:-12}}]}),Rh=D("input",{name:"MuiSwitchBase",shouldForwardProp:Jt})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),hl=m.forwardRef(function(t,e){const{autoFocus:s,checked:n,checkedIcon:r,defaultChecked:o,disabled:l,disableFocusRipple:a=!1,edge:c=!1,icon:h,id:u,inputProps:d,inputRef:f,name:g,onBlur:v,onChange:b,onFocus:w,readOnly:x,required:y=!1,tabIndex:S,type:C,value:P,slots:_={},slotProps:R={},...I}=t,[F,j]=nn({controlled:n,default:!!o,name:"SwitchBase",state:"checked"}),L=Pe(),N=U=>{w&&w(U),L&&L.onFocus&&L.onFocus(U)},T=U=>{v&&v(U),L&&L.onBlur&&L.onBlur(U)},z=U=>{if(U.nativeEvent.defaultPrevented)return;const ct=U.target.checked;j(ct),b&&b(U,ct)};let B=l;L&&typeof B>"u"&&(B=L.disabled);const A=C==="checkbox"||C==="radio",X={...t,checked:F,disabled:B,disableFocusRipple:a,edge:c},$=Ph(X),G={slots:_,slotProps:{input:d,...R}},[Z,$t]=ot("root",{ref:e,elementType:kh,className:$.root,shouldForwardComponentProp:!0,externalForwardedProps:{...G,component:"span",...I},getSlotProps:U=>({...U,onFocus:ct=>{var gt;(gt=U.onFocus)==null||gt.call(U,ct),N(ct)},onBlur:ct=>{var gt;(gt=U.onBlur)==null||gt.call(U,ct),T(ct)}}),ownerState:X,additionalProps:{centerRipple:!0,focusRipple:!a,disabled:B,role:void 0,tabIndex:null}}),[St,at]=ot("input",{ref:f,elementType:Rh,className:$.input,externalForwardedProps:G,getSlotProps:U=>({onChange:ct=>{var gt;(gt=U.onChange)==null||gt.call(U,ct),z(ct)}}),ownerState:X,additionalProps:{autoFocus:s,checked:n,defaultChecked:o,disabled:B,id:A?u:void 0,name:g,readOnly:x,required:y,tabIndex:S,type:C,...C==="checkbox"&&P===void 0?{}:{value:P}}});return p.jsxs(Z,{...$t,children:[p.jsx(St,{...at}),F?r:h]})}),_h=Me(p.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Eh=Me(p.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),$h=Me(p.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Th(i){return rt("MuiCheckbox",i)}const Ts=et("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Bh=i=>{const{classes:t,indeterminate:e,color:s,size:n}=i,r={root:["root",e&&"indeterminate",`color${E(s)}`,`size${E(n)}`]},o=tt(r,Th,t);return{...t,...o}},zh=D(hl,{shouldForwardProp:i=>Jt(i)||i==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.indeterminate&&t.indeterminate,t[`size${E(e.size)}`],e.color!=="default"&&t[`color${E(e.color)}`]]}})(ht(({theme:i})=>({color:(i.vars||i).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:ft(i.palette.action.active,i.palette.action.hoverOpacity)}}},...Object.entries(i.palette).filter(Wt()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette[t].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:ft(i.palette[t].main,i.palette.action.hoverOpacity)}}})),...Object.entries(i.palette).filter(Wt()).map(([t])=>({props:{color:t},style:{[`&.${Ts.checked}, &.${Ts.indeterminate}`]:{color:(i.vars||i).palette[t].main},[`&.${Ts.disabled}`]:{color:(i.vars||i).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Ih=p.jsx(Eh,{}),Lh=p.jsx(_h,{}),Nh=p.jsx($h,{}),ki=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiCheckbox"}),{checkedIcon:n=Ih,color:r="primary",icon:o=Lh,indeterminate:l=!1,indeterminateIcon:a=Nh,inputProps:c,size:h="medium",disableRipple:u=!1,className:d,slots:f={},slotProps:g={},...v}=s,b=l?a:o,w=l?a:n,x={...s,disableRipple:u,color:r,indeterminate:l,size:h},y=Bh(x),S=g.input??c,[C,P]=ot("root",{ref:e,elementType:zh,className:Y(y.root,d),shouldForwardComponentProp:!0,externalForwardedProps:{slots:f,slotProps:g,...v},ownerState:x,additionalProps:{type:"checkbox",icon:m.cloneElement(b,{fontSize:b.props.fontSize??h}),checkedIcon:m.cloneElement(w,{fontSize:w.props.fontSize??h}),disableRipple:u,slots:f,slotProps:{input:nl(typeof S=="function"?S(x):S,{"data-indeterminate":l})}}});return p.jsx(C,{...P,classes:y})});function mr(i){return i.substring(2).toLowerCase()}function Dh(i,t){return t.documentElement.clientWidth<i.clientX||t.documentElement.clientHeight<i.clientY}function Fh(i){const{children:t,disableReactTree:e=!1,mouseEvent:s="onClick",onClickAway:n,touchEvent:r="onTouchEnd"}=i,o=m.useRef(!1),l=m.useRef(null),a=m.useRef(!1),c=m.useRef(!1);m.useEffect(()=>(setTimeout(()=>{a.current=!0},0),()=>{a.current=!1}),[]);const h=se(ps(t),l),u=De(g=>{const v=c.current;c.current=!1;const b=Dt(l.current);if(!a.current||!l.current||"clientX"in g&&Dh(g,b))return;if(o.current){o.current=!1;return}let w;g.composedPath?w=g.composedPath().includes(l.current):w=!b.documentElement.contains(g.target)||l.current.contains(g.target),!w&&(e||!v)&&n(g)}),d=g=>v=>{c.current=!0;const b=t.props[g];b&&b(v)},f={ref:h};return r!==!1&&(f[r]=d(r)),m.useEffect(()=>{if(r!==!1){const g=mr(r),v=Dt(l.current),b=()=>{o.current=!0};return v.addEventListener(g,u),v.addEventListener("touchmove",b),()=>{v.removeEventListener(g,u),v.removeEventListener("touchmove",b)}}},[u,r]),s!==!1&&(f[s]=d(s)),m.useEffect(()=>{if(s!==!1){const g=mr(s),v=Dt(l.current);return v.addEventListener(g,u),()=>{v.removeEventListener(g,u)}}},[u,s]),m.cloneElement(t,f)}function Oh(i){const t=Dt(i);return t.body===i?ie(i).innerWidth>t.documentElement.clientWidth:i.scrollHeight>i.clientHeight}function Ri(i,t){t?i.setAttribute("aria-hidden","true"):i.removeAttribute("aria-hidden")}function gr(i){return parseInt(ie(i).getComputedStyle(i).paddingRight,10)||0}function jh(i){const e=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(i.tagName),s=i.tagName==="INPUT"&&i.getAttribute("type")==="hidden";return e||s}function vr(i,t,e,s,n){const r=[t,e,...s];[].forEach.call(i.children,o=>{const l=!r.includes(o),a=!jh(o);l&&a&&Ri(o,n)})}function Bs(i,t){let e=-1;return i.some((s,n)=>t(s)?(e=n,!0):!1),e}function Wh(i,t){const e=[],s=i.container;if(!t.disableScrollLock){if(Oh(s)){const o=sl(ie(s));e.push({value:s.style.paddingRight,property:"padding-right",el:s}),s.style.paddingRight=`${gr(s)+o}px`;const l=Dt(s).querySelectorAll(".mui-fixed");[].forEach.call(l,a=>{e.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${gr(a)+o}px`})}let r;if(s.parentNode instanceof DocumentFragment)r=Dt(s).body;else{const o=s.parentElement,l=ie(s);r=(o==null?void 0:o.nodeName)==="HTML"&&l.getComputedStyle(o).overflowY==="scroll"?o:s}e.push({value:r.style.overflow,property:"overflow",el:r},{value:r.style.overflowX,property:"overflow-x",el:r},{value:r.style.overflowY,property:"overflow-y",el:r}),r.style.overflow="hidden"}return()=>{e.forEach(({value:r,el:o,property:l})=>{r?o.style.setProperty(l,r):o.style.removeProperty(l)})}}function Vh(i){const t=[];return[].forEach.call(i.children,e=>{e.getAttribute("aria-hidden")==="true"&&t.push(e)}),t}class Ah{constructor(){this.modals=[],this.containers=[]}add(t,e){let s=this.modals.indexOf(t);if(s!==-1)return s;s=this.modals.length,this.modals.push(t),t.modalRef&&Ri(t.modalRef,!1);const n=Vh(e);vr(e,t.mount,t.modalRef,n,!0);const r=Bs(this.containers,o=>o.container===e);return r!==-1?(this.containers[r].modals.push(t),s):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblings:n}),s)}mount(t,e){const s=Bs(this.containers,r=>r.modals.includes(t)),n=this.containers[s];n.restore||(n.restore=Wh(n,e))}remove(t,e=!0){const s=this.modals.indexOf(t);if(s===-1)return s;const n=Bs(this.containers,o=>o.modals.includes(t)),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(t),1),this.modals.splice(s,1),r.modals.length===0)r.restore&&r.restore(),t.modalRef&&Ri(t.modalRef,e),vr(r.container,t.mount,t.modalRef,r.hiddenSiblings,!1),this.containers.splice(n,1);else{const o=r.modals[r.modals.length-1];o.modalRef&&Ri(o.modalRef,!1)}return s}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const Yh=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Hh(i){const t=parseInt(i.getAttribute("tabindex")||"",10);return Number.isNaN(t)?i.contentEditable==="true"||(i.nodeName==="AUDIO"||i.nodeName==="VIDEO"||i.nodeName==="DETAILS")&&i.getAttribute("tabindex")===null?0:i.tabIndex:t}function Uh(i){if(i.tagName!=="INPUT"||i.type!=="radio"||!i.name)return!1;const t=s=>i.ownerDocument.querySelector(`input[type="radio"]${s}`);let e=t(`[name="${i.name}"]:checked`);return e||(e=t(`[name="${i.name}"]`)),e!==i}function Gh(i){return!(i.disabled||i.tagName==="INPUT"&&i.type==="hidden"||Uh(i))}function Xh(i){const t=[],e=[];return Array.from(i.querySelectorAll(Yh)).forEach((s,n)=>{const r=Hh(s);r===-1||!Gh(s)||(r===0?t.push(s):e.push({documentOrder:n,tabIndex:r,node:s}))}),e.sort((s,n)=>s.tabIndex===n.tabIndex?s.documentOrder-n.documentOrder:s.tabIndex-n.tabIndex).map(s=>s.node).concat(t)}function Kh(){return!0}function Qh(i){const{children:t,disableAutoFocus:e=!1,disableEnforceFocus:s=!1,disableRestoreFocus:n=!1,getTabbable:r=Xh,isEnabled:o=Kh,open:l}=i,a=m.useRef(!1),c=m.useRef(null),h=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(!1),g=m.useRef(null),v=se(ps(t),g),b=m.useRef(null);m.useEffect(()=>{!l||!g.current||(f.current=!e)},[e,l]),m.useEffect(()=>{if(!l||!g.current)return;const y=Dt(g.current);return g.current.contains(y.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),f.current&&g.current.focus()),()=>{n||(u.current&&u.current.focus&&(a.current=!0,u.current.focus()),u.current=null)}},[l]),m.useEffect(()=>{if(!l||!g.current)return;const y=Dt(g.current),S=_=>{b.current=_,!(s||!o()||_.key!=="Tab")&&y.activeElement===g.current&&_.shiftKey&&(a.current=!0,h.current&&h.current.focus())},C=()=>{var I,F;const _=g.current;if(_===null)return;if(!y.hasFocus()||!o()||a.current){a.current=!1;return}if(_.contains(y.activeElement)||s&&y.activeElement!==c.current&&y.activeElement!==h.current)return;if(y.activeElement!==d.current)d.current=null;else if(d.current!==null)return;if(!f.current)return;let R=[];if((y.activeElement===c.current||y.activeElement===h.current)&&(R=r(g.current)),R.length>0){const j=!!((I=b.current)!=null&&I.shiftKey&&((F=b.current)==null?void 0:F.key)==="Tab"),L=R[0],N=R[R.length-1];typeof L!="string"&&typeof N!="string"&&(j?N.focus():L.focus())}else _.focus()};y.addEventListener("focusin",C),y.addEventListener("keydown",S,!0);const P=setInterval(()=>{y.activeElement&&y.activeElement.tagName==="BODY"&&C()},50);return()=>{clearInterval(P),y.removeEventListener("focusin",C),y.removeEventListener("keydown",S,!0)}},[e,s,n,o,l,r]);const w=y=>{u.current===null&&(u.current=y.relatedTarget),f.current=!0,d.current=y.target;const S=t.props.onFocus;S&&S(y)},x=y=>{u.current===null&&(u.current=y.relatedTarget),f.current=!0};return p.jsxs(m.Fragment,{children:[p.jsx("div",{tabIndex:l?0:-1,onFocus:x,ref:c,"data-testid":"sentinelStart"}),m.cloneElement(t,{ref:v,onFocus:w}),p.jsx("div",{tabIndex:l?0:-1,onFocus:x,ref:h,"data-testid":"sentinelEnd"})]})}function qh(i){return typeof i=="function"?i():i}function Zh(i){return i?i.props.hasOwnProperty("in"):!1}const br=()=>{},Yi=new Ah;function Jh(i){const{container:t,disableEscapeKeyDown:e=!1,disableScrollLock:s=!1,closeAfterTransition:n=!1,onTransitionEnter:r,onTransitionExited:o,children:l,onClose:a,open:c,rootRef:h}=i,u=m.useRef({}),d=m.useRef(null),f=m.useRef(null),g=se(f,h),[v,b]=m.useState(!c),w=Zh(l);let x=!0;(i["aria-hidden"]==="false"||i["aria-hidden"]===!1)&&(x=!1);const y=()=>Dt(d.current),S=()=>(u.current.modalRef=f.current,u.current.mount=d.current,u.current),C=()=>{Yi.mount(S(),{disableScrollLock:s}),f.current&&(f.current.scrollTop=0)},P=De(()=>{const z=qh(t)||y().body;Yi.add(S(),z),f.current&&C()}),_=()=>Yi.isTopModal(S()),R=De(z=>{d.current=z,z&&(c&&_()?C():f.current&&Ri(f.current,x))}),I=m.useCallback(()=>{Yi.remove(S(),x)},[x]);m.useEffect(()=>()=>{I()},[I]),m.useEffect(()=>{c?P():(!w||!n)&&I()},[c,I,w,n,P]);const F=z=>B=>{var A;(A=z.onKeyDown)==null||A.call(z,B),!(B.key!=="Escape"||B.which===229||!_())&&(e||(B.stopPropagation(),a&&a(B,"escapeKeyDown")))},j=z=>B=>{var A;(A=z.onClick)==null||A.call(z,B),B.target===B.currentTarget&&a&&a(B,"backdropClick")};return{getRootProps:(z={})=>{const B=Za(i);delete B.onTransitionEnter,delete B.onTransitionExited;const A={...B,...z};return{role:"presentation",...A,onKeyDown:F(A),ref:g}},getBackdropProps:(z={})=>{const B=z;return{"aria-hidden":!0,...B,onClick:j(B),open:c}},getTransitionProps:()=>{const z=()=>{b(!1),r&&r()},B=()=>{b(!0),o&&o(),n&&I()};return{onEnter:lr(z,(l==null?void 0:l.props.onEnter)??br),onExited:lr(B,(l==null?void 0:l.props.onExited)??br)}},rootRef:g,portalRef:R,isTopModal:_,exited:v,hasTransition:w}}function tu(i){return rt("MuiModal",i)}et("MuiModal",["root","hidden","backdrop"]);const eu=i=>{const{open:t,exited:e,classes:s}=i;return tt({root:["root",!t&&e&&"hidden"],backdrop:["backdrop"]},tu,s)},iu=D("div",{name:"MuiModal",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,!e.open&&e.exited&&t.hidden]}})(ht(({theme:i})=>({position:"fixed",zIndex:(i.vars||i).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),su=D(qc,{name:"MuiModal",slot:"Backdrop",overridesResolver:(i,t)=>t.backdrop})({zIndex:-1}),nu=m.forwardRef(function(t,e){const s=lt({name:"MuiModal",props:t}),{BackdropComponent:n=su,BackdropProps:r,classes:o,className:l,closeAfterTransition:a=!1,children:c,container:h,component:u,components:d={},componentsProps:f={},disableAutoFocus:g=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:b=!1,disablePortal:w=!1,disableRestoreFocus:x=!1,disableScrollLock:y=!1,hideBackdrop:S=!1,keepMounted:C=!1,onBackdropClick:P,onClose:_,onTransitionEnter:R,onTransitionExited:I,open:F,slotProps:j={},slots:L={},theme:N,...T}=s,z={...s,closeAfterTransition:a,disableAutoFocus:g,disableEnforceFocus:v,disableEscapeKeyDown:b,disablePortal:w,disableRestoreFocus:x,disableScrollLock:y,hideBackdrop:S,keepMounted:C},{getRootProps:B,getBackdropProps:A,getTransitionProps:X,portalRef:$,isTopModal:G,exited:Z,hasTransition:$t}=Jh({...z,rootRef:e}),St={...z,exited:Z},at=eu(St),U={};if(c.props.tabIndex===void 0&&(U.tabIndex="-1"),$t){const{onEnter:it,onExited:q}=X();U.onEnter=it,U.onExited=q}const ct={slots:{root:d.Root,backdrop:d.Backdrop,...L},slotProps:{...f,...j}},[gt,Kt]=ot("root",{ref:e,elementType:iu,externalForwardedProps:{...ct,...T,component:u},getSlotProps:B,ownerState:St,className:Y(l,at==null?void 0:at.root,!St.open&&St.exited&&(at==null?void 0:at.hidden))}),[It,Q]=ot("backdrop",{ref:r==null?void 0:r.ref,elementType:n,externalForwardedProps:ct,shouldForwardComponentProp:!0,additionalProps:r,getSlotProps:it=>A({...it,onClick:q=>{P&&P(q),it!=null&&it.onClick&&it.onClick(q)}}),className:Y(r==null?void 0:r.className,at==null?void 0:at.backdrop),ownerState:St});return!C&&!F&&(!$t||Z)?null:p.jsx(Ja,{ref:$,container:h,disablePortal:w,children:p.jsxs(gt,{...Kt,children:[!S&&n?p.jsx(It,{...Q}):null,p.jsx(Qh,{disableEnforceFocus:v,disableAutoFocus:g,disableRestoreFocus:x,isEnabled:G,open:F,children:m.cloneElement(c,U)})]})})}),ru=i=>{const{classes:t,disableUnderline:e,startAdornment:s,endAdornment:n,size:r,hiddenLabel:o,multiline:l}=i,a={root:["root",!e&&"underline",s&&"adornedStart",n&&"adornedEnd",r==="small"&&`size${E(r)}`,o&&"hiddenLabel",l&&"multiline"],input:["input"]},c=tt(a,Yc,t);return{...t,...c}},ou=D(vs,{shouldForwardProp:i=>Jt(i)||i==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[...ms(i,t),!e.disableUnderline&&t.underline]}})(ht(({theme:i})=>{const t=i.palette.mode==="light",e=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",n=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",r=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:n,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s}},[`&.${Ie.focused}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s},[`&.${Ie.disabled}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:r},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ie.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ie.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`:e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ie.disabled}, .${Ie.error}):before`]:{borderBottom:`1px solid ${(i.vars||i).palette.text.primary}`},[`&.${Ie.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(Wt()).map(([o])=>{var l;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(l=(i.vars||i).palette[o])==null?void 0:l.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:l})=>o.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),lu=D(bs,{name:"MuiFilledInput",slot:"Input",overridesResolver:gs})(ht(({theme:i})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),ul=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiFilledInput"}),{disableUnderline:n=!1,components:r={},componentsProps:o,fullWidth:l=!1,hiddenLabel:a,inputComponent:c="input",multiline:h=!1,slotProps:u,slots:d={},type:f="text",...g}=s,v={...s,disableUnderline:n,fullWidth:l,inputComponent:c,multiline:h,type:f},b=ru(s),w={root:{ownerState:v},input:{ownerState:v}},x=u??o?xn(w,u??o):w,y=d.root??r.Root??ou,S=d.input??r.Input??lu;return p.jsx(Mn,{slots:{root:y,input:S},slotProps:x,fullWidth:l,inputComponent:c,multiline:h,ref:e,type:f,...g,classes:b})});ul.muiName="Input";function au(i){return rt("MuiFormControl",i)}et("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const cu=i=>{const{classes:t,margin:e,fullWidth:s}=i,n={root:["root",e!=="none"&&`margin${E(e)}`,s&&"fullWidth"]};return tt(n,au,t)},hu=D("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[`margin${E(e.margin)}`],e.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),dl=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiFormControl"}),{children:n,className:r,color:o="primary",component:l="div",disabled:a=!1,error:c=!1,focused:h,fullWidth:u=!1,hiddenLabel:d=!1,margin:f="none",required:g=!1,size:v="medium",variant:b="outlined",...w}=s,x={...s,color:o,component:l,disabled:a,error:c,fullWidth:u,hiddenLabel:d,margin:f,required:g,size:v,variant:b},y=cu(x),[S,C]=m.useState(()=>{let z=!1;return n&&m.Children.forEach(n,B=>{if(!ss(B,["Input","Select"]))return;const A=ss(B,["Select"])?B.props.input:B;A&&Oc(A.props)&&(z=!0)}),z}),[P,_]=m.useState(()=>{let z=!1;return n&&m.Children.forEach(n,B=>{ss(B,["Input","Select"])&&(ls(B.props,!0)||ls(B.props.inputProps,!0))&&(z=!0)}),z}),[R,I]=m.useState(!1);a&&R&&I(!1);const F=h!==void 0&&!a?h:R;let j;m.useRef(!1);const L=m.useCallback(()=>{_(!0)},[]),N=m.useCallback(()=>{_(!1)},[]),T=m.useMemo(()=>({adornedStart:S,setAdornedStart:C,color:o,disabled:a,error:c,filled:P,focused:F,fullWidth:u,hiddenLabel:d,size:v,onBlur:()=>{I(!1)},onFocus:()=>{I(!0)},onEmpty:N,onFilled:L,registerEffect:j,required:g,variant:b}),[S,o,a,c,P,F,u,d,j,N,L,g,v,b]);return p.jsx(Cn.Provider,{value:T,children:p.jsx(hu,{as:l,ownerState:x,className:Y(y.root,r),ref:e,...w,children:n})})});function uu(i){return rt("MuiFormControlLabel",i)}const Ci=et("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),du=i=>{const{classes:t,disabled:e,labelPlacement:s,error:n,required:r}=i,o={root:["root",e&&"disabled",`labelPlacement${E(s)}`,n&&"error",r&&"required"],label:["label",e&&"disabled"],asterisk:["asterisk",n&&"error"]};return tt(o,uu,t)},pu=D("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[{[`& .${Ci.label}`]:t.label},t.root,t[`labelPlacement${E(e.labelPlacement)}`]]}})(ht(({theme:i})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Ci.disabled}`]:{cursor:"default"},[`& .${Ci.label}`]:{[`&.${Ci.disabled}`]:{color:(i.vars||i).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),fu=D("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(i,t)=>t.asterisk})(ht(({theme:i})=>({[`&.${Ci.error}`]:{color:(i.vars||i).palette.error.main}}))),Fe=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiFormControlLabel"}),{checked:n,className:r,componentsProps:o={},control:l,disabled:a,disableTypography:c,inputRef:h,label:u,labelPlacement:d="end",name:f,onChange:g,required:v,slots:b={},slotProps:w={},value:x,...y}=s,S=Pe(),C=a??l.props.disabled??(S==null?void 0:S.disabled),P=v??l.props.required,_={disabled:C,required:P};["checked","name","onChange","value","inputRef"].forEach(z=>{typeof l.props[z]>"u"&&typeof s[z]<"u"&&(_[z]=s[z])});const R=Qe({props:s,muiFormControl:S,states:["error"]}),I={...s,disabled:C,labelPlacement:d,required:P,error:R.error},F=du(I),j={slots:b,slotProps:{...o,...w}},[L,N]=ot("typography",{elementType:mt,externalForwardedProps:j,ownerState:I});let T=u;return T!=null&&T.type!==mt&&!c&&(T=p.jsx(L,{component:"span",...N,className:Y(F.label,N==null?void 0:N.className),children:T})),p.jsxs(pu,{className:Y(F.root,r),ownerState:I,ref:e,...y,children:[m.cloneElement(l,_),P?p.jsxs("div",{children:[T,p.jsxs(fu,{ownerState:I,"aria-hidden":!0,className:F.asterisk,children:[" ","*"]})]}):T]})});function mu(i){return rt("MuiFormGroup",i)}et("MuiFormGroup",["root","row","error"]);const gu=i=>{const{classes:t,row:e,error:s}=i;return tt({root:["root",e&&"row",s&&"error"]},mu,t)},vu=D("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.row&&t.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),ws=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiFormGroup"}),{className:n,row:r=!1,...o}=s,l=Pe(),a=Qe({props:s,muiFormControl:l,states:["error"]}),c={...s,row:r,error:a.error},h=gu(c);return p.jsx(vu,{className:Y(h.root,n),ownerState:c,ref:e,...o})});function bu(i){return rt("MuiFormHelperText",i)}const wr=et("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var xr;const wu=i=>{const{classes:t,contained:e,size:s,disabled:n,error:r,filled:o,focused:l,required:a}=i,c={root:["root",n&&"disabled",r&&"error",s&&`size${E(s)}`,e&&"contained",l&&"focused",o&&"filled",a&&"required"]};return tt(c,bu,t)},xu=D("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.size&&t[`size${E(e.size)}`],e.contained&&t.contained,e.filled&&t.filled]}})(ht(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${wr.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${wr.error}`]:{color:(i.vars||i).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),yu=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiFormHelperText"}),{children:n,className:r,component:o="p",disabled:l,error:a,filled:c,focused:h,margin:u,required:d,variant:f,...g}=s,v=Pe(),b=Qe({props:s,muiFormControl:v,states:["variant","size","disabled","error","filled","focused","required"]}),w={...s,component:o,contained:b.variant==="filled"||b.variant==="outlined",variant:b.variant,size:b.size,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required};delete w.ownerState;const x=wu(w);return p.jsx(xu,{as:o,className:Y(x.root,r),ref:e,...g,ownerState:w,children:n===" "?xr||(xr=p.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):n})});function Su(i){return rt("MuiFormLabel",i)}const ns=et("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Cu=i=>{const{classes:t,color:e,focused:s,disabled:n,error:r,filled:o,required:l}=i,a={root:["root",`color${E(e)}`,n&&"disabled",r&&"error",o&&"filled",s&&"focused",l&&"required"],asterisk:["asterisk",r&&"error"]};return tt(a,Su,t)},Mu=D("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled]}})(ht(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(i.palette).filter(Wt()).map(([t])=>({props:{color:t},style:{[`&.${ns.focused}`]:{color:(i.vars||i).palette[t].main}}})),{props:{},style:{[`&.${ns.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${ns.error}`]:{color:(i.vars||i).palette.error.main}}}]}))),Pu=D("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(i,t)=>t.asterisk})(ht(({theme:i})=>({[`&.${ns.error}`]:{color:(i.vars||i).palette.error.main}}))),ku=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiFormLabel"}),{children:n,className:r,color:o,component:l="label",disabled:a,error:c,filled:h,focused:u,required:d,...f}=s,g=Pe(),v=Qe({props:s,muiFormControl:g,states:["color","required","focused","disabled","error","filled"]}),b={...s,color:v.color||"primary",component:l,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required},w=Cu(b);return p.jsxs(Mu,{as:l,ownerState:b,className:Y(w.root,r),ref:e,...f,children:[n,v.required&&p.jsxs(Pu,{ownerState:b,"aria-hidden":!0,className:w.asterisk,children:[" ","*"]})]})}),yr=kc({createStyledComponent:D("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.container&&t.container]}}),componentName:"MuiGrid2",useThemeProps:i=>lt({props:i,name:"MuiGrid2"}),useTheme:Ce}),Ru=il({themeId:tc}),_u=i=>{const{classes:t,disableUnderline:e}=i,n=tt({root:["root",!e&&"underline"],input:["input"]},Vc,t);return{...t,...n}},Eu=D(vs,{shouldForwardProp:i=>Jt(i)||i==="classes",name:"MuiInput",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[...ms(i,t),!e.disableUnderline&&t.underline]}})(ht(({theme:i})=>{let e=i.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return i.vars&&(e=`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:s})=>s.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${gi.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${gi.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${gi.disabled}, .${gi.error}):before`]:{borderBottom:`2px solid ${(i.vars||i).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${e}`}},[`&.${gi.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(Wt()).map(([s])=>({props:{color:s,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(i.vars||i).palette[s].main}`}}}))]}})),$u=D(bs,{name:"MuiInput",slot:"Input",overridesResolver:gs})({}),pl=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiInput"}),{disableUnderline:n=!1,components:r={},componentsProps:o,fullWidth:l=!1,inputComponent:a="input",multiline:c=!1,slotProps:h,slots:u={},type:d="text",...f}=s,g=_u(s),b={root:{ownerState:{disableUnderline:n}}},w=h??o?xn(h??o,b):b,x=u.root??r.Root??Eu,y=u.input??r.Input??$u;return p.jsx(Mn,{slots:{root:x,input:y},slotProps:w,fullWidth:l,inputComponent:a,multiline:c,ref:e,type:d,...f,classes:g})});pl.muiName="Input";const on=m.createContext({});function Tu(i){return rt("MuiList",i)}et("MuiList",["root","padding","dense","subheader"]);const Bu=i=>{const{classes:t,disablePadding:e,dense:s,subheader:n}=i;return tt({root:["root",!e&&"padding",s&&"dense",n&&"subheader"]},Tu,t)},zu=D("ul",{name:"MuiList",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,!e.disablePadding&&t.padding,e.dense&&t.dense,e.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:i})=>!i.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:i})=>i.subheader,style:{paddingTop:0}}]}),Iu=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiList"}),{children:n,className:r,component:o="ul",dense:l=!1,disablePadding:a=!1,subheader:c,...h}=s,u=m.useMemo(()=>({dense:l}),[l]),d={...s,component:o,dense:l,disablePadding:a},f=Bu(d);return p.jsx(on.Provider,{value:u,children:p.jsxs(zu,{as:o,className:Y(f.root,r),ref:e,ownerState:d,...h,children:[c,n]})})}),Sr=et("MuiListItemIcon",["root","alignItemsFlexStart"]),Cr=et("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function zs(i,t,e){return i===t?i.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e?null:i.firstChild}function Mr(i,t,e){return i===t?e?i.firstChild:i.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e?null:i.lastChild}function fl(i,t){if(t===void 0)return!0;let e=i.innerText;return e===void 0&&(e=i.textContent),e=e.trim().toLowerCase(),e.length===0?!1:t.repeating?e[0]===t.keys[0]:e.startsWith(t.keys.join(""))}function vi(i,t,e,s,n,r){let o=!1,l=n(i,t,t?e:!1);for(;l;){if(l===i.firstChild){if(o)return!1;o=!0}const a=s?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!fl(l,r)||a)l=n(i,l,e);else return l.focus(),!0}return!1}const Lu=m.forwardRef(function(t,e){const{actions:s,autoFocus:n=!1,autoFocusItem:r=!1,children:o,className:l,disabledItemsFocusable:a=!1,disableListWrap:c=!1,onKeyDown:h,variant:u="selectedMenu",...d}=t,f=m.useRef(null),g=m.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});We(()=>{n&&f.current.focus()},[n]),m.useImperativeHandle(s,()=>({adjustStyleForScrollbar:(y,{direction:S})=>{const C=!f.current.style.width;if(y.clientHeight<f.current.clientHeight&&C){const P=`${sl(ie(y))}px`;f.current.style[S==="rtl"?"paddingLeft":"paddingRight"]=P,f.current.style.width=`calc(100% + ${P})`}return f.current}}),[]);const v=y=>{const S=f.current,C=y.key;if(y.ctrlKey||y.metaKey||y.altKey){h&&h(y);return}const _=Dt(S).activeElement;if(C==="ArrowDown")y.preventDefault(),vi(S,_,c,a,zs);else if(C==="ArrowUp")y.preventDefault(),vi(S,_,c,a,Mr);else if(C==="Home")y.preventDefault(),vi(S,null,c,a,zs);else if(C==="End")y.preventDefault(),vi(S,null,c,a,Mr);else if(C.length===1){const R=g.current,I=C.toLowerCase(),F=performance.now();R.keys.length>0&&(F-R.lastTime>500?(R.keys=[],R.repeating=!0,R.previousKeyMatched=!0):R.repeating&&I!==R.keys[0]&&(R.repeating=!1)),R.lastTime=F,R.keys.push(I);const j=_&&!R.repeating&&fl(_,R);R.previousKeyMatched&&(j||vi(S,_,!1,a,zs,R))?y.preventDefault():R.previousKeyMatched=!1}h&&h(y)},b=se(f,e);let w=-1;m.Children.forEach(o,(y,S)=>{if(!m.isValidElement(y)){w===S&&(w+=1,w>=o.length&&(w=-1));return}y.props.disabled||(u==="selectedMenu"&&y.props.selected||w===-1)&&(w=S),w===S&&(y.props.disabled||y.props.muiSkipListHighlight||y.type.muiSkipListHighlight)&&(w+=1,w>=o.length&&(w=-1))});const x=m.Children.map(o,(y,S)=>{if(S===w){const C={};return r&&(C.autoFocus=!0),y.props.tabIndex===void 0&&u==="selectedMenu"&&(C.tabIndex=0),m.cloneElement(y,C)}return y});return p.jsx(Iu,{role:"menu",ref:b,className:l,onKeyDown:v,tabIndex:n?0:-1,...d,children:x})});function Nu(i){return rt("MuiPopover",i)}et("MuiPopover",["root","paper"]);function Pr(i,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=i.height/2:t==="bottom"&&(e=i.height),e}function kr(i,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=i.width/2:t==="right"&&(e=i.width),e}function Rr(i){return[i.horizontal,i.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Hi(i){return typeof i=="function"?i():i}const Du=i=>{const{classes:t}=i;return tt({root:["root"],paper:["paper"]},Nu,t)},Fu=D(nu,{name:"MuiPopover",slot:"Root",overridesResolver:(i,t)=>t.root})({}),ml=D(rl,{name:"MuiPopover",slot:"Paper",overridesResolver:(i,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ou=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiPopover"}),{action:n,anchorEl:r,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:a="anchorEl",children:c,className:h,container:u,elevation:d=8,marginThreshold:f=16,open:g,PaperProps:v={},slots:b={},slotProps:w={},transformOrigin:x={vertical:"top",horizontal:"left"},TransitionComponent:y,transitionDuration:S="auto",TransitionProps:C={},disableScrollLock:P=!1,..._}=s,R=m.useRef(),I={...s,anchorOrigin:o,anchorReference:a,elevation:d,marginThreshold:f,transformOrigin:x,TransitionComponent:y,transitionDuration:S,TransitionProps:C},F=Du(I),j=m.useCallback(()=>{if(a==="anchorPosition")return l;const Q=Hi(r),q=(Q&&Q.nodeType===1?Q:Dt(R.current).body).getBoundingClientRect();return{top:q.top+Pr(q,o.vertical),left:q.left+kr(q,o.horizontal)}},[r,o.horizontal,o.vertical,l,a]),L=m.useCallback(Q=>({vertical:Pr(Q,x.vertical),horizontal:kr(Q,x.horizontal)}),[x.horizontal,x.vertical]),N=m.useCallback(Q=>{const it={width:Q.offsetWidth,height:Q.offsetHeight},q=L(it);if(a==="none")return{top:null,left:null,transformOrigin:Rr(q)};const Tt=j();let st=Tt.top-q.vertical,vt=Tt.left-q.horizontal;const Qt=st+it.height,Mt=vt+it.width,Pt=ie(Hi(r)),Ht=Pt.innerHeight-f,Ut=Pt.innerWidth-f;if(f!==null&&st<f){const wt=st-f;st-=wt,q.vertical+=wt}else if(f!==null&&Qt>Ht){const wt=Qt-Ht;st-=wt,q.vertical+=wt}if(f!==null&&vt<f){const wt=vt-f;vt-=wt,q.horizontal+=wt}else if(Mt>Ut){const wt=Mt-Ut;vt-=wt,q.horizontal+=wt}return{top:`${Math.round(st)}px`,left:`${Math.round(vt)}px`,transformOrigin:Rr(q)}},[r,a,j,L,f]),[T,z]=m.useState(g),B=m.useCallback(()=>{const Q=R.current;if(!Q)return;const it=N(Q);it.top!==null&&Q.style.setProperty("top",it.top),it.left!==null&&(Q.style.left=it.left),Q.style.transformOrigin=it.transformOrigin,z(!0)},[N]);m.useEffect(()=>(P&&window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B)),[r,P,B]);const A=()=>{B()},X=()=>{z(!1)};m.useEffect(()=>{g&&B()}),m.useImperativeHandle(n,()=>g?{updatePosition:()=>{B()}}:null,[g,B]),m.useEffect(()=>{if(!g)return;const Q=ji(()=>{B()}),it=ie(Hi(r));return it.addEventListener("resize",Q),()=>{Q.clear(),it.removeEventListener("resize",Q)}},[r,g,B]);let $=S;const G={slots:{transition:y,...b},slotProps:{transition:C,paper:v,...w}},[Z,$t]=ot("transition",{elementType:yn,externalForwardedProps:G,ownerState:I,getSlotProps:Q=>({...Q,onEntering:(it,q)=>{var Tt;(Tt=Q.onEntering)==null||Tt.call(Q,it,q),A()},onExited:it=>{var q;(q=Q.onExited)==null||q.call(Q,it),X()}}),additionalProps:{appear:!0,in:g}});S==="auto"&&!Z.muiSupportAuto&&($=void 0);const St=u||(r?Dt(Hi(r)).body:void 0),[at,{slots:U,slotProps:ct,...gt}]=ot("root",{ref:e,elementType:Fu,externalForwardedProps:{...G,..._},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:b.backdrop},slotProps:{backdrop:nl(typeof w.backdrop=="function"?w.backdrop(I):w.backdrop,{invisible:!0})},container:St,open:g},ownerState:I,className:Y(F.root,h)}),[Kt,It]=ot("paper",{ref:R,className:F.paper,elementType:ml,externalForwardedProps:G,shouldForwardComponentProp:!0,additionalProps:{elevation:d,style:T?void 0:{opacity:0}},ownerState:I});return p.jsx(at,{...gt,...!rn(at)&&{slots:U,slotProps:ct,disableScrollLock:P},children:p.jsx(Z,{...$t,timeout:$,children:p.jsx(Kt,{...It,children:c})})})});function ju(i){return rt("MuiMenu",i)}et("MuiMenu",["root","paper","list"]);const Wu={vertical:"top",horizontal:"right"},Vu={vertical:"top",horizontal:"left"},Au=i=>{const{classes:t}=i;return tt({root:["root"],paper:["paper"],list:["list"]},ju,t)},Yu=D(Ou,{shouldForwardProp:i=>Jt(i)||i==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(i,t)=>t.root})({}),Hu=D(ml,{name:"MuiMenu",slot:"Paper",overridesResolver:(i,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Uu=D(Lu,{name:"MuiMenu",slot:"List",overridesResolver:(i,t)=>t.list})({outline:0}),Gu=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiMenu"}),{autoFocus:n=!0,children:r,className:o,disableAutoFocusItem:l=!1,MenuListProps:a={},onClose:c,open:h,PaperProps:u={},PopoverClasses:d,transitionDuration:f="auto",TransitionProps:{onEntering:g,...v}={},variant:b="selectedMenu",slots:w={},slotProps:x={},...y}=s,S=Sn(),C={...s,autoFocus:n,disableAutoFocusItem:l,MenuListProps:a,onEntering:g,PaperProps:u,transitionDuration:f,TransitionProps:v,variant:b},P=Au(C),_=n&&!l&&h,R=m.useRef(null),I=($,G)=>{R.current&&R.current.adjustStyleForScrollbar($,{direction:S?"rtl":"ltr"}),g&&g($,G)},F=$=>{$.key==="Tab"&&($.preventDefault(),c&&c($,"tabKeyDown"))};let j=-1;m.Children.map(r,($,G)=>{m.isValidElement($)&&($.props.disabled||(b==="selectedMenu"&&$.props.selected||j===-1)&&(j=G))});const L={slots:w,slotProps:{list:a,transition:v,paper:u,...x}},N=Ii({elementType:w.root,externalSlotProps:x.root,ownerState:C,className:[P.root,o]}),[T,z]=ot("paper",{className:P.paper,elementType:Hu,externalForwardedProps:L,shouldForwardComponentProp:!0,ownerState:C}),[B,A]=ot("list",{className:Y(P.list,a.className),elementType:Uu,shouldForwardComponentProp:!0,externalForwardedProps:L,getSlotProps:$=>({...$,onKeyDown:G=>{var Z;F(G),(Z=$.onKeyDown)==null||Z.call($,G)}}),ownerState:C}),X=typeof L.slotProps.transition=="function"?L.slotProps.transition(C):L.slotProps.transition;return p.jsx(Yu,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?Wu:Vu,slots:{root:w.root,paper:T,backdrop:w.backdrop,...w.transition&&{transition:w.transition}},slotProps:{root:N,paper:z,backdrop:typeof x.backdrop=="function"?x.backdrop(C):x.backdrop,transition:{...X,onEntering:(...$)=>{var G;I(...$),(G=X==null?void 0:X.onEntering)==null||G.call(X,...$)}}},open:h,ref:e,transitionDuration:f,ownerState:C,...y,classes:d,children:p.jsx(B,{actions:R,autoFocus:n&&(j===-1||l),autoFocusItem:_,variant:b,...A,children:r})})});function Xu(i){return rt("MuiMenuItem",i)}const bi=et("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Ku=(i,t)=>{const{ownerState:e}=i;return[t.root,e.dense&&t.dense,e.divider&&t.divider,!e.disableGutters&&t.gutters]},Qu=i=>{const{disabled:t,dense:e,divider:s,disableGutters:n,selected:r,classes:o}=i,a=tt({root:["root",e&&"dense",t&&"disabled",!n&&"gutters",s&&"divider",r&&"selected"]},Xu,o);return{...o,...a}},qu=D(Ve,{shouldForwardProp:i=>Jt(i)||i==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Ku})(ht(({theme:i})=>({...i.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${bi.selected}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:ft(i.palette.primary.main,i.palette.action.selectedOpacity),[`&.${bi.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:ft(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)}},[`&.${bi.selected}:hover`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:ft(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:ft(i.palette.primary.main,i.palette.action.selectedOpacity)}},[`&.${bi.focusVisible}`]:{backgroundColor:(i.vars||i).palette.action.focus},[`&.${bi.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity},[`& + .${or.root}`]:{marginTop:i.spacing(1),marginBottom:i.spacing(1)},[`& + .${or.inset}`]:{marginLeft:52},[`& .${Cr.root}`]:{marginTop:0,marginBottom:0},[`& .${Cr.inset}`]:{paddingLeft:36},[`& .${Sr.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(i.vars||i).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[i.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...i.typography.body2,[`& .${Sr.root} svg`]:{fontSize:"1.25rem"}}}]}))),gl=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiMenuItem"}),{autoFocus:n=!1,component:r="li",dense:o=!1,divider:l=!1,disableGutters:a=!1,focusVisibleClassName:c,role:h="menuitem",tabIndex:u,className:d,...f}=s,g=m.useContext(on),v=m.useMemo(()=>({dense:o||g.dense||!1,disableGutters:a}),[g.dense,o,a]),b=m.useRef(null);We(()=>{n&&b.current&&b.current.focus()},[n]);const w={...s,dense:v.dense,divider:l,disableGutters:a},x=Qu(s),y=se(b,e);let S;return s.disabled||(S=u!==void 0?u:-1),p.jsx(on.Provider,{value:v,children:p.jsx(qu,{ref:y,role:h,tabIndex:S,component:r,focusVisibleClassName:Y(x.focusVisible,c),className:Y(x.root,d),...f,ownerState:w,classes:x})})});function Zu(i){return rt("MuiNativeSelect",i)}const Pn=et("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Ju=i=>{const{classes:t,variant:e,disabled:s,multiple:n,open:r,error:o}=i,l={select:["select",e,s&&"disabled",n&&"multiple",o&&"error"],icon:["icon",`icon${E(e)}`,r&&"iconOpen",s&&"disabled"]};return tt(l,Zu,t)},vl=D("select",{name:"MuiNativeSelect"})(({theme:i})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Pn.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(i.vars||i).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(i.vars||i).shape.borderRadius,"&:focus":{borderRadius:(i.vars||i).shape.borderRadius},"&&&":{paddingRight:32}}}]})),td=D(vl,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Jt,overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.select,t[e.variant],e.error&&t.error,{[`&.${Pn.multiple}`]:t.multiple}]}})({}),bl=D("svg",{name:"MuiNativeSelect"})(({theme:i})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(i.vars||i).palette.action.active,[`&.${Pn.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),ed=D(bl,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.icon,e.variant&&t[`icon${E(e.variant)}`],e.open&&t.iconOpen]}})({}),id=m.forwardRef(function(t,e){const{className:s,disabled:n,error:r,IconComponent:o,inputRef:l,variant:a="standard",...c}=t,h={...t,disabled:n,variant:a,error:r},u=Ju(h);return p.jsxs(m.Fragment,{children:[p.jsx(td,{ownerState:h,className:Y(u.select,s),disabled:n,ref:l||e,...c}),t.multiple?null:p.jsx(ed,{as:o,ownerState:h,className:u.icon})]})});var _r;const sd=D("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Jt})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),nd=D("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Jt})(ht(({theme:i})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:i.transitions.create("width",{duration:150,easing:i.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:i.transitions.create("max-width",{duration:50,easing:i.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:i.transitions.create("max-width",{duration:100,easing:i.transitions.easing.easeOut,delay:50})}}]})));function rd(i){const{children:t,classes:e,className:s,label:n,notched:r,...o}=i,l=n!=null&&n!=="",a={...i,notched:r,withLabel:l};return p.jsx(sd,{"aria-hidden":!0,className:s,ownerState:a,...o,children:p.jsx(nd,{ownerState:a,children:l?p.jsx("span",{children:n}):_r||(_r=p.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const od=i=>{const{classes:t}=i,s=tt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Ac,t);return{...t,...s}},ld=D(vs,{shouldForwardProp:i=>Jt(i)||i==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:ms})(ht(({theme:i})=>{const t=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(i.vars||i).shape.borderRadius,[`&:hover .${re.notchedOutline}`]:{borderColor:(i.vars||i).palette.text.primary},"@media (hover: none)":{[`&:hover .${re.notchedOutline}`]:{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${re.focused} .${re.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(i.palette).filter(Wt()).map(([e])=>({props:{color:e},style:{[`&.${re.focused} .${re.notchedOutline}`]:{borderColor:(i.vars||i).palette[e].main}}})),{props:{},style:{[`&.${re.error} .${re.notchedOutline}`]:{borderColor:(i.vars||i).palette.error.main},[`&.${re.disabled} .${re.notchedOutline}`]:{borderColor:(i.vars||i).palette.action.disabled}}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:14}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:14}},{props:({ownerState:e})=>e.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:e,size:s})=>e.multiline&&s==="small",style:{padding:"8.5px 14px"}}]}})),ad=D(rd,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(i,t)=>t.notchedOutline})(ht(({theme:i})=>{const t=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),cd=D(bs,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:gs})(ht(({theme:i})=>({padding:"16.5px 14px",...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),wl=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiOutlinedInput"}),{components:n={},fullWidth:r=!1,inputComponent:o="input",label:l,multiline:a=!1,notched:c,slots:h={},slotProps:u={},type:d="text",...f}=s,g=od(s),v=Pe(),b=Qe({props:s,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w={...s,color:b.color||"primary",disabled:b.disabled,error:b.error,focused:b.focused,formControl:v,fullWidth:r,hiddenLabel:b.hiddenLabel,multiline:a,size:b.size,type:d},x=h.root??n.Root??ld,y=h.input??n.Input??cd,[S,C]=ot("notchedOutline",{elementType:ad,className:g.notchedOutline,shouldForwardComponentProp:!0,ownerState:w,externalForwardedProps:{slots:h,slotProps:u},additionalProps:{label:l!=null&&l!==""&&b.required?p.jsxs(m.Fragment,{children:[l," ","*"]}):l}});return p.jsx(Mn,{slots:{root:x,input:y},slotProps:u,renderSuffix:P=>p.jsx(S,{...C,notched:typeof c<"u"?c:!!(P.startAdornment||P.filled||P.focused)}),fullWidth:r,inputComponent:o,multiline:a,ref:e,type:d,...f,classes:{...g,notchedOutline:null}})});wl.muiName="Input";function xl(i){return rt("MuiSelect",i)}const wi=et("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Er;const hd=D(vl,{name:"MuiSelect",slot:"Select",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[{[`&.${wi.select}`]:t.select},{[`&.${wi.select}`]:t[e.variant]},{[`&.${wi.error}`]:t.error},{[`&.${wi.multiple}`]:t.multiple}]}})({[`&.${wi.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),ud=D(bl,{name:"MuiSelect",slot:"Icon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.icon,e.variant&&t[`icon${E(e.variant)}`],e.open&&t.iconOpen]}})({}),dd=D("input",{shouldForwardProp:i=>ec(i)&&i!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(i,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function $r(i,t){return typeof t=="object"&&t!==null?i===t:String(i)===String(t)}function pd(i){return i==null||typeof i=="string"&&!i.trim()}const fd=i=>{const{classes:t,variant:e,disabled:s,multiple:n,open:r,error:o}=i,l={select:["select",e,s&&"disabled",n&&"multiple",o&&"error"],icon:["icon",`icon${E(e)}`,r&&"iconOpen",s&&"disabled"],nativeInput:["nativeInput"]};return tt(l,xl,t)},md=m.forwardRef(function(t,e){var fi;const{"aria-describedby":s,"aria-label":n,autoFocus:r,autoWidth:o,children:l,className:a,defaultOpen:c,defaultValue:h,disabled:u,displayEmpty:d,error:f=!1,IconComponent:g,inputRef:v,labelId:b,MenuProps:w={},multiple:x,name:y,onBlur:S,onChange:C,onClose:P,onFocus:_,onOpen:R,open:I,readOnly:F,renderValue:j,required:L,SelectDisplayProps:N={},tabIndex:T,type:z,value:B,variant:A="standard",...X}=t,[$,G]=nn({controlled:B,default:h,name:"Select"}),[Z,$t]=nn({controlled:I,default:c,name:"Select"}),St=m.useRef(null),at=m.useRef(null),[U,ct]=m.useState(null),{current:gt}=m.useRef(I!=null),[Kt,It]=m.useState(),Q=se(e,v),it=m.useCallback(V=>{at.current=V,V&&ct(V)},[]),q=U==null?void 0:U.parentNode;m.useImperativeHandle(Q,()=>({focus:()=>{at.current.focus()},node:St.current,value:$}),[$]),m.useEffect(()=>{c&&Z&&U&&!gt&&(It(o?null:q.clientWidth),at.current.focus())},[U,o]),m.useEffect(()=>{r&&at.current.focus()},[r]),m.useEffect(()=>{if(!b)return;const V=Dt(at.current).getElementById(b);if(V){const dt=()=>{getSelection().isCollapsed&&at.current.focus()};return V.addEventListener("click",dt),()=>{V.removeEventListener("click",dt)}}},[b]);const Tt=(V,dt)=>{V?R&&R(dt):P&&P(dt),gt||(It(o?null:q.clientWidth),$t(V))},st=V=>{V.button===0&&(V.preventDefault(),at.current.focus(),Tt(!0,V))},vt=V=>{Tt(!1,V)},Qt=m.Children.toArray(l),Mt=V=>{const dt=Qt.find(Ct=>Ct.props.value===V.target.value);dt!==void 0&&(G(dt.props.value),C&&C(V,dt))},Pt=V=>dt=>{let Ct;if(dt.currentTarget.hasAttribute("tabindex")){if(x){Ct=Array.isArray($)?$.slice():[];const fe=$.indexOf(V.props.value);fe===-1?Ct.push(V.props.value):Ct.splice(fe,1)}else Ct=V.props.value;if(V.props.onClick&&V.props.onClick(dt),$!==Ct&&(G(Ct),C)){const fe=dt.nativeEvent||dt,Be=new fe.constructor(fe.type,fe);Object.defineProperty(Be,"target",{writable:!0,value:{value:Ct,name:y}}),C(Be,V)}x||Tt(!1,dt)}},Ht=V=>{F||[" ","ArrowUp","ArrowDown","Enter"].includes(V.key)&&(V.preventDefault(),Tt(!0,V))},Ut=U!==null&&Z,wt=V=>{!Ut&&S&&(Object.defineProperty(V,"target",{writable:!0,value:{value:$,name:y}}),S(V))};delete X["aria-invalid"];let qt,ue;const Rt=[];let ve=!1;(ls({value:$})||d)&&(j?qt=j($):ve=!0);const Ee=Qt.map(V=>{if(!m.isValidElement(V))return null;let dt;if(x){if(!Array.isArray($))throw new Error(qo(2));dt=$.some(Ct=>$r(Ct,V.props.value)),dt&&ve&&Rt.push(V.props.children)}else dt=$r($,V.props.value),dt&&ve&&(ue=V.props.children);return m.cloneElement(V,{"aria-selected":dt?"true":"false",onClick:Pt(V),onKeyUp:Ct=>{Ct.key===" "&&Ct.preventDefault(),V.props.onKeyUp&&V.props.onKeyUp(Ct)},role:"option",selected:dt,value:void 0,"data-value":V.props.value})});ve&&(x?Rt.length===0?qt=null:qt=Rt.reduce((V,dt,Ct)=>(V.push(dt),Ct<Rt.length-1&&V.push(", "),V),[]):qt=ue);let $e=Kt;!o&&gt&&U&&($e=q.clientWidth);let te;typeof T<"u"?te=T:te=u?null:0;const be=N.id||(y?`mui-component-select-${y}`:void 0),de={...t,variant:A,value:$,open:Ut,error:f},ut=fd(de),pe={...w.PaperProps,...(fi=w.slotProps)==null?void 0:fi.paper},Te=Zo();return p.jsxs(m.Fragment,{children:[p.jsx(hd,{as:"div",ref:it,tabIndex:te,role:"combobox","aria-controls":Ut?Te:void 0,"aria-disabled":u?"true":void 0,"aria-expanded":Ut?"true":"false","aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[b,be].filter(Boolean).join(" ")||void 0,"aria-describedby":s,"aria-required":L?"true":void 0,"aria-invalid":f?"true":void 0,onKeyDown:Ht,onMouseDown:u||F?null:st,onBlur:wt,onFocus:_,...N,ownerState:de,className:Y(N.className,ut.select,a),id:be,children:pd(qt)?Er||(Er=p.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):qt}),p.jsx(dd,{"aria-invalid":f,value:Array.isArray($)?$.join(","):$,name:y,ref:St,"aria-hidden":!0,onChange:Mt,tabIndex:-1,disabled:u,className:ut.nativeInput,autoFocus:r,required:L,...X,ownerState:de}),p.jsx(ud,{as:g,className:ut.icon,ownerState:de}),p.jsx(Gu,{id:`menu-${y||""}`,anchorEl:q,open:Ut,onClose:vt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...w,slotProps:{...w.slotProps,list:{"aria-labelledby":b,role:"listbox","aria-multiselectable":x?"true":void 0,disableListWrap:!0,id:Te,...w.MenuListProps},paper:{...pe,style:{minWidth:$e,...pe!=null?pe.style:null}}},children:Ee})]})}),gd=i=>{const{classes:t}=i,s=tt({root:["root"]},xl,t);return{...t,...s}},kn={name:"MuiSelect",overridesResolver:(i,t)=>t.root,shouldForwardProp:i=>Jt(i)&&i!=="variant",slot:"Root"},vd=D(pl,kn)(""),bd=D(wl,kn)(""),wd=D(ul,kn)(""),Rn=m.forwardRef(function(t,e){const s=lt({name:"MuiSelect",props:t}),{autoWidth:n=!1,children:r,classes:o={},className:l,defaultOpen:a=!1,displayEmpty:c=!1,IconComponent:h=Hc,id:u,input:d,inputProps:f,label:g,labelId:v,MenuProps:b,multiple:w=!1,native:x=!1,onClose:y,onOpen:S,open:C,renderValue:P,SelectDisplayProps:_,variant:R="outlined",...I}=s,F=x?id:md,j=Pe(),L=Qe({props:s,muiFormControl:j,states:["variant","error"]}),N=L.variant||R,T={...s,variant:N,classes:o},z=gd(T),{root:B,...A}=z,X=d||{standard:p.jsx(vd,{ownerState:T}),outlined:p.jsx(bd,{label:g,ownerState:T}),filled:p.jsx(wd,{ownerState:T})}[N],$=se(e,ps(X));return p.jsx(m.Fragment,{children:m.cloneElement(X,{inputComponent:F,inputProps:{children:r,error:L.error,IconComponent:h,variant:N,type:void 0,multiple:w,...x?{id:u}:{autoWidth:n,defaultOpen:a,displayEmpty:c,labelId:v,MenuProps:b,onClose:y,onOpen:S,open:C,renderValue:P,SelectDisplayProps:{id:u,..._}},...f,classes:f?xn(A,f.classes):A,...d?d.props.inputProps:{}},...(w&&x||c)&&N==="outlined"?{notched:!0}:{},ref:$,className:Y(X.props.className,l,z.root),...!d&&{variant:N},...I})})});Rn.muiName="Select";function xd(i){return rt("MuiSwitch",i)}const Lt=et("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),yd=i=>{const{classes:t,edge:e,size:s,color:n,checked:r,disabled:o}=i,l={root:["root",e&&`edge${E(e)}`,`size${E(s)}`],switchBase:["switchBase",`color${E(n)}`,r&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},a=tt(l,xd,t);return{...t,...a}},Sd=D("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.edge&&t[`edge${E(e.edge)}`],t[`size${E(e.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Lt.thumb}`]:{width:16,height:16},[`& .${Lt.switchBase}`]:{padding:4,[`&.${Lt.checked}`]:{transform:"translateX(16px)"}}}}]}),Cd=D(hl,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.switchBase,{[`& .${Lt.input}`]:t.input},e.color!=="default"&&t[`color${E(e.color)}`]]}})(ht(({theme:i})=>({position:"absolute",top:0,left:0,zIndex:1,color:i.vars?i.vars.palette.Switch.defaultColor:`${i.palette.mode==="light"?i.palette.common.white:i.palette.grey[300]}`,transition:i.transitions.create(["left","transform"],{duration:i.transitions.duration.shortest}),[`&.${Lt.checked}`]:{transform:"translateX(20px)"},[`&.${Lt.disabled}`]:{color:i.vars?i.vars.palette.Switch.defaultDisabledColor:`${i.palette.mode==="light"?i.palette.grey[100]:i.palette.grey[600]}`},[`&.${Lt.checked} + .${Lt.track}`]:{opacity:.5},[`&.${Lt.disabled} + .${Lt.track}`]:{opacity:i.vars?i.vars.opacity.switchTrackDisabled:`${i.palette.mode==="light"?.12:.2}`},[`& .${Lt.input}`]:{left:"-100%",width:"300%"}})),ht(({theme:i})=>({"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:ft(i.palette.action.active,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(i.palette).filter(Wt(["light"])).map(([t])=>({props:{color:t},style:{[`&.${Lt.checked}`]:{color:(i.vars||i).palette[t].main,"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette[t].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:ft(i.palette[t].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Lt.disabled}`]:{color:i.vars?i.vars.palette.Switch[`${t}DisabledColor`]:`${i.palette.mode==="light"?ic(i.palette[t].main,.62):sc(i.palette[t].main,.55)}`}},[`&.${Lt.checked} + .${Lt.track}`]:{backgroundColor:(i.vars||i).palette[t].main}}}))]}))),Md=D("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(i,t)=>t.track})(ht(({theme:i})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:i.transitions.create(["opacity","background-color"],{duration:i.transitions.duration.shortest}),backgroundColor:i.vars?i.vars.palette.common.onBackground:`${i.palette.mode==="light"?i.palette.common.black:i.palette.common.white}`,opacity:i.vars?i.vars.opacity.switchTrack:`${i.palette.mode==="light"?.38:.3}`}))),Pd=D("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(i,t)=>t.thumb})(ht(({theme:i})=>({boxShadow:(i.vars||i).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),yl=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiSwitch"}),{className:n,color:r="primary",edge:o=!1,size:l="medium",sx:a,slots:c={},slotProps:h={},...u}=s,d={...s,color:r,edge:o,size:l},f=yd(d),g={slots:c,slotProps:h},[v,b]=ot("root",{className:Y(f.root,n),elementType:Sd,externalForwardedProps:g,ownerState:d,additionalProps:{sx:a}}),[w,x]=ot("thumb",{className:f.thumb,elementType:Pd,externalForwardedProps:g,ownerState:d}),y=p.jsx(w,{...x}),[S,C]=ot("track",{className:f.track,elementType:Md,externalForwardedProps:g,ownerState:d});return p.jsxs(v,{...b,children:[p.jsx(Cd,{type:"checkbox",icon:y,checkedIcon:y,ref:e,ownerState:d,...u,classes:{...f,root:f.switchBase},slots:{...c.switchBase&&{root:c.switchBase},...c.input&&{input:c.input}},slotProps:{...h.switchBase&&{root:typeof h.switchBase=="function"?h.switchBase(d):h.switchBase},...h.input&&{input:typeof h.input=="function"?h.input(d):h.input}}}),p.jsx(S,{...C})]})});function kd(i){return rt("MuiTab",i)}const Zt=et("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),Rd=i=>{const{classes:t,textColor:e,fullWidth:s,wrapped:n,icon:r,label:o,selected:l,disabled:a}=i,c={root:["root",r&&o&&"labelIcon",`textColor${E(e)}`,s&&"fullWidth",n&&"wrapped",l&&"selected",a&&"disabled"],icon:["iconWrapper","icon"]};return tt(c,kd,t)},_d=D(Ve,{name:"MuiTab",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.label&&e.icon&&t.labelIcon,t[`textColor${E(e.textColor)}`],e.fullWidth&&t.fullWidth,e.wrapped&&t.wrapped,{[`& .${Zt.iconWrapper}`]:t.iconWrapper},{[`& .${Zt.icon}`]:t.icon}]}})(ht(({theme:i})=>({...i.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:e})=>t.icon&&t.label&&e==="top",style:{[`& > .${Zt.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:e})=>t.icon&&t.label&&e==="bottom",style:{[`& > .${Zt.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:e})=>t.icon&&t.label&&e==="start",style:{[`& > .${Zt.icon}`]:{marginRight:i.spacing(1)}}},{props:({ownerState:t,iconPosition:e})=>t.icon&&t.label&&e==="end",style:{[`& > .${Zt.icon}`]:{marginLeft:i.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Zt.selected}`]:{opacity:1},[`&.${Zt.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(i.vars||i).palette.text.secondary,[`&.${Zt.selected}`]:{color:(i.vars||i).palette.primary.main},[`&.${Zt.disabled}`]:{color:(i.vars||i).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(i.vars||i).palette.text.secondary,[`&.${Zt.selected}`]:{color:(i.vars||i).palette.secondary.main},[`&.${Zt.disabled}`]:{color:(i.vars||i).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:i.typography.pxToRem(12)}}]}))),_n=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiTab"}),{className:n,disabled:r=!1,disableFocusRipple:o=!1,fullWidth:l,icon:a,iconPosition:c="top",indicator:h,label:u,onChange:d,onClick:f,onFocus:g,selected:v,selectionFollowsFocus:b,textColor:w="inherit",value:x,wrapped:y=!1,...S}=s,C={...s,disabled:r,disableFocusRipple:o,selected:v,icon:!!a,iconPosition:c,label:!!u,fullWidth:l,textColor:w,wrapped:y},P=Rd(C),_=a&&u&&m.isValidElement(a)?m.cloneElement(a,{className:Y(P.icon,a.props.className)}):a,R=F=>{!v&&d&&d(F,x),f&&f(F)},I=F=>{b&&!v&&d&&d(F,x),g&&g(F)};return p.jsxs(_d,{focusRipple:!o,className:Y(P.root,n),ref:e,role:"tab","aria-selected":v,disabled:r,onClick:R,onFocus:I,ownerState:C,tabIndex:v?0:-1,...S,children:[c==="top"||c==="start"?p.jsxs(m.Fragment,{children:[_,u]}):p.jsxs(m.Fragment,{children:[u,_]}),h]})}),Ed=Me(p.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),$d=Me(p.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Td(i){return(1+Math.sin(Math.PI*i-Math.PI/2))/2}function Bd(i,t,e,s={},n=()=>{}){const{ease:r=Td,duration:o=300}=s;let l=null;const a=t[i];let c=!1;const h=()=>{c=!0},u=d=>{if(c){n(new Error("Animation cancelled"));return}l===null&&(l=d);const f=Math.min(1,(d-l)/o);if(t[i]=r(f)*(e-a)+a,f>=1){requestAnimationFrame(()=>{n(null)});return}requestAnimationFrame(u)};return a===e?(n(new Error("Element already at target position")),h):(requestAnimationFrame(u),h)}const zd={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Id(i){const{onChange:t,...e}=i,s=m.useRef(),n=m.useRef(null),r=()=>{s.current=n.current.offsetHeight-n.current.clientHeight};return We(()=>{const o=ji(()=>{const a=s.current;r(),a!==s.current&&t(s.current)}),l=ie(n.current);return l.addEventListener("resize",o),()=>{o.clear(),l.removeEventListener("resize",o)}},[t]),m.useEffect(()=>{r(),t(s.current)},[t]),p.jsx("div",{style:zd,...e,ref:n})}function Ld(i){return rt("MuiTabScrollButton",i)}const Nd=et("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Dd=i=>{const{classes:t,orientation:e,disabled:s}=i;return tt({root:["root",e,s&&"disabled"]},Ld,t)},Fd=D(Ve,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.orientation&&t[e.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${Nd.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Od=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiTabScrollButton"}),{className:n,slots:r={},slotProps:o={},direction:l,orientation:a,disabled:c,...h}=s,u=Sn(),d={isRtl:u,...s},f=Dd(d),g=r.StartScrollButtonIcon??Ed,v=r.EndScrollButtonIcon??$d,b=Ii({elementType:g,externalSlotProps:o.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d}),w=Ii({elementType:v,externalSlotProps:o.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d});return p.jsx(Fd,{component:"div",className:Y(f.root,n),ref:e,role:null,ownerState:d,tabIndex:null,...h,style:{...h.style,...a==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${u?-90:90}deg)`}},children:l==="left"?p.jsx(g,{...b}):p.jsx(v,{...w})})});function jd(i){return rt("MuiTabs",i)}const Is=et("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Tr=(i,t)=>i===t?i.firstChild:t&&t.nextElementSibling?t.nextElementSibling:i.firstChild,Br=(i,t)=>i===t?i.lastChild:t&&t.previousElementSibling?t.previousElementSibling:i.lastChild,Ui=(i,t,e)=>{let s=!1,n=e(i,t);for(;n;){if(n===i.firstChild){if(s)return;s=!0}const r=n.disabled||n.getAttribute("aria-disabled")==="true";if(!n.hasAttribute("tabindex")||r)n=e(i,n);else{n.focus();return}}},Wd=i=>{const{vertical:t,fixed:e,hideScrollbar:s,scrollableX:n,scrollableY:r,centered:o,scrollButtonsHideMobile:l,classes:a}=i;return tt({root:["root",t&&"vertical"],scroller:["scroller",e&&"fixed",s&&"hideScrollbar",n&&"scrollableX",r&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",l&&"scrollButtonsHideMobile"],scrollableX:[n&&"scrollableX"],hideScrollbar:[s&&"hideScrollbar"]},jd,a)},Vd=D("div",{name:"MuiTabs",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[{[`& .${Is.scrollButtons}`]:t.scrollButtons},{[`& .${Is.scrollButtons}`]:e.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,e.vertical&&t.vertical]}})(ht(({theme:i})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${Is.scrollButtons}`]:{[i.breakpoints.down("sm")]:{display:"none"}}}}]}))),Ad=D("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.scroller,e.fixed&&t.fixed,e.hideScrollbar&&t.hideScrollbar,e.scrollableX&&t.scrollableX,e.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:i})=>i.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:i})=>i.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:i})=>i.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:i})=>i.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),Yd=D("div",{name:"MuiTabs",slot:"List",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.list,t.flexContainer,e.vertical&&t.flexContainerVertical,e.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:i})=>i.vertical,style:{flexDirection:"column"}},{props:({ownerState:i})=>i.centered,style:{justifyContent:"center"}}]}),Hd=D("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(i,t)=>t.indicator})(ht(({theme:i})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:i.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(i.vars||i).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(i.vars||i).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),Ud=D(Id)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),zr={},En=m.forwardRef(function(t,e){const s=lt({props:t,name:"MuiTabs"}),n=Ce(),r=Sn(),{"aria-label":o,"aria-labelledby":l,action:a,centered:c=!1,children:h,className:u,component:d="div",allowScrollButtonsMobile:f=!1,indicatorColor:g="primary",onChange:v,orientation:b="horizontal",ScrollButtonComponent:w,scrollButtons:x="auto",selectionFollowsFocus:y,slots:S={},slotProps:C={},TabIndicatorProps:P={},TabScrollButtonProps:_={},textColor:R="primary",value:I,variant:F="standard",visibleScrollbar:j=!1,...L}=s,N=F==="scrollable",T=b==="vertical",z=T?"scrollTop":"scrollLeft",B=T?"top":"left",A=T?"bottom":"right",X=T?"clientHeight":"clientWidth",$=T?"height":"width",G={...s,component:d,allowScrollButtonsMobile:f,indicatorColor:g,orientation:b,vertical:T,scrollButtons:x,textColor:R,variant:F,visibleScrollbar:j,fixed:!N,hideScrollbar:N&&!j,scrollableX:N&&!T,scrollableY:N&&T,centered:c&&!N,scrollButtonsHideMobile:!f},Z=Wd(G),$t=Ii({elementType:S.StartScrollButtonIcon,externalSlotProps:C.startScrollButtonIcon,ownerState:G}),St=Ii({elementType:S.EndScrollButtonIcon,externalSlotProps:C.endScrollButtonIcon,ownerState:G}),[at,U]=m.useState(!1),[ct,gt]=m.useState(zr),[Kt,It]=m.useState(!1),[Q,it]=m.useState(!1),[q,Tt]=m.useState(!1),[st,vt]=m.useState({overflow:"hidden",scrollbarWidth:0}),Qt=new Map,Mt=m.useRef(null),Pt=m.useRef(null),Ht={slots:S,slotProps:{indicator:P,scrollButton:_,...C}},Ut=()=>{const O=Mt.current;let W;if(O){const nt=O.getBoundingClientRect();W={clientWidth:O.clientWidth,scrollLeft:O.scrollLeft,scrollTop:O.scrollTop,scrollWidth:O.scrollWidth,top:nt.top,bottom:nt.bottom,left:nt.left,right:nt.right}}let J;if(O&&I!==!1){const nt=Pt.current.children;if(nt.length>0){const bt=nt[Qt.get(I)];J=bt?bt.getBoundingClientRect():null}}return{tabsMeta:W,tabMeta:J}},wt=De(()=>{const{tabsMeta:O,tabMeta:W}=Ut();let J=0,nt;T?(nt="top",W&&O&&(J=W.top-O.top+O.scrollTop)):(nt=r?"right":"left",W&&O&&(J=(r?-1:1)*(W[nt]-O[nt]+O.scrollLeft)));const bt={[nt]:J,[$]:W?W[$]:0};if(typeof ct[nt]!="number"||typeof ct[$]!="number")gt(bt);else{const ne=Math.abs(ct[nt]-bt[nt]),ze=Math.abs(ct[$]-bt[$]);(ne>=1||ze>=1)&&gt(bt)}}),qt=(O,{animation:W=!0}={})=>{W?Bd(z,Mt.current,O,{duration:n.transitions.duration.standard}):Mt.current[z]=O},ue=O=>{let W=Mt.current[z];T?W+=O:W+=O*(r?-1:1),qt(W)},Rt=()=>{const O=Mt.current[X];let W=0;const J=Array.from(Pt.current.children);for(let nt=0;nt<J.length;nt+=1){const bt=J[nt];if(W+bt[X]>O){nt===0&&(W=O);break}W+=bt[X]}return W},ve=()=>{ue(-1*Rt())},Ee=()=>{ue(Rt())},[$e,{onChange:te,...be}]=ot("scrollbar",{className:Y(Z.scrollableX,Z.hideScrollbar),elementType:Ud,shouldForwardComponentProp:!0,externalForwardedProps:Ht,ownerState:G}),de=m.useCallback(O=>{te==null||te(O),vt({overflow:null,scrollbarWidth:O})},[te]),[ut,pe]=ot("scrollButtons",{className:Y(Z.scrollButtons,_.className),elementType:Od,externalForwardedProps:Ht,ownerState:G,additionalProps:{orientation:b,slots:{StartScrollButtonIcon:S.startScrollButtonIcon||S.StartScrollButtonIcon,EndScrollButtonIcon:S.endScrollButtonIcon||S.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:$t,endScrollButtonIcon:St}}}),Te=()=>{const O={};O.scrollbarSizeListener=N?p.jsx($e,{...be,onChange:de}):null;const J=N&&(x==="auto"&&(Kt||Q)||x===!0);return O.scrollButtonStart=J?p.jsx(ut,{direction:r?"right":"left",onClick:ve,disabled:!Kt,...pe}):null,O.scrollButtonEnd=J?p.jsx(ut,{direction:r?"left":"right",onClick:Ee,disabled:!Q,...pe}):null,O},fi=De(O=>{const{tabsMeta:W,tabMeta:J}=Ut();if(!(!J||!W)){if(J[B]<W[B]){const nt=W[z]+(J[B]-W[B]);qt(nt,{animation:O})}else if(J[A]>W[A]){const nt=W[z]+(J[A]-W[A]);qt(nt,{animation:O})}}}),V=De(()=>{N&&x!==!1&&Tt(!q)});m.useEffect(()=>{const O=ji(()=>{Mt.current&&wt()});let W;const J=ne=>{ne.forEach(ze=>{ze.removedNodes.forEach(mi=>{W==null||W.unobserve(mi)}),ze.addedNodes.forEach(mi=>{W==null||W.observe(mi)})}),O(),V()},nt=ie(Mt.current);nt.addEventListener("resize",O);let bt;return typeof ResizeObserver<"u"&&(W=new ResizeObserver(O),Array.from(Pt.current.children).forEach(ne=>{W.observe(ne)})),typeof MutationObserver<"u"&&(bt=new MutationObserver(J),bt.observe(Pt.current,{childList:!0})),()=>{O.clear(),nt.removeEventListener("resize",O),bt==null||bt.disconnect(),W==null||W.disconnect()}},[wt,V]),m.useEffect(()=>{const O=Array.from(Pt.current.children),W=O.length;if(typeof IntersectionObserver<"u"&&W>0&&N&&x!==!1){const J=O[0],nt=O[W-1],bt={root:Mt.current,threshold:.99},ne=$s=>{It(!$s[0].isIntersecting)},ze=new IntersectionObserver(ne,bt);ze.observe(J);const mi=$s=>{it(!$s[0].isIntersecting)},ir=new IntersectionObserver(mi,bt);return ir.observe(nt),()=>{ze.disconnect(),ir.disconnect()}}},[N,x,q,h==null?void 0:h.length]),m.useEffect(()=>{U(!0)},[]),m.useEffect(()=>{wt()}),m.useEffect(()=>{fi(zr!==ct)},[fi,ct]),m.useImperativeHandle(a,()=>({updateIndicator:wt,updateScrollButtons:V}),[wt,V]);const[dt,Ct]=ot("indicator",{className:Y(Z.indicator,P.className),elementType:Hd,externalForwardedProps:Ht,ownerState:G,additionalProps:{style:ct}}),fe=p.jsx(dt,{...Ct});let Be=0;const Ea=m.Children.map(h,O=>{if(!m.isValidElement(O))return null;const W=O.props.value===void 0?Be:O.props.value;Qt.set(W,Be);const J=W===I;return Be+=1,m.cloneElement(O,{fullWidth:F==="fullWidth",indicator:J&&!at&&fe,selected:J,selectionFollowsFocus:y,onChange:v,textColor:R,value:W,...Be===1&&I===!1&&!O.props.tabIndex?{tabIndex:0}:{}})}),$a=O=>{if(O.altKey||O.shiftKey||O.ctrlKey||O.metaKey)return;const W=Pt.current,J=Dt(W).activeElement;if(J.getAttribute("role")!=="tab")return;let bt=b==="horizontal"?"ArrowLeft":"ArrowUp",ne=b==="horizontal"?"ArrowRight":"ArrowDown";switch(b==="horizontal"&&r&&(bt="ArrowRight",ne="ArrowLeft"),O.key){case bt:O.preventDefault(),Ui(W,J,Br);break;case ne:O.preventDefault(),Ui(W,J,Tr);break;case"Home":O.preventDefault(),Ui(W,null,Tr);break;case"End":O.preventDefault(),Ui(W,null,Br);break}},Es=Te(),[Ta,Ba]=ot("root",{ref:e,className:Y(Z.root,u),elementType:Vd,externalForwardedProps:{...Ht,...L,component:d},ownerState:G}),[za,Ia]=ot("scroller",{ref:Mt,className:Z.scroller,elementType:Ad,externalForwardedProps:Ht,ownerState:G,additionalProps:{style:{overflow:st.overflow,[T?`margin${r?"Left":"Right"}`:"marginBottom"]:j?void 0:-st.scrollbarWidth}}}),[La,Na]=ot("list",{ref:Pt,className:Y(Z.list,Z.flexContainer),elementType:Yd,externalForwardedProps:Ht,ownerState:G,getSlotProps:O=>({...O,onKeyDown:W=>{var J;$a(W),(J=O.onKeyDown)==null||J.call(O,W)}})});return p.jsxs(Ta,{...Ba,children:[Es.scrollButtonStart,Es.scrollbarSizeListener,p.jsxs(za,{...Ia,children:[p.jsx(La,{"aria-label":o,"aria-labelledby":l,"aria-orientation":b==="vertical"?"vertical":null,role:"tablist",...Na,children:Ea}),at&&fe]}),Es.scrollButtonEnd]})}),Gd=Me(p.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"}),"Circle"),Xd=({ref:i,threshold:t=0,once:e=!1,margin:s,initialVisibility:n=!1})=>{const[r,o]=m.useState(n),[l,a]=m.useState();return m.useEffect(()=>{if(!i.current)return;const c=new IntersectionObserver(([h])=>{const{isIntersecting:u,intersectionRatio:d}=h;o(u),a(d),e&&u&&c.disconnect()},{threshold:t,rootMargin:s});return c.observe(i.current),()=>{c.disconnect()}},[i,t,e,s]),{isOnScreen:r,visibilityRatio:l}},$n=i=>Object.keys(i),Kd=i=>Object.entries(i),Sl=i=>new Array(i).fill(0),Qd=i=>`data:image/svg+xml,${encodeURIComponent(i)}`,Gi=i=>Object.prototype.toString.call(i)==="[object Object]",Cl=(i,t)=>{if(!Gi(i))throw new TypeError(`Target must be a plain object, got ${typeof i}`);if(!Gi(t))throw new TypeError(`Source must be a plain object, got ${typeof t}`);const e=structuredClone(i);for(const s in t){if(!Object.prototype.hasOwnProperty.call(t,s))continue;const n=t[s],r=i[s];Gi(n)&&Gi(r)?e[s]=Cl(r,n):e[s]=n}return e},qd=i=>new Promise(t=>setTimeout(t,i)),Zd=i=>{const t=i.replace(/^#/,""),e=parseInt(t.substring(0,2),16),s=parseInt(t.substring(2,4),16),n=parseInt(t.substring(4,6),16);return .299*e+.587*s+.114*n>150?M.black:M.white},ui={autoSize:!0,layout:{attributionLogo:!1,fontFamily:"Roboto",background:{color:"transparent"},textColor:M.blue},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},crosshair:{vertLine:{style:3,color:M.gray},horzLine:{style:3,color:M.gray}}},Gt=i=>Cl(ui,i),Tn="ukorvl/lightweight-charts-react-components/tree/main/examples/src/samples",jt=`https://github.com/${Tn}`,Jd="https://codesandbox.io/s",tp="https://stackblitz.com",Ls=`${Jd}/github/${Tn}`,Ns=`${tp}/github/${Tn}`,At={BasicSeries:{github:`${jt}/BasicSeries`,codesandbox:`${Ls}/BasicSeries/sandbox`,stackblitz:`${Ns}/BasicSeries/sandbox`},CustomSeries:{github:`${jt}/CustomSeries`,codesandbox:"",stackblitz:""},RangeSwitcher:{github:`${jt}/RangeSwitcher`,codesandbox:"",stackblitz:""},Markers:{github:`${jt}/Markers`,codesandbox:"",stackblitz:""},Watermark:{github:`${jt}/Watermark`,codesandbox:"",stackblitz:""},Legend:{github:`${jt}/Legend`,codesandbox:"",stackblitz:""},CompareSeries:{github:`${jt}/CompareSeries`,codesandbox:"",stackblitz:""},Scales:{github:`${jt}/Scales`,codesandbox:"",stackblitz:""},Tooltips:{github:`${jt}/Tooltips`,codesandbox:"",stackblitz:""},Panes:{github:`${jt}/Panes`,codesandbox:`${Ls}/Panes/sandbox`,stackblitz:`${Ns}/Panes/sandbox`},InfiniteData:{github:`${jt}/InfiniteData`,codesandbox:"",stackblitz:""},PriceLines:{github:`${jt}/PriceLines`,codesandbox:"",stackblitz:""},Primitives:{github:`${jt}/Primitives`,codesandbox:"",stackblitz:""},RealTime:{github:`${jt}/RealTime`,codesandbox:`${Ls}/RealTime/sandbox`,stackblitz:`${Ns}/RealTime/sandbox`}},ep=m.createContext(null),Ds={didCatch:!1,error:null};class ip extends m.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Ds}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var e,s,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=(s=this.props).onReset)===null||e===void 0||e.call(s,{args:r,reason:"imperative-api"}),this.setState(Ds)}}componentDidCatch(t,e){var s,n;(s=(n=this.props).onError)===null||s===void 0||s.call(n,t,e)}componentDidUpdate(t,e){const{didCatch:s}=this.state,{resetKeys:n}=this.props;if(s&&e.error!==null&&sp(t.resetKeys,n)){var r,o;(r=(o=this.props).onReset)===null||r===void 0||r.call(o,{next:n,prev:t.resetKeys,reason:"keys"}),this.setState(Ds)}}render(){const{children:t,fallbackRender:e,FallbackComponent:s,fallback:n}=this.props,{didCatch:r,error:o}=this.state;let l=t;if(r){const a={error:o,resetErrorBoundary:this.resetErrorBoundary};if(typeof e=="function")l=e(a);else if(s)l=m.createElement(s,a);else if(n!==void 0)l=n;else throw o}return m.createElement(ep.Provider,{value:{didCatch:r,error:o,resetErrorBoundary:this.resetErrorBoundary}},l)}}function sp(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return i.length!==t.length||i.some((e,s)=>!Object.is(e,t[s]))}const np=i=>p.jsx(Jo,{...i,children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[p.jsx("title",{children:"Codesandbox icon"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:`M2 6l10.455-6L22.91 6 23 17.95 12.455 24 2 18V6zm2.088 2.481v4.757l3.345
        1.86v3.516l3.972 2.296v-8.272L4.088 8.481zm16.739 0l-7.317
        4.157v8.272l3.972-2.296V15.1l3.345-1.861V8.48zM5.134 6.601l7.303 4.144
        7.32-4.18-3.871-2.197-3.41 1.945-3.43-1.968L5.133 6.6zz`})]})}),rp=i=>p.jsx(Jo,{...i,children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"1em",height:"1em",fill:"none",stroke:"currentColor",children:[p.jsx("title",{children:"Stackblitz icon"}),p.jsx("path",{d:"M5.853 18.647h8.735L9.45 31l16.697-17.647h-8.735L22.55 1z"})]})}),Fs=({tooltipDisabledTitle:i,tooltipTitle:t,children:e,href:s,disabled:n=!1,isExternal:r=!0,hrefTarget:o="_blank"})=>p.jsx(rc,{title:n?i:t,placement:"bottom",children:p.jsx(oc,{href:n?void 0:s,target:n?void 0:o,rel:r?"noopener noreferrer":void 0,color:n?"textDisabled":"secondary",children:e})}),op=({sampleConfig:{github:i,codesandbox:t,stackblitz:e}})=>p.jsxs(Ae,{direction:"row",spacing:1.5,children:[p.jsx(Fs,{disabled:!i,tooltipTitle:"Open the source in GitHub",tooltipDisabledTitle:"Source not available",href:i,children:p.jsx(nc,{})}),p.jsx(Fs,{disabled:!t,tooltipTitle:"View in CodeSandbox",tooltipDisabledTitle:"CodeSandbox not available",href:t,children:p.jsx(np,{})}),p.jsx(Fs,{disabled:!e,tooltipTitle:"Edit in StackBlitz",tooltipDisabledTitle:"StackBlitz not available",href:e,children:p.jsx(rp,{inheritViewBox:!0})})]}),lp=({error:i})=>{const{message:t}=i;return p.jsxs(Ae,{justifyContent:"center",alignItems:"center",flexGrow:1,textAlign:"center",children:[p.jsx(mt,{variant:"h6",color:"info",children:"An error occurred while rendering this example:"}),p.jsx(mt,{color:"error",fontFamily:"Roboto Mono, monospace",mt:1,children:t})]})},Yt=({children:i,title:t,subTitle:e,sampleConfig:s})=>p.jsxs(dh,{sx:{minWidth:275,borderRadius:3,height:{xs:480,md:575},display:"flex",flexDirection:"column"},children:[p.jsx(Ch,{title:t,subheader:e,action:p.jsx(op,{sampleConfig:s})}),p.jsx(gh,{sx:{display:"flex",flexDirection:"column",flexGrow:1},children:p.jsx(ip,{fallbackRender:lp,children:i})})]});function pt(i){var t=i.width,e=i.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(e<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:e}}function Oe(i,t){return i.width===t.width&&i.height===t.height}var ap=function(){function i(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return i.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(i.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),i.prototype.subscribe=function(t){var e=this,s={next:t};return this._observers.push(s),{unsubscribe:function(){e._observers=e._observers.filter(function(n){return n!==s})}}},i.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},i.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},i.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},i.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},i}();function cp(i){return new ap(i)}var hp=function(){function i(t,e,s){var n;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=pt({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=e??function(r){return r},this._allowResizeObserver=(n=s==null?void 0:s.allowResizeObserver)!==null&&n!==void 0?n:!0,this._chooseAndInitObserver()}return i.prototype.dispose=function(){var t,e;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(e=this._devicePixelRatioObservable)===null||e===void 0||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(i.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bitmapSize",{get:function(){return pt({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),i.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=pt(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},i.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},i.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(i.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),i.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},i.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},i.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},i.prototype._resizeBitmap=function(t){var e=this.bitmapSize;Oe(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},i.prototype._emitBitmapSizeChanged=function(t,e){var s=this;this._bitmapSizeChangedListeners.forEach(function(n){return n.call(s,t,e)})},i.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,s=pt(this._transformBitmapSize(t,this._canvasElementClientSize)),n=Oe(this.bitmapSize,s)?null:s;e===null&&n===null||e!==null&&n!==null&&Oe(e,n)||(this._suggestedBitmapSize=n,this._emitSuggestedBitmapSizeChanged(e,n))},i.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var s=this;this._suggestedBitmapSizeChangedListeners.forEach(function(n){return n.call(s,t,e)})},i.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}dp().then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})},i.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var e=Ir(this._canvasElement);if(e===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=cp(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},i.prototype._invalidateBitmapSize=function(){var t,e;if(this._canvasElement!==null){var s=Ir(this._canvasElement);if(s!==null){var n=(e=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&e!==void 0?e:s.devicePixelRatio,r=this._canvasElement.getClientRects(),o=r[0]!==void 0?pp(r[0],n):pt({width:this._canvasElementClientSize.width*n,height:this._canvasElementClientSize.height*n});this._suggestNewBitmapSize(o)}}},i.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var s=e.find(function(o){return o.target===t._canvasElement});if(!(!s||!s.devicePixelContentBoxSize||!s.devicePixelContentBoxSize[0])){var n=s.devicePixelContentBoxSize[0],r=pt({width:n.inlineSize,height:n.blockSize});t._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},i}();function up(i,t){return new hp(i,t.transform,t.options)}function Ir(i){return i.ownerDocument.defaultView}function dp(){return new Promise(function(i){var t=new ResizeObserver(function(e){i(e.every(function(s){return"devicePixelContentBoxSize"in s})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function pp(i,t){return pt({width:Math.round(i.left*t+i.width*t)-Math.round(i.left*t),height:Math.round(i.top*t+i.height*t)-Math.round(i.top*t)})}var fp=function(){function i(t,e,s){if(e.width===0||e.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,s.width===0||s.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=s,this._context=t}return i.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},i.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(i.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),i}();function Ye(i,t){var e=i.canvasElementClientSize;if(e.width===0||e.height===0)return null;var s=i.bitmapSize;if(s.width===0||s.height===0)return null;var n=i.canvasElement.getContext("2d",t);return n===null?null:new fp(n,e,s)}/*!
 * @license
 * TradingView Lightweight Charts™ v5.0.8
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const Ml={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Lr,Nr;function He(i,t){const e={0:[],1:[i.lineWidth,i.lineWidth],2:[2*i.lineWidth,2*i.lineWidth],3:[6*i.lineWidth,6*i.lineWidth],4:[i.lineWidth,4*i.lineWidth]}[t];i.setLineDash(e)}function Pl(i,t,e,s){i.beginPath();const n=i.lineWidth%2?.5:0;i.moveTo(e,t+n),i.lineTo(s,t+n),i.stroke()}function Et(i,t){if(!i)throw new Error("Assertion failed"+(t?": "+t:""))}function Vt(i){if(i===void 0)throw new Error("Value is undefined");return i}function k(i){if(i===null)throw new Error("Value is null");return i}function ye(i){return k(Vt(i))}(function(i){i[i.Simple=0]="Simple",i[i.WithSteps=1]="WithSteps",i[i.Curved=2]="Curved"})(Lr||(Lr={})),function(i){i[i.Solid=0]="Solid",i[i.Dotted=1]="Dotted",i[i.Dashed=2]="Dashed",i[i.LargeDashed=3]="LargeDashed",i[i.SparseDotted=4]="SparseDotted"}(Nr||(Nr={}));let xt=class{constructor(){this.t=[]}i(t,e,s){const n={h:t,l:e,o:s===!0};this.t.push(n)}_(t){const e=this.t.findIndex(s=>t===s.h);e>-1&&this.t.splice(e,1)}u(t){this.t=this.t.filter(e=>e.l!==t)}p(t,e,s){const n=[...this.t];this.t=this.t.filter(r=>!r.o),n.forEach(r=>r.h(t,e,s))}v(){return this.t.length>0}m(){this.t=[]}};function Xt(i,...t){for(const e of t)for(const s in e)e[s]!==void 0&&Object.prototype.hasOwnProperty.call(e,s)&&!["__proto__","constructor","prototype"].includes(s)&&(typeof e[s]!="object"||i[s]===void 0||Array.isArray(e[s])?i[s]=e[s]:Xt(i[s],e[s]));return i}function Ue(i){return typeof i=="number"&&isFinite(i)}function Li(i){return typeof i=="number"&&i%1==0}function Wi(i){return typeof i=="string"}function Xi(i){return typeof i=="boolean"}function me(i){const t=i;if(!t||typeof t!="object")return t;let e,s,n;for(s in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(s)&&(n=t[s],e[s]=n&&typeof n=="object"?me(n):n);return e}function mp(i){return i!==null}function Ni(i){return i===null?void 0:i}const Bn="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function oi(i,t,e){return t===void 0&&(t=Bn),`${e=e!==void 0?`${e} `:""}${i}px ${t}`}let gp=class{constructor(t){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,I:0,B:0,A:0,L:0},this.O=t}N(){const t=this.M,e=this.F(),s=this.W();return t.P===e&&t.T===s||(t.P=e,t.T=s,t.k=oi(e,s),t.A=2.5/12*e,t.V=t.A,t.I=e/12*t.C,t.B=e/12*t.C,t.L=0),t.R=this.H(),t.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}};function Os(i){return i<0?0:i>255?255:Math.round(i)||0}function Dr(i){return .199*i[0]+.687*i[1]+.114*i[2]}let vp=class{constructor(t,e){this.q=new Map,this.Y=t,e&&(this.q=e)}j(t,e){if(t==="transparent")return t;const s=this.K(t),n=s[3];return`rgba(${s[0]}, ${s[1]}, ${s[2]}, ${e*n})`}X(t){const e=this.K(t);return{Z:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,G:Dr(e)>160?"black":"white"}}J(t){return Dr(this.K(t))}tt(t,e,s){const[n,r,o,l]=this.K(t),[a,c,h,u]=this.K(e),d=[Os(n+s*(a-n)),Os(r+s*(c-r)),Os(o+s*(h-o)),(f=l+s*(u-l),f<=0||f>1?Math.min(Math.max(f,0),1):Math.round(1e4*f)/1e4)];var f;return`rgba(${d[0]}, ${d[1]}, ${d[2]}, ${d[3]})`}K(t){const e=this.q.get(t);if(e)return e;const s=function(o){const l=document.createElement("div");l.style.display="none",document.body.appendChild(l),l.style.color=o;const a=window.getComputedStyle(l).color;return document.body.removeChild(l),a}(t),n=s.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!n){if(this.Y.length)for(const o of this.Y){const l=o(t);if(l)return this.q.set(t,l),l}throw new Error(`Failed to parse color: ${t}`)}const r=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),n[4]?parseFloat(n[4]):1];return this.q.set(t,r),r}},zn=class{constructor(){this.it=[]}st(t){this.it=t}nt(t,e,s){this.it.forEach(n=>{n.nt(t,e,s)})}},he=class{nt(t,e,s){t.useBitmapCoordinateSpace(n=>this.et(n,e,s))}},bp=class extends he{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.rt===null||this.rt.lt===null)return;const n=this.rt.lt,r=this.rt,o=Math.max(1,Math.floor(e))%2/2,l=a=>{t.beginPath();for(let c=n.to-1;c>=n.from;--c){const h=r.ot[c],u=Math.round(h._t*e)+o,d=h.ut*s,f=a*s+o;t.moveTo(u,d),t.arc(u,d,f,0,2*Math.PI)}t.fill()};r.ct>0&&(t.fillStyle=r.dt,l(r.ft+r.ct)),t.fillStyle=r.vt,l(r.ft)}};function wp(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const xp={from:0,to:1};let yp=class{constructor(t,e,s){this.Mt=new zn,this.bt=[],this.St=[],this.xt=!0,this.O=t,this.Ct=e,this.Pt=s,this.Mt.st(this.bt)}kt(t){this.yt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}yt(){const t=this.Pt.Dt();t.length!==this.bt.length&&(this.St=t.map(wp),this.bt=this.St.map(e=>{const s=new bp;return s.ht(e),s}),this.Mt.st(this.bt))}Rt(){const t=this.Ct.N().mode===2||!this.Ct.Vt(),e=this.Pt.It(),s=this.Ct.Bt(),n=this.O.Et();this.yt(),e.forEach((r,o)=>{const l=this.St[o],a=r.At(s),c=r.zt();!t&&a!==null&&r.Vt()&&c!==null?(l.vt=a.Lt,l.ft=a.ft,l.ct=a.Ot,l.ot[0].gt=a.gt,l.ot[0].ut=r.Ft().Nt(a.gt,c.Wt),l.dt=a.Ht??this.O.Ut(l.ot[0].ut/r.Ft().$t()),l.ot[0].wt=s,l.ot[0]._t=n.qt(s),l.lt=xp):l.lt=null})}},Sp=class extends he{constructor(t){super(),this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(this.Yt===null)return;const r=this.Yt.jt.Vt,o=this.Yt.Kt.Vt;if(!r&&!o)return;const l=Math.round(this.Yt._t*s),a=Math.round(this.Yt.ut*n);t.lineCap="butt",r&&l>=0&&(t.lineWidth=Math.floor(this.Yt.jt.ct*s),t.strokeStyle=this.Yt.jt.R,t.fillStyle=this.Yt.jt.R,He(t,this.Yt.jt.Xt),function(c,h,u,d){c.beginPath();const f=c.lineWidth%2?.5:0;c.moveTo(h+f,u),c.lineTo(h+f,d),c.stroke()}(t,l,0,e.height)),o&&a>=0&&(t.lineWidth=Math.floor(this.Yt.Kt.ct*n),t.strokeStyle=this.Yt.Kt.R,t.fillStyle=this.Yt.Kt.R,He(t,this.Yt.Kt.Xt),Pl(t,a,0,e.width))}},Cp=class{constructor(t,e){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new Sp(this.Zt),this.Jt=t,this.Pt=e}kt(){this.xt=!0}Tt(t){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const t=this.Jt.Vt(),e=this.Pt.Qt().N().crosshair,s=this.Zt;if(e.mode===2)return s.Kt.Vt=!1,void(s.jt.Vt=!1);s.Kt.Vt=t&&this.Jt.ti(this.Pt),s.jt.Vt=t&&this.Jt.ii(),s.Kt.ct=e.horzLine.width,s.Kt.Xt=e.horzLine.style,s.Kt.R=e.horzLine.color,s.jt.ct=e.vertLine.width,s.jt.Xt=e.vertLine.style,s.jt.R=e.vertLine.color,s._t=this.Jt.si(),s.ut=this.Jt.ni()}};function Mp(i,t,e,s,n,r){i.fillRect(t+r,e,s-2*r,r),i.fillRect(t+r,e+n-r,s-2*r,r),i.fillRect(t,e,r,n),i.fillRect(t+s-r,e,r,n)}function xs(i,t,e,s,n,r){i.save(),i.globalCompositeOperation="copy",i.fillStyle=r,i.fillRect(t,e,s,n),i.restore()}function Fr(i,t,e,s,n,r){i.beginPath(),i.roundRect?i.roundRect(t,e,s,n,r):(i.lineTo(t+s-r[1],e),r[1]!==0&&i.arcTo(t+s,e,t+s,e+r[1],r[1]),i.lineTo(t+s,e+n-r[2]),r[2]!==0&&i.arcTo(t+s,e+n,t+s-r[2],e+n,r[2]),i.lineTo(t+r[3],e+n),r[3]!==0&&i.arcTo(t,e+n,t,e+n-r[3],r[3]),i.lineTo(t,e+r[0]),r[0]!==0&&i.arcTo(t,e,t+r[0],e,r[0]))}function Or(i,t,e,s,n,r,o=0,l=[0,0,0,0],a=""){if(i.save(),!o||!a||a===r)return Fr(i,t,e,s,n,l),i.fillStyle=r,i.fill(),void i.restore();const c=o/2;var h;Fr(i,t+c,e+c,s-o,n-o,(h=-c,l.map(u=>u===0?u:u+h))),r!=="transparent"&&(i.fillStyle=r,i.fill()),a!=="transparent"&&(i.lineWidth=o,i.strokeStyle=a,i.closePath(),i.stroke()),i.restore()}function kl(i,t,e,s,n,r,o){i.save(),i.globalCompositeOperation="copy";const l=i.createLinearGradient(0,0,0,n);l.addColorStop(0,r),l.addColorStop(1,o),i.fillStyle=l,i.fillRect(t,e,s,n),i.restore()}let jr=class{constructor(t,e){this.ht(t,e)}ht(t,e){this.Yt=t,this.ei=e}$t(t,e){return this.Yt.Vt?t.P+t.A+t.V:0}nt(t,e,s,n){if(!this.Yt.Vt||this.Yt.ri.length===0)return;const r=this.Yt.R,o=this.ei.Z,l=t.useBitmapCoordinateSpace(a=>{const c=a.context;c.font=e.k;const h=this.hi(a,e,s,n),u=h.ai;return h.li?Or(c,u.oi,u._i,u.ui,u.ci,o,u.di,[u.ft,0,0,u.ft],o):Or(c,u.fi,u._i,u.ui,u.ci,o,u.di,[0,u.ft,u.ft,0],o),this.Yt.pi&&(c.fillStyle=r,c.fillRect(u.fi,u.mi,u.wi-u.fi,u.gi)),this.Yt.Mi&&(c.fillStyle=e.D,c.fillRect(h.li?u.bi-u.di:0,u._i,u.di,u.Si-u._i)),h});t.useMediaCoordinateSpace(({context:a})=>{const c=l.xi;a.font=e.k,a.textAlign=l.li?"right":"left",a.textBaseline="middle",a.fillStyle=r,a.fillText(this.Yt.ri,c.Ci,(c._i+c.Si)/2+c.Pi)})}hi(t,e,s,n){const{context:r,bitmapSize:o,mediaSize:l,horizontalPixelRatio:a,verticalPixelRatio:c}=t,h=this.Yt.pi||!this.Yt.ki?e.C:0,u=this.Yt.yi?e.S:0,d=e.A+this.ei.Ti,f=e.V+this.ei.Ri,g=e.I,v=e.B,b=this.Yt.ri,w=e.P,x=s.Di(r,b),y=Math.ceil(s.Vi(r,b)),S=w+d+f,C=e.S+g+v+y+h,P=Math.max(1,Math.floor(c));let _=Math.round(S*c);_%2!=P%2&&(_+=1);const R=u>0?Math.max(1,Math.floor(u*a)):0,I=Math.round(C*a),F=Math.round(h*a),j=this.ei.Ii??this.ei.Bi,L=Math.round(j*c)-Math.floor(.5*c),N=Math.floor(L+P/2-_/2),T=N+_,z=n==="right",B=z?l.width-u:u,A=z?o.width-R:R;let X,$,G;return z?(X=A-I,$=A-F,G=B-h-g-u):(X=A+I,$=A+F,G=B+h+g),{li:z,ai:{_i:N,mi:L,Si:T,ui:I,ci:_,ft:2*a,di:R,oi:X,fi:A,wi:$,gi:P,bi:o.width},xi:{_i:N/c,Si:T/c,Ci:G,Pi:x}}}},ys=class{constructor(t){this.Ei={Bi:0,Z:"#000",Ri:0,Ti:0},this.Ai={ri:"",Vt:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,yi:!1},this.zi={ri:"",Vt:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,yi:!0},this.xt=!0,this.Li=new(t||jr)(this.Ai,this.Ei),this.Oi=new(t||jr)(this.zi,this.Ei)}ri(){return this.Ni(),this.Ai.ri}Bi(){return this.Ni(),this.Ei.Bi}kt(){this.xt=!0}$t(t,e=!1){return Math.max(this.Li.$t(t,e),this.Oi.$t(t,e))}Fi(){return this.Ei.Ii||0}Wi(t){this.Ei.Ii=t}Hi(){return this.Ni(),this.Ai.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ai.Vt}Tt(t){return this.Ni(),this.Ai.pi=this.Ai.pi&&t.N().ticksVisible,this.zi.pi=this.zi.pi&&t.N().ticksVisible,this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Oi}Ni(){this.xt&&(this.Ai.pi=!0,this.zi.pi=!1,this.qi(this.Ai,this.zi,this.Ei))}};class Pp extends ys{constructor(t,e,s){super(),this.Jt=t,this.Yi=e,this.ji=s}qi(t,e,s){if(t.Vt=!1,this.Jt.N().mode===2)return;const n=this.Jt.N().horzLine;if(!n.labelVisible)return;const r=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||r===null)return;const o=this.Yi.Xi().X(n.labelBackgroundColor);s.Z=o.Z,t.R=o.G;const l=2/12*this.Yi.P();s.Ti=l,s.Ri=l;const a=this.ji(this.Yi);s.Bi=a.Bi,t.ri=this.Yi.Zi(a.gt,r),t.Vt=!0}}const kp=/[1-9]/g;class Rl{constructor(){this.Yt=null}ht(t){this.Yt=t}nt(t,e){if(this.Yt===null||this.Yt.Vt===!1||this.Yt.ri.length===0)return;const s=t.useMediaCoordinateSpace(({context:d})=>(d.font=e.k,Math.round(e.Gi.Vi(d,k(this.Yt).ri,kp))));if(s<=0)return;const n=e.Ji,r=s+2*n,o=r/2,l=this.Yt.Qi;let a=this.Yt.Bi,c=Math.floor(a-o)+.5;c<0?(a+=Math.abs(0-c),c=Math.floor(a-o)+.5):c+r>l&&(a-=Math.abs(l-(c+r)),c=Math.floor(a-o)+.5);const h=c+r,u=Math.ceil(0+e.S+e.C+e.A+e.P+e.V);t.useBitmapCoordinateSpace(({context:d,horizontalPixelRatio:f,verticalPixelRatio:g})=>{const v=k(this.Yt);d.fillStyle=v.Z;const b=Math.round(c*f),w=Math.round(0*g),x=Math.round(h*f),y=Math.round(u*g),S=Math.round(2*f);if(d.beginPath(),d.moveTo(b,w),d.lineTo(b,y-S),d.arcTo(b,y,b+S,y,S),d.lineTo(x-S,y),d.arcTo(x,y,x,y-S,S),d.lineTo(x,w),d.fill(),v.pi){const C=Math.round(v.Bi*f),P=w,_=Math.round((P+e.C)*g);d.fillStyle=v.R;const R=Math.max(1,Math.floor(f)),I=Math.floor(.5*f);d.fillRect(C-I,P,R,_-P)}}),t.useMediaCoordinateSpace(({context:d})=>{const f=k(this.Yt),g=0+e.S+e.C+e.A+e.P/2;d.font=e.k,d.textAlign="left",d.textBaseline="middle",d.fillStyle=f.R;const v=e.Gi.Di(d,"Apr0");d.translate(c+n,g+v),d.fillText(f.ri,0,0)})}}class Rp{constructor(t,e,s){this.xt=!0,this.Gt=new Rl,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Bi:NaN,pi:!0},this.Ct=t,this.ts=e,this.ji=s}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const t=this.Zt;if(t.Vt=!1,this.Ct.N().mode===2)return;const e=this.Ct.N().vertLine;if(!e.labelVisible)return;const s=this.ts.Et();if(s.Ki())return;t.Qi=s.Qi();const n=this.ji();if(n===null)return;t.Bi=n.Bi;const r=s.ss(this.Ct.Bt());t.ri=s.ns(k(r)),t.Vt=!0;const o=this.ts.Xi().X(e.labelBackgroundColor);t.Z=o.Z,t.R=o.G,t.pi=s.N().ticksVisible}}class _l{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(t){this.rs=t}Ft(){return this.es}_s(t){this.es=t}us(t){return[]}cs(){return[]}Vt(){return!0}}var Di;(function(i){i[i.Normal=0]="Normal",i[i.Magnet=1]="Magnet",i[i.Hidden=2]="Hidden",i[i.MagnetOHLC=3]="MagnetOHLC"})(Di||(Di={}));class _p extends _l{constructor(t,e){super(),this.Pt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=t,this.Ps=e,this.ks=((n,r)=>o=>{const l=r(),a=n();if(o===k(this.Pt).ys())return{gt:a,Bi:l};{const c=k(o.zt());return{gt:o.Ts(l,c),Bi:l}}})(()=>this.ds,()=>this.Ss);const s=((n,r)=>()=>{const o=this.ts.Et().Rs(n()),l=r();return o&&Number.isFinite(l)?{wt:o,Bi:l}:null})(()=>this.fs,()=>this.si());this.Ds=new Rp(this,t,s)}N(){return this.Ps}Vs(t,e){this.xs=t,this.Cs=e}Is(){this.xs=NaN,this.Cs=NaN}Bs(){return this.xs}Es(){return this.Cs}As(t,e,s){this.ws||(this.ws=!0),this.ps=!0,this.zs(t,e,s)}Bt(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.Pt=null,this.Is(),this.Ns()}Fs(t){let e=this.gs.get(t);e||(e=new Cp(this,t),this.gs.set(t,e));let s=this.Ms.get(t);return s||(s=new yp(this.ts,this,t),this.Ms.set(t,s)),[e,s]}ti(t){return t===this.Pt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ws(t,e){this.ps&&this.Pt===t||this.vs.clear();const s=[];return this.Pt===t&&s.push(this.Hs(this.vs,e,this.ks)),s}cs(){return this.ps?[this.Ds]:[]}Us(){return this.Pt}Ns(){this.ts.$s().forEach(t=>{var e,s;(e=this.gs.get(t))==null||e.kt(),(s=this.Ms.get(t))==null||s.kt()}),this.vs.forEach(t=>t.kt()),this.Ds.kt()}qs(t){return t&&!t.ys().Ki()?t.ys():null}zs(t,e,s){this.Ys(t,e,s)&&this.Ns()}Ys(t,e,s){const n=this.bs,r=this.Ss,o=this.ds,l=this.fs,a=this.Pt,c=this.qs(s);this.fs=t,this.bs=isNaN(t)?NaN:this.ts.Et().qt(t),this.Pt=s;const h=c!==null?c.zt():null;return c!==null&&h!==null?(this.ds=e,this.Ss=c.Nt(e,h)):(this.ds=NaN,this.Ss=NaN),n!==this.bs||r!==this.Ss||l!==this.fs||o!==this.ds||a!==this.Pt}Os(){const t=this.ts.js().map(s=>s.Xs().Ks()).filter(mp),e=t.length===0?null:Math.max(...t);this.fs=e!==null?e:NaN}Hs(t,e,s){let n=t.get(e);return n===void 0&&(n=new Pp(this,e,s),t.set(e,n)),n}}function Ss(i){return i==="left"||i==="right"}class _t{constructor(t){this.Zs=new Map,this.Gs=[],this.Js=t}Qs(t,e){const s=function(n,r){return n===void 0?r:{tn:Math.max(n.tn,r.tn),sn:n.sn||r.sn}}(this.Zs.get(t),e);this.Zs.set(t,s)}nn(){return this.Js}en(t){const e=this.Zs.get(t);return e===void 0?{tn:this.Js}:{tn:Math.max(this.Js,e.tn),sn:e.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(t){this.hn(),this.Gs=[{an:1,Wt:t}]}_n(t){this.un(),this.Gs.push({an:5,Wt:t})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(t){this.hn(),this.Gs.push({an:2,Wt:t})}fn(t){this.hn(),this.Gs.push({an:3,Wt:t})}pn(){return this.Gs}vn(t){for(const e of t.Gs)this.mn(e);this.Js=Math.max(this.Js,t.Js),t.Zs.forEach((e,s)=>{this.Qs(s,e)})}static wn(){return new _t(2)}static gn(){return new _t(3)}mn(t){switch(t.an){case 0:this.rn();break;case 1:this.ln(t.Wt);break;case 2:this.dn(t.Wt);break;case 3:this.fn(t.Wt);break;case 4:this.cn();break;case 5:this._n(t.Wt);break;case 6:this.un()}}un(){const t=this.Gs.findIndex(e=>e.an===5);t!==-1&&this.Gs.splice(t,1)}}class El{formatTickmarks(t){return t.map(e=>this.format(e))}}const Wr=".";function ge(i,t){if(!Ue(i))return"n/a";if(!Li(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?i.toString():("0000000000000000"+i.toString()).slice(-t)}class Cs extends El{constructor(t,e){if(super(),e||(e=1),Ue(t)&&Li(t)||(t=100),t<0)throw new TypeError("invalid base");this.Yi=t,this.Mn=e,this.bn()}format(t){const e=t<0?"−":"";return t=Math.abs(t),e+this.Sn(t)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let t=this.Yi;for(;t>1;)t/=10,this.xn++}}Sn(t){const e=this.Yi/this.Mn;let s=Math.floor(t),n="";const r=this.xn!==void 0?this.xn:NaN;if(e>1){let o=+(Math.round(t*e)-s*e).toFixed(this.xn);o>=e&&(o-=e,s+=1),n=Wr+ge(+o.toFixed(this.xn)*this.Mn,r)}else s=Math.round(s*e)/e,r>0&&(n=Wr+ge(0,r));return s.toFixed(0)+n}}class $l extends Cs{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class Ep extends El{constructor(t){super(),this.Cn=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.Pn(t):t<999995?e+this.Pn(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.Pn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.Pn(t/1e9)+"B")}Pn(t){let e;const s=Math.pow(10,this.Cn);return e=(t=Math.round(t*s)/s)>=1e-15&&t<1?t.toFixed(this.Cn).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(n,r)=>r)}}const $p=/[2-9]/g;class Fi{constructor(t=50){this.kn=0,this.yn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=t}In(){this.kn=0,this.Dn.clear(),this.yn=1,this.Tn=1,this.Rn={}}Vi(t,e,s){return this.Bn(t,e,s).width}Di(t,e,s){const n=this.Bn(t,e,s);return((n.actualBoundingBoxAscent||0)-(n.actualBoundingBoxDescent||0))/2}Bn(t,e,s){const n=s||$p,r=String(e).replace(n,"0");if(this.Dn.has(r))return Vt(this.Dn.get(r)).En;if(this.kn===this.Vn){const l=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(l),this.Tn++,this.kn--}t.save(),t.textBaseline="middle";const o=t.measureText(r);return t.restore(),o.width===0&&e.length||(this.Dn.set(r,{En:o,An:this.yn}),this.Rn[this.yn]=r,this.kn++,this.yn++),o}}class Tp{constructor(t){this.zn=null,this.M=null,this.Ln="right",this.On=t}Nn(t,e,s){this.zn=t,this.M=e,this.Ln=s}nt(t){this.M!==null&&this.zn!==null&&this.zn.nt(t,this.M,this.On,this.Ln)}}class Tl{constructor(t,e,s){this.Fn=t,this.On=new Fi(50),this.Wn=e,this.O=s,this.F=-1,this.Gt=new Tp(this.On)}Tt(){const t=this.O.Hn(this.Wn);if(t===null)return null;const e=t.Un(this.Wn)?t.$n():this.Wn.Ft();if(e===null)return null;const s=t.qn(e);if(s==="overlay")return null;const n=this.O.Yn();return n.P!==this.F&&(this.F=n.P,this.On.In()),this.Gt.Nn(this.Fn.$i(),n,s),this.Gt}}class Bp extends he{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}jn(t,e){var o;if(!((o=this.Yt)!=null&&o.Vt))return null;const{ut:s,ct:n,Kn:r}=this.Yt;return e>=s-n-7&&e<=s+n+7?{Xn:this.Yt,Kn:r}:null}et({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(this.Yt===null||this.Yt.Vt===!1)return;const r=Math.round(this.Yt.ut*n);r<0||r>e.height||(t.lineCap="butt",t.strokeStyle=this.Yt.R,t.lineWidth=Math.floor(this.Yt.ct*s),He(t,this.Yt.Xt),Pl(t,r,0,e.width))}}class In{constructor(t){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new Bp,this.xt=!0,this.Jn=t,this.Qn=t.Qt(),this.Gn.ht(this.Zn)}kt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class zp extends In{constructor(t){super(t)}te(){this.Zn.Vt=!1;const t=this.Jn.Ft(),e=t.ie().ie;if(e!==2&&e!==3)return;const s=this.Jn.N();if(!s.baseLineVisible||!this.Jn.Vt())return;const n=this.Jn.zt();n!==null&&(this.Zn.Vt=!0,this.Zn.ut=t.Nt(n.Wt,n.Wt),this.Zn.R=s.baseLineColor,this.Zn.ct=s.baseLineWidth,this.Zn.Xt=s.baseLineStyle)}}class Ip extends he{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}se(){return this.Yt}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){const n=this.Yt;if(n===null)return;const r=Math.max(1,Math.floor(e)),o=r%2/2,l=Math.round(n.ne.x*e)+o,a=n.ne.y*s;t.fillStyle=n.ee,t.beginPath();const c=Math.max(2,1.5*n.re)*e;t.arc(l,a,c,0,2*Math.PI,!1),t.fill(),t.fillStyle=n.he,t.beginPath(),t.arc(l,a,n.ft*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=r,t.strokeStyle=n.ae,t.beginPath(),t.arc(l,a,n.ft*e+r/2,0,2*Math.PI,!1),t.stroke()}}const Lp=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class Np{constructor(t){this.Gt=new Ip,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=t}Me(){this.we=this.me-1,this.kt()}be(){if(this.kt(),this.ge.N().lastPriceAnimation===2){const t=performance.now(),e=this.we-t;if(e>0)return void(e<650&&(this.we+=2600));this.me=t,this.we=t+2600}}kt(){this.xt=!0}Se(){this.ve=!0}Vt(){return this.ge.N().lastPriceAnimation!==0}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const t=this.ge.Qt().Et(),e=t.Pe(),s=this.ge.zt();if(e===null||s===null)return;const n=this.ge.ke(!0);if(n.ye||!e.Te(n.Re))return;const r={x:t.qt(n.Re),y:this.ge.Ft().Nt(n.gt,s.Wt)},o=n.R,l=this.ge.N().lineWidth,a=this.De(this.Ve(),o);this.Gt.ht({ee:o,re:l,he:a.he,ae:a.ae,ft:a.ft,ne:r})}Ce(){const t=this.Gt.se();if(t!==null){const e=this.De(this.Ve(),t.ee);t.he=e.he,t.ae=e.ae,t.ft=e.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Ie(t,e,s,n){const r=s+(n-s)*e;return this.ge.Qt().Xi().j(t,r)}De(t,e){const s=t%2600/2600;let n;for(const c of Lp)if(s>=c.le&&s<=c.oe){n=c;break}Et(n!==void 0,"Last price animation internal logic error");const r=(s-n.le)/(n.oe-n.le);return{he:this.Ie(e,r,n.ce,n.de),ae:this.Ie(e,r,n.fe,n.pe),ft:(o=r,l=n._e,a=n.ue,l+(a-l)*o)};var o,l,a}}class Dp extends In{constructor(t){super(t)}te(){const t=this.Zn;t.Vt=!1;const e=this.Jn.N();if(!e.priceLineVisible||!this.Jn.Vt())return;const s=this.Jn.ke(e.priceLineSource===0);s.ye||(t.Vt=!0,t.ut=s.Bi,t.R=this.Jn.Be(s.R),t.ct=e.priceLineWidth,t.Xt=e.priceLineStyle)}}class Fp extends ys{constructor(t){super(),this.Jt=t}qi(t,e,s){t.Vt=!1,e.Vt=!1;const n=this.Jt;if(!n.Vt())return;const r=n.N(),o=r.lastValueVisible,l=n.Ee()!=="",a=r.seriesLastValueMode===0,c=n.ke(!1);if(c.ye)return;o&&(t.ri=this.Ae(c,o,a),t.Vt=t.ri.length!==0),(l||a)&&(e.ri=this.ze(c,o,l,a),e.Vt=e.ri.length>0);const h=n.Be(c.R),u=this.Jt.Qt().Xi().X(h);s.Z=u.Z,s.Bi=c.Bi,e.Ht=n.Qt().Ut(c.Bi/n.Ft().$t()),t.Ht=h,t.R=u.G,e.R=u.G}ze(t,e,s,n){let r="";const o=this.Jt.Ee();return s&&o.length!==0&&(r+=`${o} `),e&&n&&(r+=this.Jt.Ft().Le()?t.Oe:t.Ne),r.trim()}Ae(t,e,s){return e?s?this.Jt.Ft().Le()?t.Ne:t.Oe:t.ri:""}}function Vr(i,t,e,s){const n=Number.isFinite(t),r=Number.isFinite(e);return n&&r?i(t,e):n||r?n?t:e:s}class Ft{constructor(t,e){this.Fe=t,this.We=e}He(t){return t!==null&&this.Fe===t.Fe&&this.We===t.We}Ue(){return new Ft(this.Fe,this.We)}$e(){return this.Fe}qe(){return this.We}Ye(){return this.We-this.Fe}Ki(){return this.We===this.Fe||Number.isNaN(this.We)||Number.isNaN(this.Fe)}vn(t){return t===null?this:new Ft(Vr(Math.min,this.$e(),t.$e(),-1/0),Vr(Math.max,this.qe(),t.qe(),1/0))}je(t){if(!Ue(t)||this.We-this.Fe===0)return;const e=.5*(this.We+this.Fe);let s=this.We-e,n=this.Fe-e;s*=t,n*=t,this.We=e+s,this.Fe=e+n}Ke(t){Ue(t)&&(this.We+=t,this.Fe+=t)}Xe(){return{minValue:this.Fe,maxValue:this.We}}static Ze(t){return t===null?null:new Ft(t.minValue,t.maxValue)}}class cs{constructor(t,e){this.Ge=t,this.Je=e||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:this.Ge===null?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(t){return t===null?null:new cs(Ft.Ze(t.priceRange),t.margins)}}class Op extends In{constructor(t,e){super(t),this.ir=e}te(){const t=this.Zn;t.Vt=!1;const e=this.ir.N();if(!this.Jn.Vt()||!e.lineVisible)return;const s=this.ir.sr();s!==null&&(t.Vt=!0,t.ut=s,t.R=e.color,t.ct=e.lineWidth,t.Xt=e.lineStyle,t.Kn=this.ir.N().id)}}class jp extends ys{constructor(t,e){super(),this.ge=t,this.ir=e}qi(t,e,s){t.Vt=!1,e.Vt=!1;const n=this.ir.N(),r=n.axisLabelVisible,o=n.title!=="",l=this.ge;if(!r||!l.Vt())return;const a=this.ir.sr();if(a===null)return;o&&(e.ri=n.title,e.Vt=!0),e.Ht=l.Qt().Ut(a/l.Ft().$t()),t.ri=this.nr(n.price),t.Vt=!0;const c=this.ge.Qt().Xi().X(n.axisLabelColor||n.color);s.Z=c.Z;const h=n.axisLabelTextColor||c.G;t.R=h,e.R=h,s.Bi=a}nr(t){const e=this.ge.zt();return e===null?"":this.ge.Ft().Zi(t,e.Wt)}}class Wp{constructor(t,e){this.ge=t,this.Ps=e,this.er=new Op(t,this),this.Fn=new jp(t,this),this.rr=new Tl(this.Fn,t,t.Qt())}hr(t){Xt(this.Ps,t),this.kt(),this.ge.Qt().ar()}N(){return this.Ps}lr(){return this.er}_r(){return this.rr}ur(){return this.Fn}kt(){this.er.kt(),this.Fn.kt()}sr(){const t=this.ge,e=t.Ft();if(t.Qt().Et().Ki()||e.Ki())return null;const s=t.zt();return s===null?null:e.Nt(this.Ps.price,s.Wt)}}class Vp extends _l{constructor(t){super(),this.ts=t}Qt(){return this.ts}}const Ap={Bar:(i,t,e,s)=>{const n=t.upColor,r=t.downColor,o=k(i(e,s)),l=ye(o.Wt[0])<=ye(o.Wt[3]);return{cr:o.R??(l?n:r)}},Candlestick:(i,t,e,s)=>{const n=t.upColor,r=t.downColor,o=t.borderUpColor,l=t.borderDownColor,a=t.wickUpColor,c=t.wickDownColor,h=k(i(e,s)),u=ye(h.Wt[0])<=ye(h.Wt[3]);return{cr:h.R??(u?n:r),dr:h.Ht??(u?o:l),pr:h.vr??(u?a:c)}},Custom:(i,t,e,s)=>({cr:k(i(e,s)).R??t.color}),Area:(i,t,e,s)=>{const n=k(i(e,s));return{cr:n.vt??t.lineColor,vt:n.vt??t.lineColor,mr:n.mr??t.topColor,wr:n.wr??t.bottomColor}},Baseline:(i,t,e,s)=>{const n=k(i(e,s));return{cr:n.Wt[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,gr:n.gr??t.topLineColor,Mr:n.Mr??t.bottomLineColor,br:n.br??t.topFillColor1,Sr:n.Sr??t.topFillColor2,Cr:n.Cr??t.bottomFillColor1,Pr:n.Pr??t.bottomFillColor2}},Line:(i,t,e,s)=>{const n=k(i(e,s));return{cr:n.R??t.color,vt:n.R??t.color}},Histogram:(i,t,e,s)=>({cr:k(i(e,s)).R??t.color})};class Yp{constructor(t){this.kr=(e,s)=>s!==void 0?s.Wt:this.ge.Xs().yr(e),this.ge=t,this.Tr=Ap[t.Rr()]}Dr(t,e){return this.Tr(this.kr,this.ge.N(),t,e)}}function Bl(i,t,e,s,n=0,r=t.length){let o=r-n;for(;0<o;){const l=o>>1,a=n+l;s(t[a],e)===i?(n=a+1,o-=l+1):o=l}return n}const li=Bl.bind(null,!0),zl=Bl.bind(null,!1);var Ar;(function(i){i[i.NearestLeft=-1]="NearestLeft",i[i.None=0]="None",i[i.NearestRight=1]="NearestRight"})(Ar||(Ar={}));const we=30;class Hp{constructor(){this.Vr=[],this.Ir=new Map,this.Br=new Map,this.Er=[]}Ar(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return this.zr()===0}Te(t){return this.Nr(t,0)!==null}yr(t){return this.Fr(t)}Fr(t,e=0){const s=this.Nr(t,e);return s===null?null:{...this.Wr(s),Re:this.Or(s)}}Hr(){return this.Vr}Ur(t,e,s){if(this.Ki())return null;let n=null;for(const r of s)n=Ki(n,this.$r(t,e,r));return n}ht(t){this.Br.clear(),this.Ir.clear(),this.Vr=t,this.Er=t.map(e=>e.Re)}qr(){return this.Er}Or(t){return this.Vr[t].Re}Wr(t){return this.Vr[t]}Nr(t,e){const s=this.Yr(t);if(s===null&&e!==0)switch(e){case-1:return this.jr(t);case 1:return this.Kr(t);default:throw new TypeError("Unknown search mode")}return s}jr(t){let e=this.Xr(t);return e>0&&(e-=1),e!==this.Vr.length&&this.Or(e)<t?e:null}Kr(t){const e=this.Zr(t);return e!==this.Vr.length&&t<this.Or(e)?e:null}Yr(t){const e=this.Xr(t);return e===this.Vr.length||t<this.Vr[e].Re?null:e}Xr(t){return li(this.Vr,t,(e,s)=>e.Re<s)}Zr(t){return zl(this.Vr,t,(e,s)=>e.Re>s)}Gr(t,e,s){let n=null;for(let r=t;r<e;r++){const o=this.Vr[r].Wt[s];Number.isNaN(o)||(n===null?n={Jr:o,Qr:o}:(o<n.Jr&&(n.Jr=o),o>n.Qr&&(n.Qr=o)))}return n}$r(t,e,s){if(this.Ki())return null;let n=null;const r=k(this.Lr()),o=k(this.Ks()),l=Math.max(t,r),a=Math.min(e,o),c=Math.ceil(l/we)*we,h=Math.max(c,Math.floor(a/we)*we);{const d=this.Xr(l),f=this.Zr(Math.min(a,c,e));n=Ki(n,this.Gr(d,f,s))}let u=this.Ir.get(s);u===void 0&&(u=new Map,this.Ir.set(s,u));for(let d=Math.max(c+1,l);d<h;d+=we){const f=Math.floor(d/we);let g=u.get(f);if(g===void 0){const v=this.Xr(f*we),b=this.Zr((f+1)*we-1);g=this.Gr(v,b,s),u.set(f,g)}n=Ki(n,g)}{const d=this.Xr(h),f=this.Zr(a);n=Ki(n,this.Gr(d,f,s))}return n}}function Ki(i,t){return i===null?t:t===null?i:{Jr:Math.min(i.Jr,t.Jr),Qr:Math.max(i.Qr,t.Qr)}}class Up{constructor(t){this.th=t}nt(t,e,s){this.th.draw(t)}ih(t,e,s){var n,r;(r=(n=this.th).drawBackground)==null||r.call(n,t)}}class Gp{constructor(t){this.Dn=null,this.sh=t}Tt(){var s;const t=this.sh.renderer();if(t===null)return null;if(((s=this.Dn)==null?void 0:s.nh)===t)return this.Dn.eh;const e=new Up(t);return this.Dn={nh:t,eh:e},e}rh(){var t,e;return((e=(t=this.sh).zOrder)==null?void 0:e.call(t))??"normal"}}class Il{constructor(t){this.hh=null,this.ah=t}oh(){return this.ah}Ns(){var t,e;(e=(t=this.ah).updateAllViews)==null||e.call(t)}Fs(){var s,n,r;const t=((n=(s=this.ah).paneViews)==null?void 0:n.call(s))??[];if(((r=this.hh)==null?void 0:r.nh)===t)return this.hh.eh;const e=t.map(o=>new Gp(o));return this.hh={nh:t,eh:e},e}jn(t,e){var s,n;return((n=(s=this.ah).hitTest)==null?void 0:n.call(s,t,e))??null}}let Xp=class extends Il{us(){return[]}};class Kp{constructor(t){this.th=t}nt(t,e,s){this.th.draw(t)}ih(t,e,s){var n,r;(r=(n=this.th).drawBackground)==null||r.call(n,t)}}class Yr{constructor(t){this.Dn=null,this.sh=t}Tt(){var s;const t=this.sh.renderer();if(t===null)return null;if(((s=this.Dn)==null?void 0:s.nh)===t)return this.Dn.eh;const e=new Kp(t);return this.Dn={nh:t,eh:e},e}rh(){var t,e;return((e=(t=this.sh).zOrder)==null?void 0:e.call(t))??"normal"}}function Ll(i){var t,e,s;return{ri:i.text(),Bi:i.coordinate(),Ii:(t=i.fixedCoordinate)==null?void 0:t.call(i),R:i.textColor(),Z:i.backColor(),Vt:((e=i.visible)==null?void 0:e.call(i))??!0,pi:((s=i.tickVisible)==null?void 0:s.call(i))??!0}}class Qp{constructor(t,e){this.Gt=new Rl,this._h=t,this.uh=e}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...Ll(this._h)}),this.Gt}}class qp extends ys{constructor(t,e){super(),this._h=t,this.Yi=e}qi(t,e,s){const n=Ll(this._h);s.Z=n.Z,t.R=n.R;const r=2/12*this.Yi.P();s.Ti=r,s.Ri=r,s.Bi=n.Bi,s.Ii=n.Ii,t.ri=n.ri,t.Vt=n.Vt,t.pi=n.pi}}class Zp extends Il{constructor(t,e){super(t),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=e}cs(){var n,r,o;const t=((r=(n=this.ah).timeAxisViews)==null?void 0:r.call(n))??[];if(((o=this.dh)==null?void 0:o.nh)===t)return this.dh.eh;const e=this.ge.Qt().Et(),s=t.map(l=>new Qp(l,e));return this.dh={nh:t,eh:s},s}Ws(){var n,r,o;const t=((r=(n=this.ah).priceAxisViews)==null?void 0:r.call(n))??[];if(((o=this.fh)==null?void 0:o.nh)===t)return this.fh.eh;const e=this.ge.Ft(),s=t.map(l=>new qp(l,e));return this.fh={nh:t,eh:s},s}wh(){var s,n,r;const t=((n=(s=this.ah).priceAxisPaneViews)==null?void 0:n.call(s))??[];if(((r=this.ph)==null?void 0:r.nh)===t)return this.ph.eh;const e=t.map(o=>new Yr(o));return this.ph={nh:t,eh:e},e}gh(){var s,n,r;const t=((n=(s=this.ah).timeAxisPaneViews)==null?void 0:n.call(s))??[];if(((r=this.mh)==null?void 0:r.nh)===t)return this.mh.eh;const e=t.map(o=>new Yr(o));return this.mh={nh:t,eh:e},e}Mh(t,e){var s,n;return((n=(s=this.ah).autoscaleInfo)==null?void 0:n.call(s,t,e))??null}}function js(i,t,e,s){i.forEach(n=>{t(n).forEach(r=>{r.rh()===e&&s.push(r)})})}function Ws(i){return i.Fs()}function Jp(i){return i.wh()}function tf(i){return i.gh()}const ef=["Area","Line","Baseline"];class Ms extends Vp{constructor(t,e,s,n,r){super(t),this.Yt=new Hp,this.er=new Dp(this),this.bh=[],this.Sh=new zp(this),this.xh=null,this.Ch=null,this.Ph=null,this.kh=[],this.Ps=s,this.yh=e;const o=new Fp(this);this.vs=[o],this.rr=new Tl(o,this,t),ef.includes(this.yh)&&(this.xh=new Np(this)),this.Th(),this.sh=n(this,this.Qt(),r)}m(){this.Ph!==null&&clearTimeout(this.Ph)}Be(t){return this.Ps.priceLineColor||t}ke(t){const e={ye:!0},s=this.Ft();if(this.Qt().Et().Ki()||s.Ki()||this.Yt.Ki())return e;const n=this.Qt().Et().Pe(),r=this.zt();if(n===null||r===null)return e;let o,l;if(t){const u=this.Yt.Ar();if(u===null)return e;o=u,l=u.Re}else{const u=this.Yt.Fr(n.bi(),-1);if(u===null||(o=this.Yt.yr(u.Re),o===null))return e;l=u.Re}const a=o.Wt[3],c=this.Rh().Dr(l,{Wt:o}),h=s.Nt(a,r.Wt);return{ye:!1,gt:a,ri:s.Zi(a,r.Wt),Oe:s.Dh(a),Ne:s.Vh(a,r.Wt),R:c.cr,Bi:h,Re:l}}Rh(){return this.Ch!==null||(this.Ch=new Yp(this)),this.Ch}N(){return this.Ps}hr(t){const e=t.priceScaleId;e!==void 0&&e!==this.Ps.priceScaleId&&this.Qt().Ih(this,e),Xt(this.Ps,t),t.priceFormat!==void 0&&(this.Th(),this.Qt().Bh()),this.Qt().Eh(this),this.Qt().Ah(),this.sh.kt("options")}ht(t,e){this.Yt.ht(t),this.sh.kt("data"),this.xh!==null&&(e&&e.zh?this.xh.be():t.length===0&&this.xh.Me());const s=this.Qt().Hn(this);this.Qt().Lh(s),this.Qt().Eh(this),this.Qt().Ah(),this.Qt().ar()}Oh(t){const e=new Wp(this,t);return this.bh.push(e),this.Qt().Eh(this),e}Nh(t){const e=this.bh.indexOf(t);e!==-1&&this.bh.splice(e,1),this.Qt().Eh(this)}Fh(){return this.bh}Rr(){return this.yh}zt(){const t=this.Wh();return t===null?null:{Wt:t.Wt[3],Hh:t.wt}}Wh(){const t=this.Qt().Et().Pe();if(t===null)return null;const e=t.Uh();return this.Yt.Fr(e,1)}Xs(){return this.Yt}$h(t){const e=this.Yt.yr(t);return e===null?null:this.yh==="Bar"||this.yh==="Candlestick"||this.yh==="Custom"?{qh:e.Wt[0],Yh:e.Wt[1],jh:e.Wt[2],Kh:e.Wt[3]}:e.Wt[3]}Xh(t){const e=[];js(this.kh,Ws,"top",e);const s=this.xh;return s!==null&&s.Vt()&&(this.Ph===null&&s.xe()&&(this.Ph=setTimeout(()=>{this.Ph=null,this.Qt().Zh()},0)),s.Se(),e.unshift(s)),e}Fs(){const t=[];this.Gh()||t.push(this.Sh),t.push(this.sh,this.er);const e=this.bh.map(s=>s.lr());return t.push(...e),js(this.kh,Ws,"normal",t),t}Jh(){return this.Qh(Ws,"bottom")}ta(t){return this.Qh(Jp,t)}ia(t){return this.Qh(tf,t)}sa(t,e){return this.kh.map(s=>s.jn(t,e)).filter(s=>s!==null)}us(){return[this.rr,...this.bh.map(t=>t._r())]}Ws(t,e){if(e!==this.es&&!this.Gh())return[];const s=[...this.vs];for(const n of this.bh)s.push(n.ur());return this.kh.forEach(n=>{s.push(...n.Ws())}),s}cs(){const t=[];return this.kh.forEach(e=>{t.push(...e.cs())}),t}Mh(t,e){if(this.Ps.autoscaleInfoProvider!==void 0){const s=this.Ps.autoscaleInfoProvider(()=>{const n=this.na(t,e);return n===null?null:n.Xe()});return cs.Ze(s)}return this.na(t,e)}ea(){return this.Ps.priceFormat.minMove}ra(){return this.ha}Ns(){var t;this.sh.kt();for(const e of this.vs)e.kt();for(const e of this.bh)e.kt();this.er.kt(),this.Sh.kt(),(t=this.xh)==null||t.kt(),this.kh.forEach(e=>e.Ns())}Ft(){return k(super.Ft())}At(t){if(!((this.yh==="Line"||this.yh==="Area"||this.yh==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const e=this.Yt.yr(t);return e===null?null:{gt:e.Wt[3],ft:this.aa(),Ht:this.la(),Ot:this.oa(),Lt:this._a(t)}}Ee(){return this.Ps.title}Vt(){return this.Ps.visible}ua(t){this.kh.push(new Zp(t,this))}ca(t){this.kh=this.kh.filter(e=>e.oh()!==t)}da(){if(this.yh==="Custom")return t=>this.sh.fa(t)}pa(){if(this.yh==="Custom")return t=>this.sh.va(t)}ma(){return this.Yt.qr()}Gh(){return!Ss(this.Ft().wa())}na(t,e){if(!Li(t)||!Li(e)||this.Yt.Ki())return null;const s=this.yh==="Line"||this.yh==="Area"||this.yh==="Baseline"||this.yh==="Histogram"?[3]:[2,1],n=this.Yt.Ur(t,e,s);let r=n!==null?new Ft(n.Jr,n.Qr):null,o=null;if(this.Rr()==="Histogram"){const l=this.Ps.base,a=new Ft(l,l);r=r!==null?r.vn(a):a}return this.kh.forEach(l=>{const a=l.Mh(t,e);if(a!=null&&a.priceRange){const c=new Ft(a.priceRange.minValue,a.priceRange.maxValue);r=r!==null?r.vn(c):c}a!=null&&a.margins&&(o=a.margins)}),new cs(r,o)}aa(){switch(this.yh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}la(){switch(this.yh){case"Line":case"Area":case"Baseline":{const t=this.Ps.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}oa(){switch(this.yh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}_a(t){switch(this.yh){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBackgroundColor;if(e.length!==0)return e}}return this.Rh().Dr(t).cr}Th(){switch(this.Ps.priceFormat.type){case"custom":{const t=this.Ps.priceFormat.formatter;this.ha={format:t,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(e=>e.map(t))};break}case"volume":this.ha=new Ep(this.Ps.priceFormat.precision);break;case"percent":this.ha=new $l(this.Ps.priceFormat.precision);break;default:{const t=Math.pow(10,this.Ps.priceFormat.precision);this.ha=new Cs(t,this.Ps.priceFormat.minMove*t)}}this.es!==null&&this.es.ga()}Qh(t,e){const s=[];return js(this.kh,t,e,s),s}}const sf=[3],nf=[0,1,2,3];class rf{constructor(t){this.Ps=t}Ma(t,e,s){let n=t;if(this.Ps.mode===0)return n;const r=s.ys(),o=r.zt();if(o===null)return n;const l=r.Nt(t,o),a=s.ba().filter(h=>h instanceof Ms).reduce((h,u)=>{if(s.Un(u)||!u.Vt())return h;const d=u.Ft(),f=u.Xs();if(d.Ki()||!f.Te(e))return h;const g=f.yr(e);if(g===null)return h;const v=ye(u.zt()),b=this.Ps.mode===3?nf:sf;return h.concat(b.map(w=>d.Nt(g.Wt[w],v.Wt)))},[]);if(a.length===0)return n;a.sort((h,u)=>Math.abs(h-l)-Math.abs(u-l));const c=a[0];return n=r.Ts(c,o),n}}function ii(i,t,e){return Math.min(Math.max(i,t),e)}function Qi(i,t,e){return t-i<=e}function Ln(i){const t=Math.ceil(i);return t%2==0?t-1:t}class of extends he{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(this.Yt===null)return;const r=Math.max(1,Math.floor(s));t.lineWidth=r,function(o,l){o.save(),o.lineWidth%2&&o.translate(.5,.5),l(),o.restore()}(t,()=>{const o=k(this.Yt);if(o.Sa){t.strokeStyle=o.xa,He(t,o.Ca),t.beginPath();for(const l of o.Pa){const a=Math.round(l.ka*s);t.moveTo(a,-r),t.lineTo(a,e.height+r)}t.stroke()}if(o.ya){t.strokeStyle=o.Ta,He(t,o.Ra),t.beginPath();for(const l of o.Da){const a=Math.round(l.ka*n);t.moveTo(-r,a),t.lineTo(e.width+r,a)}t.stroke()}})}}class lf{constructor(t){this.Gt=new of,this.xt=!0,this.Pt=t}kt(){this.xt=!0}Tt(){if(this.xt){const t=this.Pt.Qt().N().grid,e={ya:t.horzLines.visible,Sa:t.vertLines.visible,Ta:t.horzLines.color,xa:t.vertLines.color,Ra:t.horzLines.style,Ca:t.vertLines.style,Da:this.Pt.ys().Va(),Pa:(this.Pt.Qt().Et().Va()||[]).map(s=>({ka:s.coord}))};this.Gt.ht(e),this.xt=!1}return this.Gt}}class af{constructor(t){this.sh=new lf(t)}lr(){return this.sh}}const Vs={Ia:4,Ba:1e-4};function Ze(i,t){const e=100*(i-t)/t;return t<0?-e:e}function cf(i,t){const e=Ze(i.$e(),t),s=Ze(i.qe(),t);return new Ft(e,s)}function _i(i,t){const e=100*(i-t)/t+100;return t<0?-e:e}function hf(i,t){const e=_i(i.$e(),t),s=_i(i.qe(),t);return new Ft(e,s)}function hs(i,t){const e=Math.abs(i);if(e<1e-15)return 0;const s=Math.log10(e+t.Ba)+t.Ia;return i<0?-s:s}function Ei(i,t){const e=Math.abs(i);if(e<1e-15)return 0;const s=Math.pow(10,e-t.Ia)-t.Ba;return i<0?-s:s}function xi(i,t){if(i===null)return null;const e=hs(i.$e(),t),s=hs(i.qe(),t);return new Ft(e,s)}function Mi(i,t){if(i===null)return null;const e=Ei(i.$e(),t),s=Ei(i.qe(),t);return new Ft(e,s)}function As(i){if(i===null)return Vs;const t=Math.abs(i.qe()-i.$e());if(t>=1||t<1e-15)return Vs;const e=Math.ceil(Math.abs(Math.log10(t))),s=Vs.Ia+e;return{Ia:s,Ba:1/Math.pow(10,s)}}class Ys{constructor(t,e){if(this.Ea=t,this.Aa=e,function(s){if(s<0)return!1;for(let n=s;n>1;n/=10)if(n%10!=0)return!1;return!0}(this.Ea))this.za=[2,2.5,2];else{this.za=[];for(let s=this.Ea;s!==1;){if(s%2==0)this.za.push(2),s/=2;else{if(s%5!=0)throw new Error("unexpected base");this.za.push(2,2.5),s/=5}if(this.za.length>100)throw new Error("something wrong with base")}}}La(t,e,s){const n=this.Ea===0?0:1/this.Ea;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),o=0,l=this.Aa[0];for(;;){const u=Qi(r,n,1e-14)&&r>n+1e-14,d=Qi(r,s*l,1e-14),f=Qi(r,1,1e-14);if(!(u&&d&&f))break;r/=l,l=this.Aa[++o%this.Aa.length]}if(r<=n+1e-14&&(r=n),r=Math.max(1,r),this.za.length>0&&(a=r,c=1,h=1e-14,Math.abs(a-c)<h))for(o=0,l=this.za[0];Qi(r,s*l,1e-14)&&r>n+1e-14;)r/=l,l=this.za[++o%this.za.length];var a,c,h;return r}}class Hr{constructor(t,e,s,n){this.Oa=[],this.Yi=t,this.Ea=e,this.Na=s,this.Fa=n}La(t,e){if(t<e)throw new Error("high < low");const s=this.Yi.$t(),n=(t-e)*this.Wa()/s,r=new Ys(this.Ea,[2,2.5,2]),o=new Ys(this.Ea,[2,2,2.5]),l=new Ys(this.Ea,[2.5,2,2]),a=[];return a.push(r.La(t,e,n),o.La(t,e,n),l.La(t,e,n)),function(c){if(c.length<1)throw Error("array is empty");let h=c[0];for(let u=1;u<c.length;++u)c[u]<h&&(h=c[u]);return h}(a)}Ha(){const t=this.Yi,e=t.zt();if(e===null)return void(this.Oa=[]);const s=t.$t(),n=this.Na(s-1,e),r=this.Na(0,e),o=this.Yi.N().entireTextOnly?this.Ua()/2:0,l=o,a=s-1-o,c=Math.max(n,r),h=Math.min(n,r);if(c===h)return void(this.Oa=[]);const u=this.La(c,h);if(this.$a(e,u,c,h,l,a),t.qa()&&this.Ya(u,h,c)){const g=this.Yi.ja();this.Ka(e,u,l,a,g,2*g)}const d=this.Oa.map(g=>g.Xa),f=this.Yi.Za(d);for(let g=0;g<this.Oa.length;g++)this.Oa[g].Ga=f[g]}Va(){return this.Oa}Ua(){return this.Yi.P()}Wa(){return Math.ceil(2.5*this.Ua())}$a(t,e,s,n,r,o){const l=this.Oa,a=this.Yi;let c=s%e;c+=c<0?e:0;const h=s>=n?1:-1;let u=null,d=0;for(let f=s-c;f>n;f-=e){const g=this.Fa(f,t,!0);u!==null&&Math.abs(g-u)<this.Wa()||g<r||g>o||(d<l.length?(l[d].ka=g,l[d].Ga=a.Ja(f),l[d].Xa=f):l.push({ka:g,Ga:a.Ja(f),Xa:f}),d++,u=g,a.Qa()&&(e=this.La(f*h,n)))}l.length=d}Ka(t,e,s,n,r,o){const l=this.Oa,a=this.tl(t,s,r,o),c=this.tl(t,n,-o,-r),h=this.Fa(0,t,!0)-this.Fa(e,t,!0);l.length>0&&l[0].ka-a.ka<h/2&&l.shift(),l.length>0&&c.ka-l[l.length-1].ka<h/2&&l.pop(),l.unshift(a),l.push(c)}tl(t,e,s,n){const r=(s+n)/2,o=this.Na(e+s,t),l=this.Na(e+n,t),a=Math.min(o,l),c=Math.max(o,l),h=Math.max(.1,this.La(c,a)),u=this.Na(e+r,t),d=u-u%h,f=this.Fa(d,t,!0);return{Ga:this.Yi.Ja(d),ka:f,Xa:d}}Ya(t,e,s){let n=ye(this.Yi.Qe());return this.Yi.Qa()&&(n=Mi(n,this.Yi.il())),n.$e()-e<t&&s-n.qe()<t}}function Nl(i){return i.slice().sort((t,e)=>k(t.hs())-k(e.hs()))}var Je;(function(i){i[i.Normal=0]="Normal",i[i.Logarithmic=1]="Logarithmic",i[i.Percentage=2]="Percentage",i[i.IndexedTo100=3]="IndexedTo100"})(Je||(Je={}));const Ur=new $l,Gr=new Cs(100,1);class uf{constructor(t,e,s,n,r){this.sl=0,this.nl=null,this.Ge=null,this.el=null,this.rl={hl:!1,al:null},this.ll=!1,this.ol=0,this._l=0,this.ul=new xt,this.cl=new xt,this.dl=[],this.fl=null,this.pl=null,this.vl=null,this.ml=null,this.wl=null,this.ha=Gr,this.gl=As(null),this.Ml=t,this.Ps=e,this.bl=s,this.Sl=n,this.xl=r,this.Cl=new Hr(this,100,this.Pl.bind(this),this.kl.bind(this))}wa(){return this.Ml}N(){return this.Ps}hr(t){if(Xt(this.Ps,t),this.ga(),t.mode!==void 0&&this.yl({ie:t.mode}),t.scaleMargins!==void 0){const e=Vt(t.scaleMargins.top),s=Vt(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(s<0||s>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${s}`);if(e+s>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+s}`);this.Tl(),this.vl=null}}Rl(){return this.Ps.autoScale}Dl(){return this.ll}Qa(){return this.Ps.mode===1}Le(){return this.Ps.mode===2}Vl(){return this.Ps.mode===3}il(){return this.gl}ie(){return{sn:this.Ps.autoScale,Il:this.Ps.invertScale,ie:this.Ps.mode}}yl(t){const e=this.ie();let s=null;t.sn!==void 0&&(this.Ps.autoScale=t.sn),t.ie!==void 0&&(this.Ps.mode=t.ie,t.ie!==2&&t.ie!==3||(this.Ps.autoScale=!0),this.rl.hl=!1),e.ie===1&&t.ie!==e.ie&&(function(r,o){if(r===null)return!1;const l=Ei(r.$e(),o),a=Ei(r.qe(),o);return isFinite(l)&&isFinite(a)}(this.Ge,this.gl)?(s=Mi(this.Ge,this.gl),s!==null&&this.Bl(s)):this.Ps.autoScale=!0),t.ie===1&&t.ie!==e.ie&&(s=xi(this.Ge,this.gl),s!==null&&this.Bl(s));const n=e.ie!==this.Ps.mode;n&&(e.ie===2||this.Le())&&this.ga(),n&&(e.ie===3||this.Vl())&&this.ga(),t.Il!==void 0&&e.Il!==t.Il&&(this.Ps.invertScale=t.Il,this.El()),this.cl.p(e,this.ie())}Al(){return this.cl}P(){return this.bl.fontSize}$t(){return this.sl}zl(t){this.sl!==t&&(this.sl=t,this.Tl(),this.vl=null)}Ll(){if(this.nl)return this.nl;const t=this.$t()-this.Ol()-this.Nl();return this.nl=t,t}Qe(){return this.Fl(),this.Ge}Bl(t,e){const s=this.Ge;(e||s===null&&t!==null||s!==null&&!s.He(t))&&(this.vl=null,this.Ge=t)}Wl(t){this.Bl(t),this.Hl(t!==null)}Ki(){return this.Fl(),this.sl===0||!this.Ge||this.Ge.Ki()}Ul(t){return this.Il()?t:this.$t()-1-t}Nt(t,e){return this.Le()?t=Ze(t,e):this.Vl()&&(t=_i(t,e)),this.kl(t,e)}$l(t,e,s){this.Fl();const n=this.Nl(),r=k(this.Qe()),o=r.$e(),l=r.qe(),a=this.Ll()-1,c=this.Il(),h=a/(l-o),u=s===void 0?0:s.from,d=s===void 0?t.length:s.to,f=this.ql();for(let g=u;g<d;g++){const v=t[g],b=v.gt;if(isNaN(b))continue;let w=b;f!==null&&(w=f(v.gt,e));const x=n+h*(w-o),y=c?x:this.sl-1-x;v.ut=y}}Yl(t,e,s){this.Fl();const n=this.Nl(),r=k(this.Qe()),o=r.$e(),l=r.qe(),a=this.Ll()-1,c=this.Il(),h=a/(l-o),u=s===void 0?0:s.from,d=s===void 0?t.length:s.to,f=this.ql();for(let g=u;g<d;g++){const v=t[g];let b=v.qh,w=v.Yh,x=v.jh,y=v.Kh;f!==null&&(b=f(v.qh,e),w=f(v.Yh,e),x=f(v.jh,e),y=f(v.Kh,e));let S=n+h*(b-o),C=c?S:this.sl-1-S;v.jl=C,S=n+h*(w-o),C=c?S:this.sl-1-S,v.Kl=C,S=n+h*(x-o),C=c?S:this.sl-1-S,v.Xl=C,S=n+h*(y-o),C=c?S:this.sl-1-S,v.Zl=C}}Ts(t,e){const s=this.Pl(t,e);return this.Gl(s,e)}Gl(t,e){let s=t;return this.Le()?s=function(n,r){return r<0&&(n=-n),n/100*r+r}(s,e):this.Vl()&&(s=function(n,r){return n-=100,r<0&&(n=-n),n/100*r+r}(s,e)),s}ba(){return this.dl}Dt(){return this.pl||(this.pl=Nl(this.dl)),this.pl}Jl(t){this.dl.indexOf(t)===-1&&(this.dl.push(t),this.ga(),this.Ql())}io(t){const e=this.dl.indexOf(t);if(e===-1)throw new Error("source is not attached to scale");this.dl.splice(e,1),this.dl.length===0&&(this.yl({sn:!0}),this.Bl(null)),this.ga(),this.Ql()}zt(){let t=null;for(const e of this.dl){const s=e.zt();s!==null&&(t===null||s.Hh<t.Hh)&&(t=s)}return t===null?null:t.Wt}Il(){return this.Ps.invertScale}Va(){const t=this.zt()===null;if(this.vl!==null&&(t||this.vl.so===t))return this.vl.Va;this.Cl.Ha();const e=this.Cl.Va();return this.vl={Va:e,so:t},this.ul.p(),e}no(){return this.ul}eo(t){this.Le()||this.Vl()||this.ml===null&&this.el===null&&(this.Ki()||(this.ml=this.sl-t,this.el=k(this.Qe()).Ue()))}ro(t){if(this.Le()||this.Vl()||this.ml===null)return;this.yl({sn:!1}),(t=this.sl-t)<0&&(t=0);let e=(this.ml+.2*(this.sl-1))/(t+.2*(this.sl-1));const s=k(this.el).Ue();e=Math.max(e,.1),s.je(e),this.Bl(s)}ho(){this.Le()||this.Vl()||(this.ml=null,this.el=null)}ao(t){this.Rl()||this.wl===null&&this.el===null&&(this.Ki()||(this.wl=t,this.el=k(this.Qe()).Ue()))}lo(t){if(this.Rl()||this.wl===null)return;const e=k(this.Qe()).Ye()/(this.Ll()-1);let s=t-this.wl;this.Il()&&(s*=-1);const n=s*e,r=k(this.el).Ue();r.Ke(n),this.Bl(r,!0),this.vl=null}oo(){this.Rl()||this.wl!==null&&(this.wl=null,this.el=null)}ra(){return this.ha||this.ga(),this.ha}Zi(t,e){switch(this.Ps.mode){case 2:return this._o(Ze(t,e));case 3:return this.ra().format(_i(t,e));default:return this.nr(t)}}Ja(t){switch(this.Ps.mode){case 2:return this._o(t);case 3:return this.ra().format(t);default:return this.nr(t)}}Za(t){switch(this.Ps.mode){case 2:return this.uo(t);case 3:return this.ra().formatTickmarks(t);default:return this.co(t)}}Dh(t){return this.nr(t,k(this.fl).ra())}Vh(t,e){return t=Ze(t,e),this._o(t,Ur)}do(){return this.dl}fo(t){this.rl={al:t,hl:!1}}Ns(){this.dl.forEach(t=>t.Ns())}qa(){return this.Ps.ensureEdgeTickMarksVisible&&this.Rl()}ja(){return this.P()/2}ga(){this.vl=null;let t=1/0;this.fl=null;for(const s of this.dl)s.hs()<t&&(t=s.hs(),this.fl=s);let e=100;this.fl!==null&&(e=Math.round(1/this.fl.ea())),this.ha=Gr,this.Le()?(this.ha=Ur,e=100):this.Vl()?(this.ha=new Cs(100,1),e=100):this.fl!==null&&(this.ha=this.fl.ra()),this.Cl=new Hr(this,e,this.Pl.bind(this),this.kl.bind(this)),this.Cl.Ha()}Ql(){this.pl=null}Xi(){return this.xl}Hl(t){this.ll=t}Ol(){return this.Il()?this.Ps.scaleMargins.bottom*this.$t()+this._l:this.Ps.scaleMargins.top*this.$t()+this.ol}Nl(){return this.Il()?this.Ps.scaleMargins.top*this.$t()+this.ol:this.Ps.scaleMargins.bottom*this.$t()+this._l}Fl(){this.rl.hl||(this.rl.hl=!0,this.po())}Tl(){this.nl=null}kl(t,e){if(this.Fl(),this.Ki())return 0;t=this.Qa()&&t?hs(t,this.gl):t;const s=k(this.Qe()),n=this.Nl()+(this.Ll()-1)*(t-s.$e())/s.Ye();return this.Ul(n)}Pl(t,e){if(this.Fl(),this.Ki())return 0;const s=this.Ul(t),n=k(this.Qe()),r=n.$e()+n.Ye()*((s-this.Nl())/(this.Ll()-1));return this.Qa()?Ei(r,this.gl):r}El(){this.vl=null,this.Cl.Ha()}po(){if(this.Dl()&&!this.Rl())return;const t=this.rl.al;if(t===null)return;let e=null;const s=this.do();let n=0,r=0;for(const a of s){if(!a.Vt())continue;const c=a.zt();if(c===null)continue;const h=a.Mh(t.Uh(),t.bi());let u=h&&h.Qe();if(u!==null){switch(this.Ps.mode){case 1:u=xi(u,this.gl);break;case 2:u=cf(u,c.Wt);break;case 3:u=hf(u,c.Wt)}if(e=e===null?u:e.vn(k(u)),h!==null){const d=h.tr();d!==null&&(n=Math.max(n,d.above),r=Math.max(r,d.below))}}}if(this.qa()&&(n=Math.max(n,this.ja()),r=Math.max(r,this.ja())),n===this.ol&&r===this._l||(this.ol=n,this._l=r,this.vl=null,this.Tl()),e!==null){if(e.$e()===e.qe()){const a=this.fl,c=5*(a===null||this.Le()||this.Vl()?1:a.ea());this.Qa()&&(e=Mi(e,this.gl)),e=new Ft(e.$e()-c,e.qe()+c),this.Qa()&&(e=xi(e,this.gl))}if(this.Qa()){const a=Mi(e,this.gl),c=As(a);if(o=c,l=this.gl,o.Ia!==l.Ia||o.Ba!==l.Ba){const h=this.el!==null?Mi(this.el,this.gl):null;this.gl=c,e=xi(a,c),h!==null&&(this.el=xi(h,c))}}this.Bl(e)}else this.Ge===null&&(this.Bl(new Ft(-.5,.5)),this.gl=As(null));var o,l}ql(){return this.Le()?Ze:this.Vl()?_i:this.Qa()?t=>hs(t,this.gl):null}vo(t,e,s){return e===void 0?(s===void 0&&(s=this.ra()),s.format(t)):e(t)}mo(t,e,s){return e===void 0?(s===void 0&&(s=this.ra()),s.formatTickmarks(t)):e(t)}nr(t,e){return this.vo(t,this.Sl.priceFormatter,e)}co(t,e){const s=this.Sl.priceFormatter;return this.mo(t,this.Sl.tickmarksPriceFormatter??(s?n=>n.map(s):void 0),e)}_o(t,e){return this.vo(t,this.Sl.percentageFormatter,e)}uo(t,e){const s=this.Sl.percentageFormatter;return this.mo(t,this.Sl.tickmarksPercentageFormatter??(s?n=>n.map(s):void 0),e)}}function Xr(i){return i instanceof Ms}class Kr{constructor(t,e){this.dl=[],this.wo=new Map,this.sl=0,this.Mo=0,this.bo=1,this.pl=null,this.So=!1,this.xo=new xt,this.kh=[],this.uh=t,this.ts=e,this.Co=new af(this);const s=e.N();this.Po=this.ko("left",s.leftPriceScale),this.yo=this.ko("right",s.rightPriceScale),this.Po.Al().i(this.To.bind(this,this.Po),this),this.yo.Al().i(this.To.bind(this,this.yo),this),this.Ro(s)}Ro(t){if(t.leftPriceScale&&this.Po.hr(t.leftPriceScale),t.rightPriceScale&&this.yo.hr(t.rightPriceScale),t.localization&&(this.Po.ga(),this.yo.ga()),t.overlayPriceScales){const e=Array.from(this.wo.values());for(const s of e){const n=k(s[0].Ft());n.hr(t.overlayPriceScales),t.localization&&n.ga()}}}Do(t){switch(t){case"left":return this.Po;case"right":return this.yo}return this.wo.has(t)?Vt(this.wo.get(t))[0].Ft():null}m(){this.Qt().Vo().u(this),this.Po.Al().u(this),this.yo.Al().u(this),this.dl.forEach(t=>{t.m&&t.m()}),this.kh=this.kh.filter(t=>{const e=t.oh();return e.detached&&e.detached(),!1}),this.xo.p()}Io(){return this.bo}Bo(t){this.bo=t}Qt(){return this.ts}Qi(){return this.Mo}$t(){return this.sl}Eo(t){this.Mo=t,this.Ao()}zl(t){this.sl=t,this.Po.zl(t),this.yo.zl(t),this.dl.forEach(e=>{if(this.Un(e)){const s=e.Ft();s!==null&&s.zl(t)}}),this.Ao()}zo(t){this.So=t}Lo(){return this.So}Oo(){return this.dl.filter(Xr)}ba(){return this.dl}Un(t){const e=t.Ft();return e===null||this.Po!==e&&this.yo!==e}Jl(t,e,s){this.No(t,e,s?t.hs():this.dl.length)}io(t,e){const s=this.dl.indexOf(t);Et(s!==-1,"removeDataSource: invalid data source"),this.dl.splice(s,1),e||this.dl.forEach((o,l)=>o.ls(l));const n=k(t.Ft()).wa();if(this.wo.has(n)){const o=Vt(this.wo.get(n)),l=o.indexOf(t);l!==-1&&(o.splice(l,1),o.length===0&&this.wo.delete(n))}const r=t.Ft();r&&r.ba().indexOf(t)>=0&&(r.io(t),this.Fo(r)),this.pl=null}qn(t){return t===this.Po?"left":t===this.yo?"right":"overlay"}Wo(){return this.Po}Ho(){return this.yo}Uo(t,e){t.eo(e)}$o(t,e){t.ro(e),this.Ao()}qo(t){t.ho()}Yo(t,e){t.ao(e)}jo(t,e){t.lo(e),this.Ao()}Ko(t){t.oo()}Ao(){this.dl.forEach(t=>{t.Ns()})}ys(){let t=null;return this.ts.N().rightPriceScale.visible&&this.yo.ba().length!==0?t=this.yo:this.ts.N().leftPriceScale.visible&&this.Po.ba().length!==0?t=this.Po:this.dl.length!==0&&(t=this.dl[0].Ft()),t===null&&(t=this.yo),t}$n(){let t=null;return this.ts.N().rightPriceScale.visible?t=this.yo:this.ts.N().leftPriceScale.visible&&(t=this.Po),t}Fo(t){t!==null&&t.Rl()&&this.Xo(t)}Zo(t){const e=this.uh.Pe();t.yl({sn:!0}),e!==null&&t.fo(e),this.Ao()}Go(){this.Xo(this.Po),this.Xo(this.yo)}Jo(){this.Fo(this.Po),this.Fo(this.yo),this.dl.forEach(t=>{this.Un(t)&&this.Fo(t.Ft())}),this.Ao(),this.ts.ar()}Dt(){return this.pl===null&&(this.pl=Nl(this.dl)),this.pl}Qo(t,e){e=ii(e,0,this.dl.length-1);const s=this.dl.indexOf(t);Et(s!==-1,"setSeriesOrder: invalid data source"),this.dl.splice(s,1),this.dl.splice(e,0,t),this.dl.forEach((n,r)=>n.ls(r)),this.pl=null;for(const n of[this.Po,this.yo])n.Ql(),n.ga();this.ts.ar()}It(){return this.Dt().filter(Xr)}t_(){return this.xo}i_(){return this.Co}ua(t){this.kh.push(new Xp(t))}ca(t){this.kh=this.kh.filter(e=>e.oh()!==t),t.detached&&t.detached(),this.ts.ar()}s_(){return this.kh}sa(t,e){return this.kh.map(s=>s.jn(t,e)).filter(s=>s!==null)}Xo(t){const e=t.do();if(e&&e.length>0&&!this.uh.Ki()){const s=this.uh.Pe();s!==null&&t.fo(s)}t.Ns()}No(t,e,s){let n=this.Do(e);if(n===null&&(n=this.ko(e,this.ts.N().overlayPriceScales)),this.dl.splice(s,0,t),!Ss(e)){const r=this.wo.get(e)||[];r.push(t),this.wo.set(e,r)}t.ls(s),n.Jl(t),t._s(n),this.Fo(n),this.pl=null}To(t,e,s){e.ie!==s.ie&&this.Xo(t)}ko(t,e){const s={visible:!0,autoScale:!0,...me(e)},n=new uf(t,s,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return n.zl(this.$t()),n}}function qi(i){return{n_:i.n_,e_:{Kn:i.r_.externalId},h_:i.r_.cursorStyle}}function df(i,t,e,s){for(const n of i){const r=n.Tt(s);if(r!==null&&r.jn){const o=r.jn(t,e);if(o!==null)return{a_:n,e_:o}}}return null}function pf(i){return i.Fs!==void 0}function Dl(i,t,e){const s=[i,...i.Dt()],n=function(r,o,l){var d;let a,c;for(const f of r){const g=((d=f.sa)==null?void 0:d.call(f,o,l))??[];for(const v of g)h=v.zOrder,u=a==null?void 0:a.zOrder,(!u||h==="top"&&u!=="top"||h==="normal"&&u==="bottom")&&(a=v,c=f)}var h,u;return a&&c?{r_:a,n_:c}:null}(s,t,e);if((n==null?void 0:n.r_.zOrder)==="top")return qi(n);for(const r of s){if(n&&n.n_===r&&n.r_.zOrder!=="bottom"&&!n.r_.isBackground)return qi(n);if(pf(r)){const o=df(r.Fs(i),t,e,i);if(o!==null)return{n_:r,a_:o.a_,e_:o.e_}}if(n&&n.n_===r&&n.r_.zOrder!=="bottom"&&n.r_.isBackground)return qi(n)}return n!=null&&n.r_?qi(n):null}class ff{constructor(t,e,s=50){this.kn=0,this.yn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.l_=t,this.o_=e,this.Vn=s}__(t){const e=t.time,s=this.o_.cacheKey(e),n=this.Dn.get(s);if(n!==void 0)return n.u_;if(this.kn===this.Vn){const o=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(Vt(o)),this.Tn++,this.kn--}const r=this.l_(t);return this.Dn.set(s,{u_:r,An:this.yn}),this.Rn.set(this.yn,s),this.kn++,this.yn++,r}}class si{constructor(t,e){Et(t<=e,"right should be >= left"),this.c_=t,this.d_=e}Uh(){return this.c_}bi(){return this.d_}f_(){return this.d_-this.c_+1}Te(t){return this.c_<=t&&t<=this.d_}He(t){return this.c_===t.Uh()&&this.d_===t.bi()}}function Qr(i,t){return i===null||t===null?i===t:i.He(t)}class mf{constructor(){this.p_=new Map,this.Dn=null,this.v_=!1}m_(t){this.v_=t,this.Dn=null}w_(t,e){this.g_(e),this.Dn=null;for(let s=e;s<t.length;++s){const n=t[s];let r=this.p_.get(n.timeWeight);r===void 0&&(r=[],this.p_.set(n.timeWeight,r)),r.push({index:s,time:n.time,weight:n.timeWeight,originalTime:n.originalTime})}}M_(t,e,s,n,r){const o=Math.ceil(e/t);return this.Dn!==null&&this.Dn.b_===o&&r===this.Dn.S_&&s===this.Dn.x_||(this.Dn={S_:r,x_:s,Va:this.C_(o,s,n),b_:o}),this.Dn.Va}g_(t){if(t===0)return void this.p_.clear();const e=[];this.p_.forEach((s,n)=>{t<=s[0].index?e.push(n):s.splice(li(s,t,r=>r.index<t),1/0)});for(const s of e)this.p_.delete(s)}C_(t,e,s){let n=[];const r=o=>!e||s.has(o.index);for(const o of Array.from(this.p_.keys()).sort((l,a)=>a-l)){if(!this.p_.get(o))continue;const l=n;n=[];const a=l.length;let c=0;const h=Vt(this.p_.get(o)),u=h.length;let d=1/0,f=-1/0;for(let g=0;g<u;g++){const v=h[g],b=v.index;for(;c<a;){const w=l[c],x=w.index;if(!(x<b&&r(w))){d=x;break}c++,n.push(w),f=x,d=1/0}if(d-b>=t&&b-f>=t&&r(v))n.push(v),f=b;else if(this.v_)return l}for(;c<a;c++)r(l[c])&&n.push(l[c])}return n}}class ni{constructor(t){this.P_=t}k_(){return this.P_===null?null:new si(Math.floor(this.P_.Uh()),Math.ceil(this.P_.bi()))}y_(){return this.P_}static T_(){return new ni(null)}}function gf(i,t){return i.weight>t.weight?i:t}class vf{constructor(t,e,s,n){this.Mo=0,this.R_=null,this.D_=[],this.wl=null,this.ml=null,this.V_=new mf,this.I_=new Map,this.B_=ni.T_(),this.E_=!0,this.A_=new xt,this.z_=new xt,this.L_=new xt,this.O_=null,this.N_=null,this.F_=new Map,this.W_=-1,this.H_=[],this.Ps=e,this.Sl=s,this.U_=e.rightOffset,this.q_=e.barSpacing,this.ts=t,this.o_=n,this.Y_(),this.V_.m_(e.uniformDistribution),this.j_()}N(){return this.Ps}K_(t){Xt(this.Sl,t),this.X_(),this.Y_()}hr(t,e){Xt(this.Ps,t),this.Ps.fixLeftEdge&&this.Z_(),this.Ps.fixRightEdge&&this.G_(),t.barSpacing!==void 0&&this.ts.dn(t.barSpacing),t.rightOffset!==void 0&&this.ts.fn(t.rightOffset),t.minBarSpacing===void 0&&t.maxBarSpacing===void 0||this.ts.dn(t.barSpacing??this.q_),t.ignoreWhitespaceIndices!==void 0&&t.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.j_(),this.X_(),this.Y_(),this.L_.p()}Rs(t){var e;return((e=this.D_[t])==null?void 0:e.time)??null}ss(t){return this.D_[t]??null}J_(t,e){if(this.D_.length<1)return null;if(this.o_.key(t)>this.o_.key(this.D_[this.D_.length-1].time))return e?this.D_.length-1:null;const s=li(this.D_,this.o_.key(t),(n,r)=>this.o_.key(n.time)<r);return this.o_.key(t)<this.o_.key(this.D_[s].time)?e?s:null:s}Ki(){return this.Mo===0||this.D_.length===0||this.R_===null}Q_(){return this.D_.length>0}Pe(){return this.tu(),this.B_.k_()}iu(){return this.tu(),this.B_.y_()}su(){const t=this.Pe();if(t===null)return null;const e={from:t.Uh(),to:t.bi()};return this.nu(e)}nu(t){const e=Math.round(t.from),s=Math.round(t.to),n=k(this.eu()),r=k(this.ru());return{from:k(this.ss(Math.max(n,e))),to:k(this.ss(Math.min(r,s)))}}hu(t){return{from:k(this.J_(t.from,!0)),to:k(this.J_(t.to,!0))}}Qi(){return this.Mo}Eo(t){if(!isFinite(t)||t<=0||this.Mo===t)return;const e=this.iu(),s=this.Mo;if(this.Mo=t,this.E_=!0,this.Ps.lockVisibleTimeRangeOnResize&&s!==0){const n=this.q_*t/s;this.q_=n}if(this.Ps.fixLeftEdge&&e!==null&&e.Uh()<=0){const n=s-t;this.U_-=Math.round(n/this.q_)+1,this.E_=!0}this.au(),this.lu()}qt(t){if(this.Ki()||!Li(t))return 0;const e=this.ou()+this.U_-t;return this.Mo-(e+.5)*this.q_-1}_u(t,e){const s=this.ou(),n=e===void 0?0:e.from,r=e===void 0?t.length:e.to;for(let o=n;o<r;o++){const l=t[o].wt,a=s+this.U_-l,c=this.Mo-(a+.5)*this.q_-1;t[o]._t=c}}uu(t,e){const s=Math.ceil(this.cu(t));return e&&this.Ps.ignoreWhitespaceIndices&&!this.du(s)?this.fu(s):s}fn(t){this.E_=!0,this.U_=t,this.lu(),this.ts.pu(),this.ts.ar()}vu(){return this.q_}dn(t){this.mu(t),this.lu(),this.ts.pu(),this.ts.ar()}wu(){return this.U_}Va(){if(this.Ki())return null;if(this.N_!==null)return this.N_;const t=this.q_,e=5*(this.ts.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),s=Math.round(e/t),n=k(this.Pe()),r=Math.max(n.Uh(),n.Uh()-s),o=Math.max(n.bi(),n.bi()-s),l=this.V_.M_(t,e,this.Ps.ignoreWhitespaceIndices,this.F_,this.W_),a=this.eu()+s,c=this.ru()-s,h=this.gu(),u=this.Ps.fixLeftEdge||h,d=this.Ps.fixRightEdge||h;let f=0;for(const g of l){if(!(r<=g.index&&g.index<=o))continue;let v;f<this.H_.length?(v=this.H_[f],v.coord=this.qt(g.index),v.label=this.Mu(g),v.weight=g.weight):(v={needAlignCoordinate:!1,coord:this.qt(g.index),label:this.Mu(g),weight:g.weight},this.H_.push(v)),this.q_>e/2&&!h?v.needAlignCoordinate=!1:v.needAlignCoordinate=u&&g.index<=a||d&&g.index>=c,f++}return this.H_.length=f,this.N_=this.H_,this.H_}bu(){this.E_=!0,this.dn(this.Ps.barSpacing),this.fn(this.Ps.rightOffset)}Su(t){this.E_=!0,this.R_=t,this.lu(),this.Z_()}xu(t,e){const s=this.cu(t),n=this.vu(),r=n+e*(n/10);this.dn(r),this.Ps.rightBarStaysOnScroll||this.fn(this.wu()+(s-this.cu(t)))}eo(t){this.wl&&this.oo(),this.ml===null&&this.O_===null&&(this.Ki()||(this.ml=t,this.Cu()))}ro(t){if(this.O_===null)return;const e=ii(this.Mo-t,0,this.Mo),s=ii(this.Mo-k(this.ml),0,this.Mo);e!==0&&s!==0&&this.dn(this.O_.vu*e/s)}ho(){this.ml!==null&&(this.ml=null,this.Pu())}ao(t){this.wl===null&&this.O_===null&&(this.Ki()||(this.wl=t,this.Cu()))}lo(t){if(this.wl===null)return;const e=(this.wl-t)/this.vu();this.U_=k(this.O_).wu+e,this.E_=!0,this.lu()}oo(){this.wl!==null&&(this.wl=null,this.Pu())}ku(){this.yu(this.Ps.rightOffset)}yu(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const s=this.U_,n=performance.now();this.ts._n({Tu:r=>(r-n)/e>=1,Ru:r=>{const o=(r-n)/e;return o>=1?t:s+(t-s)*o}})}kt(t,e){this.E_=!0,this.D_=t,this.V_.w_(t,e),this.lu()}Du(){return this.A_}Vu(){return this.z_}Iu(){return this.L_}ou(){return this.R_||0}Bu(t){const e=t.f_();this.mu(this.Mo/e),this.U_=t.bi()-this.ou(),this.lu(),this.E_=!0,this.ts.pu(),this.ts.ar()}Eu(){const t=this.eu(),e=this.ru();t!==null&&e!==null&&this.Bu(new si(t,e+this.Ps.rightOffset))}Au(t){const e=new si(t.from,t.to);this.Bu(e)}ns(t){return this.Sl.timeFormatter!==void 0?this.Sl.timeFormatter(t.originalTime):this.o_.formatHorzItem(t.time)}j_(){if(!this.Ps.ignoreWhitespaceIndices)return;this.F_.clear();const t=this.ts.js();for(const e of t)for(const s of e.ma())this.F_.set(s,!0);this.W_++}gu(){const t=this.ts.N().handleScroll,e=this.ts.N().handleScale;return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}eu(){return this.D_.length===0?null:0}ru(){return this.D_.length===0?null:this.D_.length-1}zu(t){return(this.Mo-1-t)/this.q_}cu(t){const e=this.zu(t),s=this.ou()+this.U_-e;return Math.round(1e6*s)/1e6}mu(t){const e=this.q_;this.q_=t,this.au(),e!==this.q_&&(this.E_=!0,this.Lu())}tu(){if(!this.E_)return;if(this.E_=!1,this.Ki())return void this.Ou(ni.T_());const t=this.ou(),e=this.Mo/this.q_,s=this.U_+t,n=new si(s-e+1,s);this.Ou(new ni(n))}au(){const t=ii(this.q_,this.Nu(),this.Fu());this.q_!==t&&(this.q_=t,this.E_=!0)}Fu(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.Mo}Nu(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.D_.length!==0?this.Mo/this.D_.length:this.Ps.minBarSpacing}lu(){const t=this.Wu();t!==null&&this.U_<t&&(this.U_=t,this.E_=!0);const e=this.Hu();this.U_>e&&(this.U_=e,this.E_=!0)}Wu(){const t=this.eu(),e=this.R_;return t===null||e===null?null:t-e-1+(this.Ps.fixLeftEdge?this.Mo/this.q_:Math.min(2,this.D_.length))}Hu(){return this.Ps.fixRightEdge?0:this.Mo/this.q_-Math.min(2,this.D_.length)}Cu(){this.O_={vu:this.vu(),wu:this.wu()}}Pu(){this.O_=null}Mu(t){let e=this.I_.get(t.weight);return e===void 0&&(e=new ff(s=>this.Uu(s),this.o_),this.I_.set(t.weight,e)),e.__(t)}Uu(t){return this.o_.formatTickmark(t,this.Sl)}Ou(t){const e=this.B_;this.B_=t,Qr(e.k_(),this.B_.k_())||this.A_.p(),Qr(e.y_(),this.B_.y_())||this.z_.p(),this.Lu()}Lu(){this.N_=null}X_(){this.Lu(),this.I_.clear()}Y_(){this.o_.updateFormatter(this.Sl)}Z_(){if(!this.Ps.fixLeftEdge)return;const t=this.eu();if(t===null)return;const e=this.Pe();if(e===null)return;const s=e.Uh()-t;if(s<0){const n=this.U_-s-1;this.fn(n)}this.au()}G_(){this.lu(),this.au()}du(t){return!this.Ps.ignoreWhitespaceIndices||this.F_.get(t)||!1}fu(t){const e=function*(n){const r=Math.round(n),o=r<n;let l=1;for(;;)o?(yield r+l,yield r-l):(yield r-l,yield r+l),l++}(t),s=this.ru();for(;s;){const n=e.next().value;if(this.F_.get(n))return n;if(n<0||n>s)break}return t}}var qr,Zr,Jr,to,eo;(function(i){i[i.OnTouchEnd=0]="OnTouchEnd",i[i.OnNextTap=1]="OnNextTap"})(qr||(qr={}));class bf{constructor(t,e,s){this.$u=[],this.qu=[],this.Mo=0,this.Yu=null,this.ju=new xt,this.Ku=new xt,this.Xu=null,this.Zu=t,this.Ps=e,this.o_=s,this.xl=new vp(this.Ps.layout.colorParsers),this.Gu=new gp(this),this.uh=new vf(this,e.timeScale,this.Ps.localization,s),this.Ct=new _p(this,e.crosshair),this.Ju=new rf(e.crosshair),e.addDefaultPane&&(this.Qu(0),this.$u[0].Bo(2)),this.tc=this.sc(0),this.nc=this.sc(1)}Bh(){this.ec(_t.gn())}ar(){this.ec(_t.wn())}Zh(){this.ec(new _t(1))}Eh(t){const e=this.rc(t);this.ec(e)}hc(){return this.Yu}ac(t){var s,n,r,o;if(((s=this.Yu)==null?void 0:s.n_)===(t==null?void 0:t.n_)&&((r=(n=this.Yu)==null?void 0:n.e_)==null?void 0:r.Kn)===((o=t==null?void 0:t.e_)==null?void 0:o.Kn))return;const e=this.Yu;this.Yu=t,e!==null&&this.Eh(e.n_),t!==null&&t.n_!==(e==null?void 0:e.n_)&&this.Eh(t.n_)}N(){return this.Ps}hr(t){Xt(this.Ps,t),this.$u.forEach(e=>e.Ro(t)),t.timeScale!==void 0&&this.uh.hr(t.timeScale),t.localization!==void 0&&this.uh.K_(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.ju.p(),this.tc=this.sc(0),this.nc=this.sc(1),this.Bh()}lc(t,e,s=0){const n=this.$u[s];if(n===void 0)return;if(t==="left")return Xt(this.Ps,{leftPriceScale:e}),n.Ro({leftPriceScale:e}),this.ju.p(),void this.Bh();if(t==="right")return Xt(this.Ps,{rightPriceScale:e}),n.Ro({rightPriceScale:e}),this.ju.p(),void this.Bh();const r=this.oc(t,s);r!==null&&(r.Ft.hr(e),this.ju.p())}oc(t,e){const s=this.$u[e];if(s===void 0)return null;const n=s.Do(t);return n!==null?{Us:s,Ft:n}:null}Et(){return this.uh}$s(){return this.$u}_c(){return this.Ct}uc(){return this.Ku}cc(t,e){t.zl(e),this.pu()}Eo(t){this.Mo=t,this.uh.Eo(this.Mo),this.$u.forEach(e=>e.Eo(t)),this.pu()}dc(t){this.$u.length!==1&&(Et(t>=0&&t<this.$u.length,"Invalid pane index"),this.$u.splice(t,1),this.Bh())}fc(t,e){if(this.$u.length<2)return;Et(t>=0&&t<this.$u.length,"Invalid pane index");const s=this.$u[t],n=this.$u.reduce((u,d)=>u+d.Io(),0),r=this.$u.reduce((u,d)=>u+d.$t(),0),o=r-30*(this.$u.length-1);e=Math.min(o,Math.max(30,e));const l=n/r,a=s.$t();s.Bo(e*l);let c=e-a,h=this.$u.length-1;for(const u of this.$u)if(u!==s){const d=Math.min(o,Math.max(30,u.$t()-c/h));c-=u.$t()-d,h-=1;const f=d*l;u.Bo(f)}this.Bh()}vc(t,e){Et(t>=0&&t<this.$u.length&&e>=0&&e<this.$u.length,"Invalid pane index");const s=this.$u[t],n=this.$u[e];this.$u[t]=n,this.$u[e]=s,this.Bh()}mc(t,e){if(Et(t>=0&&t<this.$u.length&&e>=0&&e<this.$u.length,"Invalid pane index"),t===e)return;const[s]=this.$u.splice(t,1);this.$u.splice(e,0,s),this.Bh()}Uo(t,e,s){t.Uo(e,s)}$o(t,e,s){t.$o(e,s),this.Ah(),this.ec(this.wc(t,2))}qo(t,e){t.qo(e),this.ec(this.wc(t,2))}Yo(t,e,s){e.Rl()||t.Yo(e,s)}jo(t,e,s){e.Rl()||(t.jo(e,s),this.Ah(),this.ec(this.wc(t,2)))}Ko(t,e){e.Rl()||(t.Ko(e),this.ec(this.wc(t,2)))}Zo(t,e){t.Zo(e),this.ec(this.wc(t,2))}gc(t){this.uh.eo(t)}Mc(t,e){const s=this.Et();if(s.Ki()||e===0)return;const n=s.Qi();t=Math.max(1,Math.min(t,n)),s.xu(t,e),this.pu()}bc(t){this.Sc(0),this.xc(t),this.Cc()}Pc(t){this.uh.ro(t),this.pu()}kc(){this.uh.ho(),this.ar()}Sc(t){this.uh.ao(t)}xc(t){this.uh.lo(t),this.pu()}Cc(){this.uh.oo(),this.ar()}js(){return this.qu}yc(t,e,s,n,r){this.Ct.Vs(t,e);let o=NaN,l=this.uh.uu(t,!0);const a=this.uh.Pe();a!==null&&(l=Math.min(Math.max(a.Uh(),l),a.bi()));const c=n.ys(),h=c.zt();if(h!==null&&(o=c.Ts(e,h)),o=this.Ju.Ma(o,l,n),this.Ct.As(l,o,n),this.Zh(),!r){const u=Dl(n,t,e);this.ac(u&&{n_:u.n_,e_:u.e_,h_:u.h_||null}),this.Ku.p(this.Ct.Bt(),{x:t,y:e},s)}}Tc(t,e,s){const n=s.ys(),r=n.zt(),o=n.Nt(t,k(r)),l=this.uh.J_(e,!0),a=this.uh.qt(k(l));this.yc(a,o,null,s,!0)}Rc(t){this._c().Ls(),this.Zh(),t||this.Ku.p(null,null,null)}Ah(){const t=this.Ct.Us();if(t!==null){const e=this.Ct.Bs(),s=this.Ct.Es();this.yc(e,s,null,t)}this.Ct.Ns()}Dc(t,e,s){const n=this.uh.Rs(0);e!==void 0&&s!==void 0&&this.uh.kt(e,s);const r=this.uh.Rs(0),o=this.uh.ou(),l=this.uh.Pe();if(l!==null&&n!==null&&r!==null){const a=l.Te(o),c=this.o_.key(n)>this.o_.key(r),h=t!==null&&t>o&&!c,u=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,d=a&&(s!==void 0||u)&&this.uh.N().shiftVisibleRangeOnNewBar;if(h&&!d){const f=t-o;this.uh.fn(this.uh.wu()-f)}}this.uh.Su(t)}Lh(t){t!==null&&t.Jo()}Hn(t){if(function(s){return s instanceof Kr}(t))return t;const e=this.$u.find(s=>s.Dt().includes(t));return e===void 0?null:e}pu(){this.$u.forEach(t=>t.Jo()),this.Ah()}m(){this.$u.forEach(t=>t.m()),this.$u.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Vc(){return this.Gu}Yn(){return this.Gu.N()}Vo(){return this.ju}Ic(t,e){const s=this.Qu(e);this.Bc(t,s),this.qu.push(t),this.qu.length===1?this.Bh():this.ar()}Ec(t){const e=this.Hn(t),s=this.qu.indexOf(t);Et(s!==-1,"Series not found");const n=k(e);this.qu.splice(s,1),n.io(t),t.m&&t.m(),this.uh.j_(),this.Ac(n)}Ih(t,e){const s=k(this.Hn(t));s.io(t,!0),s.Jl(t,e,!0)}Eu(){const t=_t.wn();t.rn(),this.ec(t)}zc(t){const e=_t.wn();e.ln(t),this.ec(e)}cn(){const t=_t.wn();t.cn(),this.ec(t)}dn(t){const e=_t.wn();e.dn(t),this.ec(e)}fn(t){const e=_t.wn();e.fn(t),this.ec(e)}_n(t){const e=_t.wn();e._n(t),this.ec(e)}hn(){const t=_t.wn();t.hn(),this.ec(t)}Lc(){return this.Ps.rightPriceScale.visible?"right":"left"}Oc(t,e){if(Et(e>=0,"Index should be greater or equal to 0"),e===this.Nc(t))return;const s=k(this.Hn(t));s.io(t);const n=this.Qu(e);this.Bc(t,n),s.ba().length===0&&this.Ac(s),this.Bh()}Fc(){return this.nc}$(){return this.tc}Ut(t){const e=this.nc,s=this.tc;if(e===s)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Xu===null||this.Xu.mr!==s||this.Xu.wr!==e)this.Xu={mr:s,wr:e,Wc:new Map};else{const r=this.Xu.Wc.get(t);if(r!==void 0)return r}const n=this.xl.tt(s,e,t/100);return this.Xu.Wc.set(t,n),n}Hc(t){return this.$u.indexOf(t)}Xi(){return this.xl}Uc(){return this.$c()}$c(t){const e=new Kr(this.uh,this);this.$u.push(e);const s=t??this.$u.length-1,n=_t.gn();return n.Qs(s,{tn:0,sn:!0}),this.ec(n),e}Qu(t){return Et(t>=0,"Index should be greater or equal to 0"),(t=Math.min(this.$u.length,t))<this.$u.length?this.$u[t]:this.$c(t)}Nc(t){return this.$u.findIndex(e=>e.Oo().includes(t))}wc(t,e){const s=new _t(e);if(t!==null){const n=this.$u.indexOf(t);s.Qs(n,{tn:e})}return s}rc(t,e){return e===void 0&&(e=2),this.wc(this.Hn(t),e)}ec(t){this.Zu&&this.Zu(t),this.$u.forEach(e=>e.i_().lr().kt())}Bc(t,e){const s=t.N().priceScaleId,n=s!==void 0?s:this.Lc();e.Jl(t,n),Ss(n)||t.hr(t.N())}sc(t){const e=this.Ps.layout;return e.background.type==="gradient"?t===0?e.background.topColor:e.background.bottomColor:e.background.color}Ac(t){!t.Lo()&&t.ba().length===0&&this.$u.length>1&&this.$u.splice(this.Hc(t),1)}}function ln(i){return!Ue(i)&&!Wi(i)}function Fl(i){return Ue(i)}(function(i){i[i.Disabled=0]="Disabled",i[i.Continuous=1]="Continuous",i[i.OnDataUpdate=2]="OnDataUpdate"})(Zr||(Zr={})),function(i){i[i.LastBar=0]="LastBar",i[i.LastVisible=1]="LastVisible"}(Jr||(Jr={})),function(i){i.Solid="solid",i.VerticalGradient="gradient"}(to||(to={})),function(i){i[i.Year=0]="Year",i[i.Month=1]="Month",i[i.DayOfMonth=2]="DayOfMonth",i[i.Time=3]="Time",i[i.TimeWithSeconds=4]="TimeWithSeconds"}(eo||(eo={}));const io=i=>i.getUTCFullYear();function wf(i,t,e){return t.replace(/yyyy/g,(s=>ge(io(s),4))(i)).replace(/yy/g,(s=>ge(io(s)%100,2))(i)).replace(/MMMM/g,((s,n)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(n,{month:"long"}))(i,e)).replace(/MMM/g,((s,n)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(n,{month:"short"}))(i,e)).replace(/MM/g,(s=>ge((n=>n.getUTCMonth()+1)(s),2))(i)).replace(/dd/g,(s=>ge((n=>n.getUTCDate())(s),2))(i))}class Ol{constructor(t="yyyy-MM-dd",e="default"){this.qc=t,this.Yc=e}__(t){return wf(t,this.qc,this.Yc)}}class xf{constructor(t){this.jc=t||"%h:%m:%s"}__(t){return this.jc.replace("%h",ge(t.getUTCHours(),2)).replace("%m",ge(t.getUTCMinutes(),2)).replace("%s",ge(t.getUTCSeconds(),2))}}const yf={Kc:"yyyy-MM-dd",Xc:"%h:%m:%s",Zc:" ",Gc:"default"};class Sf{constructor(t={}){const e={...yf,...t};this.Jc=new Ol(e.Kc,e.Gc),this.Qc=new xf(e.Xc),this.td=e.Zc}__(t){return`${this.Jc.__(t)}${this.td}${this.Qc.__(t)}`}}function Zi(i){return 60*i*60*1e3}function Hs(i){return 60*i*1e3}const Ji=[{sd:(so=1,1e3*so),nd:10},{sd:Hs(1),nd:20},{sd:Hs(5),nd:21},{sd:Hs(30),nd:22},{sd:Zi(1),nd:30},{sd:Zi(3),nd:31},{sd:Zi(6),nd:32},{sd:Zi(12),nd:33}];var so;function no(i,t){if(i.getUTCFullYear()!==t.getUTCFullYear())return 70;if(i.getUTCMonth()!==t.getUTCMonth())return 60;if(i.getUTCDate()!==t.getUTCDate())return 50;for(let e=Ji.length-1;e>=0;--e)if(Math.floor(t.getTime()/Ji[e].sd)!==Math.floor(i.getTime()/Ji[e].sd))return Ji[e].nd;return 0}function Us(i){let t=i;if(Wi(i)&&(t=Nn(i)),!ln(t))throw new Error("time must be of type BusinessDay");const e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{ed:Math.round(e.getTime()/1e3),rd:t}}function ro(i){if(!Fl(i))throw new Error("time must be of type isUTCTimestamp");return{ed:i}}function Nn(i){const t=new Date(i);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${i}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function oo(i){Wi(i.time)&&(i.time=Nn(i.time))}class lo{options(){return this.Ps}setOptions(t){this.Ps=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(e){e.forEach(oo)}(t):oo(t)}createConverterToInternalObj(t){return k(function(e){return e.length===0?null:ln(e[0].time)||Wi(e[0].time)?Us:ro}(t))}key(t){return typeof t=="object"&&"ed"in t?t.ed:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return e.rd===void 0?new Date(1e3*e.ed).getTime():new Date(Date.UTC(e.rd.year,e.rd.month-1,e.rd.day)).getTime()}convertHorzItemToInternal(t){return Fl(e=t)?ro(e):ln(e)?Us(e):Us(Nn(e));var e}updateFormatter(t){if(!this.Ps)return;const e=t.dateFormat;this.Ps.timeScale.timeVisible?this.hd=new Sf({Kc:e,Xc:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Zc:"   ",Gc:t.locale}):this.hd=new Ol(e,t.locale)}formatHorzItem(t){const e=t;return this.hd.__(new Date(1e3*e.ed))}formatTickmark(t,e){const s=function(r,o,l){switch(r){case 0:case 10:return o?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),n=this.Ps.timeScale;if(n.tickMarkFormatter!==void 0){const r=n.tickMarkFormatter(t.originalTime,s,e.locale);if(r!==null)return r}return function(r,o,l){const a={};switch(o){case 0:a.year="numeric";break;case 1:a.month="short";break;case 2:a.day="numeric";break;case 3:a.hour12=!1,a.hour="2-digit",a.minute="2-digit";break;case 4:a.hour12=!1,a.hour="2-digit",a.minute="2-digit",a.second="2-digit"}const c=r.rd===void 0?new Date(1e3*r.ed):new Date(Date.UTC(r.rd.year,r.rd.month-1,r.rd.day));return new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()).toLocaleString(l,a)}(t.time,s,e.locale)}maxTickMarkWeight(t){let e=t.reduce(gf,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){(function(s,n=0){if(s.length===0)return;let r=n===0?null:s[n-1].time.ed,o=r!==null?new Date(1e3*r):null,l=0;for(let a=n;a<s.length;++a){const c=s[a],h=new Date(1e3*c.time.ed);o!==null&&(c.timeWeight=no(h,o)),l+=c.time.ed-(r||c.time.ed),r=c.time.ed,o=h}if(n===0&&s.length>1){const a=Math.ceil(l/(s.length-1)),c=new Date(1e3*(s[0].time.ed-a));s[0].timeWeight=no(new Date(1e3*s[0].time.ed),c)}})(t,e)}static ad(t){return Xt({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const ai=typeof window<"u";function ao(){return!!ai&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Gs(){return!!ai&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function an(i){return i+i%2}function Cf(i){ai&&window.chrome!==void 0&&i.addEventListener("mousedown",t=>{if(t.button===1)return t.preventDefault(),!1})}class Ps{constructor(t,e,s){this.ld=0,this.od=null,this._d={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.ud=0,this.dd=null,this.fd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.pd=null,this.vd=!1,this.md=null,this.wd=null,this.gd=!1,this.Md=!1,this.bd=!1,this.Sd=null,this.xd=null,this.Cd=null,this.Pd=null,this.kd=null,this.yd=null,this.Td=null,this.Rd=0,this.Dd=!1,this.Vd=!1,this.Id=!1,this.Bd=0,this.Ed=null,this.Ad=!Gs(),this.zd=n=>{this.Ld(n)},this.Od=n=>{if(this.Nd(n)){const r=this.Fd(n);if(++this.ud,this.dd&&this.ud>1){const{Wd:o}=this.Hd(oe(n),this.fd);o<30&&!this.bd&&this.Ud(r,this.qd.$d),this.Yd()}}else{const r=this.Fd(n);if(++this.ld,this.od&&this.ld>1){const{Wd:o}=this.Hd(oe(n),this._d);o<5&&!this.Md&&this.jd(r,this.qd.Kd),this.Xd()}}},this.Zd=t,this.qd=e,this.Ps=s,this.Gd()}m(){this.Sd!==null&&(this.Sd(),this.Sd=null),this.xd!==null&&(this.xd(),this.xd=null),this.Pd!==null&&(this.Pd(),this.Pd=null),this.kd!==null&&(this.kd(),this.kd=null),this.yd!==null&&(this.yd(),this.yd=null),this.Cd!==null&&(this.Cd(),this.Cd=null),this.Jd(),this.Xd()}Qd(t){this.Pd&&this.Pd();const e=this.tf.bind(this);if(this.Pd=()=>{this.Zd.removeEventListener("mousemove",e)},this.Zd.addEventListener("mousemove",e),this.Nd(t))return;const s=this.Fd(t);this.jd(s,this.qd.if),this.Ad=!0}Xd(){this.od!==null&&clearTimeout(this.od),this.ld=0,this.od=null,this._d={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Yd(){this.dd!==null&&clearTimeout(this.dd),this.ud=0,this.dd=null,this.fd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}tf(t){if(this.Id||this.wd!==null||this.Nd(t))return;const e=this.Fd(t);this.jd(e,this.qd.sf),this.Ad=!0}nf(t){const e=Xs(t.changedTouches,k(this.Ed));if(e===null||(this.Bd=ts(t),this.Td!==null)||this.Vd)return;this.Dd=!0;const s=this.Hd(oe(e),k(this.wd)),{ef:n,rf:r,Wd:o}=s;if(this.gd||!(o<5)){if(!this.gd){const l=.5*n,a=r>=l&&!this.Ps.hf(),c=l>r&&!this.Ps.af();a||c||(this.Vd=!0),this.gd=!0,this.bd=!0,this.Jd(),this.Yd()}if(!this.Vd){const l=this.Fd(t,e);this.Ud(l,this.qd.lf),qe(t)}}}_f(t){if(t.button!==0)return;const e=this.Hd(oe(t),k(this.md)),{Wd:s}=e;if(s>=5&&(this.Md=!0,this.Xd()),this.Md){const n=this.Fd(t);this.jd(n,this.qd.uf)}}Hd(t,e){const s=Math.abs(e._t-t._t),n=Math.abs(e.ut-t.ut);return{ef:s,rf:n,Wd:s+n}}cf(t){let e=Xs(t.changedTouches,k(this.Ed));if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e===null)return;this.Ed=null,this.Bd=ts(t),this.Jd(),this.wd=null,this.yd&&(this.yd(),this.yd=null);const s=this.Fd(t,e);if(this.Ud(s,this.qd.df),++this.ud,this.dd&&this.ud>1){const{Wd:n}=this.Hd(oe(e),this.fd);n<30&&!this.bd&&this.Ud(s,this.qd.$d),this.Yd()}else this.bd||(this.Ud(s,this.qd.ff),this.qd.ff&&qe(t));this.ud===0&&qe(t),t.touches.length===0&&this.vd&&(this.vd=!1,qe(t))}Ld(t){if(t.button!==0)return;const e=this.Fd(t);if(this.md=null,this.Id=!1,this.kd&&(this.kd(),this.kd=null),ao()&&this.Zd.ownerDocument.documentElement.removeEventListener("mouseleave",this.zd),!this.Nd(t))if(this.jd(e,this.qd.pf),++this.ld,this.od&&this.ld>1){const{Wd:s}=this.Hd(oe(t),this._d);s<5&&!this.Md&&this.jd(e,this.qd.Kd),this.Xd()}else this.Md||this.jd(e,this.qd.vf)}Jd(){this.pd!==null&&(clearTimeout(this.pd),this.pd=null)}mf(t){if(this.Ed!==null)return;const e=t.changedTouches[0];this.Ed=e.identifier,this.Bd=ts(t);const s=this.Zd.ownerDocument.documentElement;this.bd=!1,this.gd=!1,this.Vd=!1,this.wd=oe(e),this.yd&&(this.yd(),this.yd=null);{const r=this.nf.bind(this),o=this.cf.bind(this);this.yd=()=>{s.removeEventListener("touchmove",r),s.removeEventListener("touchend",o)},s.addEventListener("touchmove",r,{passive:!1}),s.addEventListener("touchend",o,{passive:!1}),this.Jd(),this.pd=setTimeout(this.wf.bind(this,t),240)}const n=this.Fd(t,e);this.Ud(n,this.qd.gf),this.dd||(this.ud=0,this.dd=setTimeout(this.Yd.bind(this),500),this.fd=oe(e))}Mf(t){if(t.button!==0)return;const e=this.Zd.ownerDocument.documentElement;ao()&&e.addEventListener("mouseleave",this.zd),this.Md=!1,this.md=oe(t),this.kd&&(this.kd(),this.kd=null);{const n=this._f.bind(this),r=this.Ld.bind(this);this.kd=()=>{e.removeEventListener("mousemove",n),e.removeEventListener("mouseup",r)},e.addEventListener("mousemove",n),e.addEventListener("mouseup",r)}if(this.Id=!0,this.Nd(t))return;const s=this.Fd(t);this.jd(s,this.qd.bf),this.od||(this.ld=0,this.od=setTimeout(this.Xd.bind(this),500),this._d=oe(t))}Gd(){this.Zd.addEventListener("mouseenter",this.Qd.bind(this)),this.Zd.addEventListener("touchcancel",this.Jd.bind(this));{const t=this.Zd.ownerDocument,e=s=>{this.qd.Sf&&(s.composed&&this.Zd.contains(s.composedPath()[0])||s.target&&this.Zd.contains(s.target)||this.qd.Sf())};this.xd=()=>{t.removeEventListener("touchstart",e)},this.Sd=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}Gs()&&(this.Cd=()=>{this.Zd.removeEventListener("dblclick",this.Od)},this.Zd.addEventListener("dblclick",this.Od)),this.Zd.addEventListener("mouseleave",this.xf.bind(this)),this.Zd.addEventListener("touchstart",this.mf.bind(this),{passive:!0}),Cf(this.Zd),this.Zd.addEventListener("mousedown",this.Mf.bind(this)),this.Cf(),this.Zd.addEventListener("touchmove",()=>{},{passive:!1})}Cf(){this.qd.Pf===void 0&&this.qd.kf===void 0&&this.qd.yf===void 0||(this.Zd.addEventListener("touchstart",t=>this.Tf(t.touches),{passive:!0}),this.Zd.addEventListener("touchmove",t=>{if(t.touches.length===2&&this.Td!==null&&this.qd.kf!==void 0){const e=co(t.touches[0],t.touches[1])/this.Rd;this.qd.kf(this.Td,e),qe(t)}},{passive:!1}),this.Zd.addEventListener("touchend",t=>{this.Tf(t.touches)}))}Tf(t){t.length===1&&(this.Dd=!1),t.length!==2||this.Dd||this.vd?this.Rf():this.Df(t)}Df(t){const e=this.Zd.getBoundingClientRect()||{left:0,top:0};this.Td={_t:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,ut:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Rd=co(t[0],t[1]),this.qd.Pf!==void 0&&this.qd.Pf(),this.Jd()}Rf(){this.Td!==null&&(this.Td=null,this.qd.yf!==void 0&&this.qd.yf())}xf(t){if(this.Pd&&this.Pd(),this.Nd(t)||!this.Ad)return;const e=this.Fd(t);this.jd(e,this.qd.Vf),this.Ad=!Gs()}wf(t){const e=Xs(t.touches,k(this.Ed));if(e===null)return;const s=this.Fd(t,e);this.Ud(s,this.qd.If),this.bd=!0,this.vd=!0}Nd(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:ts(t)<this.Bd+500}Ud(t,e){e&&e.call(this.qd,t)}jd(t,e){e&&e.call(this.qd,t)}Fd(t,e){const s=e||t,n=this.Zd.getBoundingClientRect()||{left:0,top:0};return{clientX:s.clientX,clientY:s.clientY,pageX:s.pageX,pageY:s.pageY,screenX:s.screenX,screenY:s.screenY,localX:s.clientX-n.left,localY:s.clientY-n.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Bf:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",Ef:t.type,Af:s.target,a_:t.view,zf:()=>{t.type!=="touchstart"&&qe(t)}}}}function co(i,t){const e=i.clientX-t.clientX,s=i.clientY-t.clientY;return Math.sqrt(e*e+s*s)}function qe(i){i.cancelable&&i.preventDefault()}function oe(i){return{_t:i.pageX,ut:i.pageY}}function ts(i){return i.timeStamp||performance.now()}function Xs(i,t){for(let e=0;e<i.length;++e)if(i[e].identifier===t)return i[e];return null}class Mf{constructor(t,e,s){this.Lf=null,this.Of=null,this.Nf=!0,this.Ff=null,this.Wf=t,this.Hf=t.Uf()[e],this.$f=t.Uf()[s],this.qf=document.createElement("tr"),this.qf.style.height="1px",this.Yf=document.createElement("td"),this.Yf.style.position="relative",this.Yf.style.padding="0",this.Yf.style.margin="0",this.Yf.setAttribute("colspan","3"),this.jf(),this.qf.appendChild(this.Yf),this.Nf=this.Wf.N().layout.panes.enableResize,this.Nf?this.Kf():(this.Lf=null,this.Of=null)}m(){this.Of!==null&&this.Of.m()}Xf(){return this.qf}Zf(){return pt({width:this.Hf.Zf().width,height:1})}Gf(){return pt({width:this.Hf.Gf().width,height:1*window.devicePixelRatio})}Jf(t,e,s){const n=this.Gf();t.fillStyle=this.Wf.N().layout.panes.separatorColor,t.fillRect(e,s,n.width,n.height)}kt(){this.jf(),this.Wf.N().layout.panes.enableResize!==this.Nf&&(this.Nf=this.Wf.N().layout.panes.enableResize,this.Nf?this.Kf():(this.Lf!==null&&(this.Yf.removeChild(this.Lf.Qf),this.Yf.removeChild(this.Lf.tp),this.Lf=null),this.Of!==null&&(this.Of.m(),this.Of=null)))}Kf(){const t=document.createElement("div"),e=t.style;e.position="fixed",e.display="none",e.zIndex="49",e.top="0",e.left="0",e.width="100%",e.height="100%",e.cursor="row-resize",this.Yf.appendChild(t);const s=document.createElement("div"),n=s.style;n.position="absolute",n.zIndex="50",n.top="-4px",n.height="9px",n.width="100%",n.backgroundColor="",n.cursor="row-resize",this.Yf.appendChild(s);const r={if:this.ip.bind(this),Vf:this.sp.bind(this),bf:this.np.bind(this),gf:this.np.bind(this),uf:this.ep.bind(this),lf:this.ep.bind(this),pf:this.rp.bind(this),df:this.rp.bind(this)};this.Of=new Ps(s,r,{hf:()=>!1,af:()=>!0}),this.Lf={tp:s,Qf:t}}jf(){this.Yf.style.background=this.Wf.N().layout.panes.separatorColor}ip(t){this.Lf!==null&&(this.Lf.tp.style.backgroundColor=this.Wf.N().layout.panes.separatorHoverColor)}sp(t){this.Lf!==null&&this.Ff===null&&(this.Lf.tp.style.backgroundColor="")}np(t){if(this.Lf===null)return;const e=this.Hf.hp().Io()+this.$f.hp().Io(),s=e/(this.Hf.Zf().height+this.$f.Zf().height),n=30*s;e<=2*n||(this.Ff={ap:t.pageY,lp:this.Hf.hp().Io(),op:e-n,_p:e,up:s,cp:n},this.Lf.Qf.style.display="block")}ep(t){const e=this.Ff;if(e===null)return;const s=(t.pageY-e.ap)*e.up,n=ii(e.lp+s,e.cp,e.op);this.Hf.hp().Bo(n),this.$f.hp().Bo(e._p-n),this.Wf.Qt().Bh()}rp(t){this.Ff!==null&&this.Lf!==null&&(this.Ff=null,this.Lf.Qf.style.display="none")}}function Ks(i,t){return i.dp-t.dp}function Qs(i,t,e){const s=(i.dp-t.dp)/(i.wt-t.wt);return Math.sign(s)*Math.min(Math.abs(s),e)}class Pf{constructor(t,e,s,n){this.fp=null,this.pp=null,this.vp=null,this.mp=null,this.wp=null,this.gp=0,this.Mp=0,this.bp=t,this.Sp=e,this.xp=s,this.Mn=n}Cp(t,e){if(this.fp!==null){if(this.fp.wt===e)return void(this.fp.dp=t);if(Math.abs(this.fp.dp-t)<this.Mn)return}this.mp=this.vp,this.vp=this.pp,this.pp=this.fp,this.fp={wt:e,dp:t}}le(t,e){if(this.fp===null||this.pp===null||e-this.fp.wt>50)return;let s=0;const n=Qs(this.fp,this.pp,this.Sp),r=Ks(this.fp,this.pp),o=[n],l=[r];if(s+=r,this.vp!==null){const c=Qs(this.pp,this.vp,this.Sp);if(Math.sign(c)===Math.sign(n)){const h=Ks(this.pp,this.vp);if(o.push(c),l.push(h),s+=h,this.mp!==null){const u=Qs(this.vp,this.mp,this.Sp);if(Math.sign(u)===Math.sign(n)){const d=Ks(this.vp,this.mp);o.push(u),l.push(d),s+=d}}}}let a=0;for(let c=0;c<o.length;++c)a+=l[c]/s*o[c];Math.abs(a)<this.bp||(this.wp={dp:t,wt:e},this.Mp=a,this.gp=function(c,h){const u=Math.log(h);return Math.log(1*u/-c)/u}(Math.abs(a),this.xp))}Ru(t){const e=k(this.wp),s=t-e.wt;return e.dp+this.Mp*(Math.pow(this.xp,s)-1)/Math.log(this.xp)}Tu(t){return this.wp===null||this.Pp(t)===this.gp}Pp(t){const e=t-k(this.wp).wt;return Math.min(e,this.gp)}}class kf{constructor(t,e){this.kp=void 0,this.yp=void 0,this.Tp=void 0,this.ps=!1,this.Rp=t,this.Dp=e,this.Vp()}kt(){this.Vp()}Ip(){this.kp&&this.Rp.removeChild(this.kp),this.yp&&this.Rp.removeChild(this.yp),this.kp=void 0,this.yp=void 0}Bp(){return this.ps!==this.Ep()||this.Tp!==this.Ap()}Ap(){return this.Dp.Qt().Xi().J(this.Dp.N().layout.textColor)>160?"dark":"light"}Ep(){return this.Dp.N().layout.attributionLogo}zp(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}Vp(){this.Bp()&&(this.Ip(),this.ps=this.Ep(),this.ps&&(this.Tp=this.Ap(),this.yp=document.createElement("style"),this.yp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.kp=document.createElement("a"),this.kp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.zp()}`,this.kp.title="Charting by TradingView",this.kp.id="tv-attr-logo",this.kp.target="_blank",this.kp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.kp.toggleAttribute("data-dark",this.Tp==="dark"),this.Rp.appendChild(this.yp),this.Rp.appendChild(this.kp)))}}function Ge(i,t){const e=k(i.ownerDocument).createElement("canvas");i.appendChild(e);const s=up(e,{options:{allowResizeObserver:!0},transform:(n,r)=>({width:Math.max(n.width,r.width),height:Math.max(n.height,r.height)})});return s.resizeCanvasElement(t),s}function Xe(i){var t;i.width=1,i.height=1,(t=i.getContext("2d"))==null||t.clearRect(0,0,1,1)}function cn(i,t,e,s){i.ih&&i.ih(t,e,s)}function rs(i,t,e,s){i.nt(t,e,s)}function hn(i,t,e,s){const n=i(e,s);for(const r of n){const o=r.Tt(s);o!==null&&t(o)}}function qs(i,t){return e=>{var s,n;return function(r){return r.Ft!==void 0}(e)?(((s=e.Ft())==null?void 0:s.wa())??"")!==t?[]:((n=e.ta)==null?void 0:n.call(e,i))??[]:[]}}function ho(i,t,e,s){if(!i.length)return;let n=0;const r=i[0].$t(s,!0);let o=t===1?e/2-(i[0].Fi()-r/2):i[0].Fi()-r/2-e/2;o=Math.max(0,o);for(let l=1;l<i.length;l++){const a=i[l],c=i[l-1],h=c.$t(s,!1),u=a.Fi(),d=c.Fi();if(t===1?u>d-h:u<d+h){const f=d-h*t;a.Wi(f);const g=f-t*h/2;if((t===1?g<0:g>e)&&o>0){const v=t===1?-1-g:g-e,b=Math.min(v,o);for(let w=n;w<i.length;w++)i[w].Wi(i[w].Fi()+t*b);o-=b}}else n=l,o=t===1?d-h-u:u-(d+h)}}class uo{constructor(t,e,s,n){this.Yi=null,this.Lp=null,this.Op=!1,this.Np=new Fi(200),this.Fp=null,this.Wp=0,this.Hp=!1,this.Up=()=>{this.Hp||this.Pt.$p().Qt().ar()},this.qp=()=>{this.Hp||this.Pt.$p().Qt().ar()},this.Pt=t,this.Ps=e,this.bl=e.layout,this.Gu=s,this.Yp=n==="left",this.jp=qs("normal",n),this.Kp=qs("top",n),this.Xp=qs("bottom",n),this.Yf=document.createElement("div"),this.Yf.style.height="100%",this.Yf.style.overflow="hidden",this.Yf.style.width="25px",this.Yf.style.left="0",this.Yf.style.position="relative",this.Zp=Ge(this.Yf,pt({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);const r=this.Zp.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Gp=Ge(this.Yf,pt({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.qp);const o=this.Gp.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const l={bf:this.np.bind(this),gf:this.np.bind(this),uf:this.ep.bind(this),lf:this.ep.bind(this),Sf:this.Jp.bind(this),pf:this.rp.bind(this),df:this.rp.bind(this),Kd:this.Qp.bind(this),$d:this.Qp.bind(this),if:this.tv.bind(this),Vf:this.sp.bind(this)};this.Of=new Ps(this.Gp.canvasElement,l,{hf:()=>!this.Ps.handleScroll.vertTouchDrag,af:()=>!0})}m(){this.Of.m(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.qp),Xe(this.Gp.canvasElement),this.Gp.dispose(),this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Xe(this.Zp.canvasElement),this.Zp.dispose(),this.Yi!==null&&this.Yi.no().u(this),this.Yi=null}Xf(){return this.Yf}P(){return this.bl.fontSize}iv(){const t=this.Gu.N();return this.Fp!==t.k&&(this.Np.In(),this.Fp=t.k),t}sv(){if(this.Yi===null)return 0;let t=0;const e=this.iv(),s=k(this.Zp.canvasElement.getContext("2d",{colorSpace:this.Pt.$p().N().layout.colorSpace}));s.save();const n=this.Yi.Va();s.font=this.nv(),n.length>0&&(t=Math.max(this.Np.Vi(s,n[0].Ga),this.Np.Vi(s,n[n.length-1].Ga)));const r=this.ev();for(let c=r.length;c--;){const h=this.Np.Vi(s,r[c].ri());h>t&&(t=h)}const o=this.Yi.zt();if(o!==null&&this.Lp!==null&&(l=this.Ps.crosshair).mode!==2&&l.horzLine.visible&&l.horzLine.labelVisible){const c=this.Yi.Ts(1,o),h=this.Yi.Ts(this.Lp.height-2,o);t=Math.max(t,this.Np.Vi(s,this.Yi.Zi(Math.floor(Math.min(c,h))+.11111111111111,o)),this.Np.Vi(s,this.Yi.Zi(Math.ceil(Math.max(c,h))-.11111111111111,o)))}var l;s.restore();const a=t||34;return an(Math.ceil(e.S+e.C+e.I+e.B+5+a))}rv(t){this.Lp!==null&&Oe(this.Lp,t)||(this.Lp=t,this.Hp=!0,this.Zp.resizeCanvasElement(t),this.Gp.resizeCanvasElement(t),this.Hp=!1,this.Yf.style.width=`${t.width}px`,this.Yf.style.height=`${t.height}px`)}hv(){return k(this.Lp).width}_s(t){this.Yi!==t&&(this.Yi!==null&&this.Yi.no().u(this),this.Yi=t,t.no().i(this.ul.bind(this),this))}Ft(){return this.Yi}In(){const t=this.Pt.hp();this.Pt.$p().Qt().Zo(t,k(this.Ft()))}av(t){if(this.Lp===null)return;const e={colorSpace:this.Pt.$p().N().layout.colorSpace};if(t!==1){this.lv(),this.Zp.applySuggestedBitmapSize();const n=Ye(this.Zp,e);n!==null&&(n.useBitmapCoordinateSpace(r=>{this.ov(r),this._v(r)}),this.Pt.uv(n,this.Xp),this.cv(n),this.Pt.uv(n,this.jp),this.dv(n))}this.Gp.applySuggestedBitmapSize();const s=Ye(this.Gp,e);s!==null&&(s.useBitmapCoordinateSpace(({context:n,bitmapSize:r})=>{n.clearRect(0,0,r.width,r.height)}),this.fv(s),this.Pt.uv(s,this.Kp))}Gf(){return this.Zp.bitmapSize}Jf(t,e,s){const n=this.Gf();n.width>0&&n.height>0&&t.drawImage(this.Zp.canvasElement,e,s)}kt(){var t;(t=this.Yi)==null||t.Va()}np(t){if(this.Yi===null||this.Yi.Ki()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.$p().Qt(),s=this.Pt.hp();this.Op=!0,e.Uo(s,this.Yi,t.localY)}ep(t){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.$p().Qt(),s=this.Pt.hp(),n=this.Yi;e.$o(s,n,t.localY)}Jp(){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.Pt.$p().Qt(),e=this.Pt.hp(),s=this.Yi;this.Op&&(this.Op=!1,t.qo(e,s))}rp(t){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.$p().Qt(),s=this.Pt.hp();this.Op=!1,e.qo(s,this.Yi)}Qp(t){this.Ps.handleScale.axisDoubleClickReset.price&&this.In()}tv(t){this.Yi!==null&&(!this.Pt.$p().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Vl()||this.pv(1))}sp(t){this.pv(0)}ev(){const t=[],e=this.Yi===null?void 0:this.Yi;return(s=>{for(let n=0;n<s.length;++n){const r=s[n].Ws(this.Pt.hp(),e);for(let o=0;o<r.length;o++)t.push(r[o])}})(this.Pt.hp().Dt()),t}ov({context:t,bitmapSize:e}){const{width:s,height:n}=e,r=this.Pt.hp().Qt(),o=r.$(),l=r.Fc();o===l?xs(t,0,0,s,n,o):kl(t,0,0,s,n,o,l)}_v({context:t,bitmapSize:e,horizontalPixelRatio:s}){if(this.Lp===null||this.Yi===null||!this.Yi.N().borderVisible)return;t.fillStyle=this.Yi.N().borderColor;const n=Math.max(1,Math.floor(this.iv().S*s));let r;r=this.Yp?e.width-n:0,t.fillRect(r,0,n,e.height)}cv(t){if(this.Lp===null||this.Yi===null)return;const e=this.Yi.Va(),s=this.Yi.N(),n=this.iv(),r=this.Yp?this.Lp.width-n.C:0;s.borderVisible&&s.ticksVisible&&t.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:l,verticalPixelRatio:a})=>{o.fillStyle=s.borderColor;const c=Math.max(1,Math.floor(a)),h=Math.floor(.5*a),u=Math.round(n.C*l);o.beginPath();for(const d of e)o.rect(Math.floor(r*l),Math.round(d.ka*a)-h,u,c);o.fill()}),t.useMediaCoordinateSpace(({context:o})=>{o.font=this.nv(),o.fillStyle=s.textColor??this.bl.textColor,o.textAlign=this.Yp?"right":"left",o.textBaseline="middle";const l=this.Yp?Math.round(r-n.I):Math.round(r+n.C+n.I),a=e.map(c=>this.Np.Di(o,c.Ga));for(let c=e.length;c--;){const h=e[c];o.fillText(h.Ga,l,h.ka+a[c])}})}lv(){if(this.Lp===null||this.Yi===null)return;let t=this.Lp.height/2;const e=[],s=this.Yi.Dt().slice(),n=this.Pt.hp(),r=this.iv();this.Yi===n.$n()&&this.Pt.hp().Dt().forEach(a=>{n.Un(a)&&s.push(a)});const o=this.Yi.ba()[0],l=this.Yi;s.forEach(a=>{const c=a.Ws(n,l);c.forEach(h=>{h.Wi(null),h.Hi()&&e.push(h)}),o===a&&c.length>0&&(t=c[0].Bi())}),e.forEach(a=>a.Wi(a.Bi())),this.Yi.N().alignLabels&&this.vv(e,r,t)}vv(t,e,s){if(this.Lp===null)return;const n=t.filter(o=>o.Bi()<=s),r=t.filter(o=>o.Bi()>s);n.sort((o,l)=>l.Bi()-o.Bi()),n.length&&r.length&&r.push(n[0]),r.sort((o,l)=>o.Bi()-l.Bi());for(const o of t){const l=Math.floor(o.$t(e)/2),a=o.Bi();a>-l&&a<l&&o.Wi(l),a>this.Lp.height-l&&a<this.Lp.height+l&&o.Wi(this.Lp.height-l)}ho(n,1,this.Lp.height,e),ho(r,-1,this.Lp.height,e)}dv(t){if(this.Lp===null)return;const e=this.ev(),s=this.iv(),n=this.Yp?"right":"left";e.forEach(r=>{r.Ui()&&r.Tt(k(this.Yi)).nt(t,s,this.Np,n)})}fv(t){if(this.Lp===null||this.Yi===null)return;const e=this.Pt.$p().Qt(),s=[],n=this.Pt.hp(),r=e._c().Ws(n,this.Yi);r.length&&s.push(r);const o=this.iv(),l=this.Yp?"right":"left";s.forEach(a=>{a.forEach(c=>{c.Tt(k(this.Yi)).nt(t,o,this.Np,l)})})}pv(t){this.Yf.style.cursor=t===1?"ns-resize":"default"}ul(){const t=this.sv();this.Wp<t&&this.Pt.$p().Qt().Bh(),this.Wp=t}nv(){return oi(this.bl.fontSize,this.bl.fontFamily)}}function Rf(i,t){var e;return((e=i.Jh)==null?void 0:e.call(i,t))??[]}function po(i,t){var e;return((e=i.Fs)==null?void 0:e.call(i,t))??[]}function fo(i,t){var e;return((e=i.us)==null?void 0:e.call(i,t))??[]}function _f(i,t){var e;return((e=i.Xh)==null?void 0:e.call(i,t))??[]}class Dn{constructor(t,e){this.Lp=pt({width:0,height:0}),this.mv=null,this.wv=null,this.gv=null,this.Mv=null,this.bv=!1,this.Sv=new xt,this.xv=new xt,this.Cv=0,this.Pv=!1,this.kv=null,this.yv=!1,this.Tv=null,this.Rv=null,this.Hp=!1,this.Up=()=>{this.Hp||this.Dv===null||this.ts().ar()},this.qp=()=>{this.Hp||this.Dv===null||this.ts().ar()},this.Dp=t,this.Dv=e,this.Dv.t_().i(this.Vv.bind(this),this,!0),this.Iv=document.createElement("td"),this.Iv.style.padding="0",this.Iv.style.position="relative";const s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.style.position="relative",s.style.overflow="hidden",this.Bv=document.createElement("td"),this.Bv.style.padding="0",this.Ev=document.createElement("td"),this.Ev.style.padding="0",this.Iv.appendChild(s),this.Zp=Ge(s,pt({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);const n=this.Zp.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Gp=Ge(s,pt({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.qp);const r=this.Gp.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.qf=document.createElement("tr"),this.qf.appendChild(this.Bv),this.qf.appendChild(this.Iv),this.qf.appendChild(this.Ev),this.Av(),this.Of=new Ps(this.Gp.canvasElement,this,{hf:()=>this.kv===null&&!this.Dp.N().handleScroll.vertTouchDrag,af:()=>this.kv===null&&!this.Dp.N().handleScroll.horzTouchDrag})}m(){this.mv!==null&&this.mv.m(),this.wv!==null&&this.wv.m(),this.gv=null,this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.qp),Xe(this.Gp.canvasElement),this.Gp.dispose(),this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Xe(this.Zp.canvasElement),this.Zp.dispose(),this.Dv!==null&&(this.Dv.t_().u(this),this.Dv.m()),this.Of.m()}hp(){return k(this.Dv)}zv(t){var e;this.Dv!==null&&this.Dv.t_().u(this),this.Dv=t,this.Dv!==null&&this.Dv.t_().i(Dn.prototype.Vv.bind(this),this,!0),this.Av(),this.Dp.Uf().indexOf(this)===this.Dp.Uf().length-1?(this.gv=this.gv??new kf(this.Iv,this.Dp),this.gv.kt()):((e=this.gv)==null||e.Ip(),this.gv=null)}$p(){return this.Dp}Xf(){return this.qf}Av(){if(this.Dv!==null&&(this.Lv(),this.ts().js().length!==0)){if(this.mv!==null){const t=this.Dv.Wo();this.mv._s(k(t))}if(this.wv!==null){const t=this.Dv.Ho();this.wv._s(k(t))}}}Ov(){this.mv!==null&&this.mv.kt(),this.wv!==null&&this.wv.kt()}Io(){return this.Dv!==null?this.Dv.Io():0}Bo(t){this.Dv&&this.Dv.Bo(t)}if(t){if(!this.Dv)return;this.Nv();const e=t.localX,s=t.localY;this.Fv(e,s,t)}bf(t){this.Nv(),this.Wv(),this.Fv(t.localX,t.localY,t)}sf(t){if(!this.Dv)return;this.Nv();const e=t.localX,s=t.localY;this.Fv(e,s,t)}vf(t){this.Dv!==null&&(this.Nv(),this.Hv(t))}Kd(t){this.Dv!==null&&this.Uv(this.xv,t)}$d(t){this.Kd(t)}uf(t){this.Nv(),this.$v(t),this.Fv(t.localX,t.localY,t)}pf(t){this.Dv!==null&&(this.Nv(),this.Pv=!1,this.qv(t))}ff(t){this.Dv!==null&&this.Hv(t)}If(t){if(this.Pv=!0,this.kv===null){const e={x:t.localX,y:t.localY};this.Yv(e,e,t)}}Vf(t){this.Dv!==null&&(this.Nv(),this.Dv.Qt().ac(null),this.jv())}Kv(){return this.Sv}Xv(){return this.xv}Pf(){this.Cv=1,this.ts().hn()}kf(t,e){if(!this.Dp.N().handleScale.pinch)return;const s=5*(e-this.Cv);this.Cv=e,this.ts().Mc(t._t,s)}gf(t){this.Pv=!1,this.yv=this.kv!==null,this.Wv();const e=this.ts()._c();this.kv!==null&&e.Vt()&&(this.Tv={x:e.si(),y:e.ni()},this.kv={x:t.localX,y:t.localY})}lf(t){if(this.Dv===null)return;const e=t.localX,s=t.localY;if(this.kv===null)this.$v(t);else{this.yv=!1;const n=k(this.Tv),r=n.x+(e-this.kv.x),o=n.y+(s-this.kv.y);this.Fv(r,o,t)}}df(t){this.$p().N().trackingMode.exitMode===0&&(this.yv=!0),this.Zv(),this.qv(t)}jn(t,e){const s=this.Dv;return s===null?null:Dl(s,t,e)}Gv(t,e){k(e==="left"?this.mv:this.wv).rv(pt({width:t,height:this.Lp.height}))}Zf(){return this.Lp}rv(t){Oe(this.Lp,t)||(this.Lp=t,this.Hp=!0,this.Zp.resizeCanvasElement(t),this.Gp.resizeCanvasElement(t),this.Hp=!1,this.Iv.style.width=t.width+"px",this.Iv.style.height=t.height+"px")}Jv(){const t=k(this.Dv);t.Fo(t.Wo()),t.Fo(t.Ho());for(const e of t.ba())if(t.Un(e)){const s=e.Ft();s!==null&&t.Fo(s),e.Ns()}for(const e of t.s_())e.Ns()}Gf(){return this.Zp.bitmapSize}Jf(t,e,s){const n=this.Gf();n.width>0&&n.height>0&&t.drawImage(this.Zp.canvasElement,e,s)}av(t){if(t===0||this.Dv===null)return;t>1&&this.Jv(),this.mv!==null&&this.mv.av(t),this.wv!==null&&this.wv.av(t);const e={colorSpace:this.Dp.N().layout.colorSpace};if(t!==1){this.Zp.applySuggestedBitmapSize();const n=Ye(this.Zp,e);n!==null&&(n.useBitmapCoordinateSpace(r=>{this.ov(r)}),this.Dv&&(this.Qv(n,Rf),this.tm(n),this.Qv(n,po),this.Qv(n,fo)))}this.Gp.applySuggestedBitmapSize();const s=Ye(this.Gp,e);s!==null&&(s.useBitmapCoordinateSpace(({context:n,bitmapSize:r})=>{n.clearRect(0,0,r.width,r.height)}),this.im(s),this.Qv(s,_f),this.Qv(s,fo))}sm(){return this.mv}nm(){return this.wv}uv(t,e){this.Qv(t,e)}Vv(){this.Dv!==null&&this.Dv.t_().u(this),this.Dv=null}Hv(t){this.Uv(this.Sv,t)}Uv(t,e){const s=e.localX,n=e.localY;t.v()&&t.p(this.ts().Et().uu(s),{x:s,y:n},e)}ov({context:t,bitmapSize:e}){const{width:s,height:n}=e,r=this.ts(),o=r.$(),l=r.Fc();o===l?xs(t,0,0,s,n,l):kl(t,0,0,s,n,o,l)}tm(t){const e=k(this.Dv),s=e.i_().lr().Tt(e);s!==null&&s.nt(t,!1)}im(t){this.rm(t,po,rs,this.ts()._c())}Qv(t,e){const s=k(this.Dv),n=s.Dt(),r=s.s_();for(const o of r)this.rm(t,e,cn,o);for(const o of n)this.rm(t,e,cn,o);for(const o of r)this.rm(t,e,rs,o);for(const o of n)this.rm(t,e,rs,o)}rm(t,e,s,n){const r=k(this.Dv),o=r.Qt().hc(),l=o!==null&&o.n_===n,a=o!==null&&l&&o.e_!==void 0?o.e_.Xn:void 0;hn(e,c=>s(c,t,l,a),n,r)}Lv(){if(this.Dv===null)return;const t=this.Dp,e=this.Dv.Wo().N().visible,s=this.Dv.Ho().N().visible;e||this.mv===null||(this.Bv.removeChild(this.mv.Xf()),this.mv.m(),this.mv=null),s||this.wv===null||(this.Ev.removeChild(this.wv.Xf()),this.wv.m(),this.wv=null);const n=t.Qt().Vc();e&&this.mv===null&&(this.mv=new uo(this,t.N(),n,"left"),this.Bv.appendChild(this.mv.Xf())),s&&this.wv===null&&(this.wv=new uo(this,t.N(),n,"right"),this.Ev.appendChild(this.wv.Xf()))}hm(t){return t.Bf&&this.Pv||this.kv!==null}am(t){return Math.max(0,Math.min(t,this.Lp.width-1))}lm(t){return Math.max(0,Math.min(t,this.Lp.height-1))}Fv(t,e,s){this.ts().yc(this.am(t),this.lm(e),s,k(this.Dv))}jv(){this.ts().Rc()}Zv(){this.yv&&(this.kv=null,this.jv())}Yv(t,e,s){this.kv=t,this.yv=!1,this.Fv(e.x,e.y,s);const n=this.ts()._c();this.Tv={x:n.si(),y:n.ni()}}ts(){return this.Dp.Qt()}qv(t){if(!this.bv)return;const e=this.ts(),s=this.hp();if(e.Ko(s,s.ys()),this.Mv=null,this.bv=!1,e.Cc(),this.Rv!==null){const n=performance.now(),r=e.Et();this.Rv.le(r.wu(),n),this.Rv.Tu(n)||e._n(this.Rv)}}Nv(){this.kv=null}Wv(){if(this.Dv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)k(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.Dv.ys().Ki()&&this.ts().Et().Ki()}}$v(t){if(this.Dv===null)return;const e=this.ts(),s=e.Et();if(s.Ki())return;const n=this.Dp.N(),r=n.handleScroll,o=n.kineticScroll;if((!r.pressedMouseMove||t.Bf)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!t.Bf))return;const l=this.Dv.ys(),a=performance.now();if(this.Mv!==null||this.hm(t)||(this.Mv={x:t.clientX,y:t.clientY,ed:a,om:t.localX,_m:t.localY}),this.Mv!==null&&!this.bv&&(this.Mv.x!==t.clientX||this.Mv.y!==t.clientY)){if(t.Bf&&o.touch||!t.Bf&&o.mouse){const c=s.vu();this.Rv=new Pf(.2/c,7/c,.997,15/c),this.Rv.Cp(s.wu(),this.Mv.ed)}else this.Rv=null;l.Ki()||e.Yo(this.Dv,l,t.localY),e.Sc(t.localX),this.bv=!0}this.bv&&(l.Ki()||e.jo(this.Dv,l,t.localY),e.xc(t.localX),this.Rv!==null&&this.Rv.Cp(s.wu(),a))}}class mo{constructor(t,e,s,n,r){this.xt=!0,this.Lp=pt({width:0,height:0}),this.Up=()=>this.av(3),this.Yp=t==="left",this.Gu=s.Vc,this.Ps=e,this.um=n,this.dm=r,this.Yf=document.createElement("div"),this.Yf.style.width="25px",this.Yf.style.height="100%",this.Yf.style.overflow="hidden",this.Zp=Ge(this.Yf,pt({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up)}m(){this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Xe(this.Zp.canvasElement),this.Zp.dispose()}Xf(){return this.Yf}Zf(){return this.Lp}rv(t){Oe(this.Lp,t)||(this.Lp=t,this.Zp.resizeCanvasElement(t),this.Yf.style.width=`${t.width}px`,this.Yf.style.height=`${t.height}px`,this.xt=!0)}av(t){if(t<3&&!this.xt||this.Lp.width===0||this.Lp.height===0)return;this.xt=!1,this.Zp.applySuggestedBitmapSize();const e=Ye(this.Zp,{colorSpace:this.Ps.layout.colorSpace});e!==null&&e.useBitmapCoordinateSpace(s=>{this.ov(s),this._v(s)})}Gf(){return this.Zp.bitmapSize}Jf(t,e,s){const n=this.Gf();n.width>0&&n.height>0&&t.drawImage(this.Zp.canvasElement,e,s)}_v({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(!this.um())return;t.fillStyle=this.Ps.timeScale.borderColor;const r=Math.floor(this.Gu.N().S*s),o=Math.floor(this.Gu.N().S*n),l=this.Yp?e.width-r:0;t.fillRect(l,0,r,o)}ov({context:t,bitmapSize:e}){xs(t,0,0,e.width,e.height,this.dm())}}function Fn(i){return t=>{var e;return((e=t.ia)==null?void 0:e.call(t,i))??[]}}const Ef=Fn("normal"),$f=Fn("top"),Tf=Fn("bottom");class Bf{constructor(t,e){this.fm=null,this.pm=null,this.M=null,this.vm=!1,this.Lp=pt({width:0,height:0}),this.wm=new xt,this.Np=new Fi(5),this.Hp=!1,this.Up=()=>{this.Hp||this.Dp.Qt().ar()},this.qp=()=>{this.Hp||this.Dp.Qt().ar()},this.Dp=t,this.o_=e,this.Ps=t.N().layout,this.kp=document.createElement("tr"),this.gm=document.createElement("td"),this.gm.style.padding="0",this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.Yf=document.createElement("td"),this.Yf.style.height="25px",this.Yf.style.padding="0",this.bm=document.createElement("div"),this.bm.style.width="100%",this.bm.style.height="100%",this.bm.style.position="relative",this.bm.style.overflow="hidden",this.Yf.appendChild(this.bm),this.Zp=Ge(this.bm,pt({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);const s=this.Zp.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Gp=Ge(this.bm,pt({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.qp);const n=this.Gp.canvasElement;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0",this.kp.appendChild(this.gm),this.kp.appendChild(this.Yf),this.kp.appendChild(this.Mm),this.Sm(),this.Dp.Qt().Vo().i(this.Sm.bind(this),this),this.Of=new Ps(this.Gp.canvasElement,this,{hf:()=>!0,af:()=>!this.Dp.N().handleScroll.horzTouchDrag})}m(){this.Of.m(),this.fm!==null&&this.fm.m(),this.pm!==null&&this.pm.m(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.qp),Xe(this.Gp.canvasElement),this.Gp.dispose(),this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Xe(this.Zp.canvasElement),this.Zp.dispose()}Xf(){return this.kp}xm(){return this.fm}Cm(){return this.pm}bf(t){if(this.vm)return;this.vm=!0;const e=this.Dp.Qt();!e.Et().Ki()&&this.Dp.N().handleScale.axisPressedMouseMove.time&&e.gc(t.localX)}gf(t){this.bf(t)}Sf(){const t=this.Dp.Qt();!t.Et().Ki()&&this.vm&&(this.vm=!1,this.Dp.N().handleScale.axisPressedMouseMove.time&&t.kc())}uf(t){const e=this.Dp.Qt();!e.Et().Ki()&&this.Dp.N().handleScale.axisPressedMouseMove.time&&e.Pc(t.localX)}lf(t){this.uf(t)}pf(){this.vm=!1;const t=this.Dp.Qt();t.Et().Ki()&&!this.Dp.N().handleScale.axisPressedMouseMove.time||t.kc()}df(){this.pf()}Kd(){this.Dp.N().handleScale.axisDoubleClickReset.time&&this.Dp.Qt().cn()}$d(){this.Kd()}if(){this.Dp.Qt().N().handleScale.axisPressedMouseMove.time&&this.pv(1)}Vf(){this.pv(0)}Zf(){return this.Lp}Pm(){return this.wm}km(t,e,s){Oe(this.Lp,t)||(this.Lp=t,this.Hp=!0,this.Zp.resizeCanvasElement(t),this.Gp.resizeCanvasElement(t),this.Hp=!1,this.Yf.style.width=`${t.width}px`,this.Yf.style.height=`${t.height}px`,this.wm.p(t)),this.fm!==null&&this.fm.rv(pt({width:e,height:t.height})),this.pm!==null&&this.pm.rv(pt({width:s,height:t.height}))}ym(){const t=this.Tm();return Math.ceil(t.S+t.C+t.P+t.A+t.V+t.Rm)}kt(){this.Dp.Qt().Et().Va()}Gf(){return this.Zp.bitmapSize}Jf(t,e,s){const n=this.Gf();n.width>0&&n.height>0&&t.drawImage(this.Zp.canvasElement,e,s)}av(t){if(t===0)return;const e={colorSpace:this.Ps.colorSpace};if(t!==1){this.Zp.applySuggestedBitmapSize();const n=Ye(this.Zp,e);n!==null&&(n.useBitmapCoordinateSpace(r=>{this.ov(r),this._v(r),this.Dm(n,Tf)}),this.cv(n),this.Dm(n,Ef)),this.fm!==null&&this.fm.av(t),this.pm!==null&&this.pm.av(t)}this.Gp.applySuggestedBitmapSize();const s=Ye(this.Gp,e);s!==null&&(s.useBitmapCoordinateSpace(({context:n,bitmapSize:r})=>{n.clearRect(0,0,r.width,r.height)}),this.Vm([...this.Dp.Qt().js(),this.Dp.Qt()._c()],s),this.Dm(s,$f))}Dm(t,e){const s=this.Dp.Qt().js();for(const n of s)hn(e,r=>cn(r,t,!1,void 0),n,void 0);for(const n of s)hn(e,r=>rs(r,t,!1,void 0),n,void 0)}ov({context:t,bitmapSize:e}){xs(t,0,0,e.width,e.height,this.Dp.Qt().Fc())}_v({context:t,bitmapSize:e,verticalPixelRatio:s}){if(this.Dp.N().timeScale.borderVisible){t.fillStyle=this.Im();const n=Math.max(1,Math.floor(this.Tm().S*s));t.fillRect(0,0,e.width,n)}}cv(t){const e=this.Dp.Qt().Et(),s=e.Va();if(!s||s.length===0)return;const n=this.o_.maxTickMarkWeight(s),r=this.Tm(),o=e.N();o.borderVisible&&o.ticksVisible&&t.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:a,verticalPixelRatio:c})=>{l.strokeStyle=this.Im(),l.fillStyle=this.Im();const h=Math.max(1,Math.floor(a)),u=Math.floor(.5*a);l.beginPath();const d=Math.round(r.C*c);for(let f=s.length;f--;){const g=Math.round(s[f].coord*a);l.rect(g-u,0,h,d)}l.fill()}),t.useMediaCoordinateSpace(({context:l})=>{const a=r.S+r.C+r.A+r.P/2;l.textAlign="center",l.textBaseline="middle",l.fillStyle=this.H(),l.font=this.nv();for(const c of s)if(c.weight<n){const h=c.needAlignCoordinate?this.Bm(l,c.coord,c.label):c.coord;l.fillText(c.label,h,a)}this.Dp.N().timeScale.allowBoldLabels&&(l.font=this.Em());for(const c of s)if(c.weight>=n){const h=c.needAlignCoordinate?this.Bm(l,c.coord,c.label):c.coord;l.fillText(c.label,h,a)}})}Bm(t,e,s){const n=this.Np.Vi(t,s),r=n/2,o=Math.floor(e-r)+.5;return o<0?e+=Math.abs(0-o):o+n>this.Lp.width&&(e-=Math.abs(this.Lp.width-(o+n))),e}Vm(t,e){const s=this.Tm();for(const n of t)for(const r of n.cs())r.Tt().nt(e,s)}Im(){return this.Dp.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}nv(){return oi(this.F(),this.Ps.fontFamily)}Em(){return oi(this.F(),this.Ps.fontFamily,"bold")}Tm(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new Fi,Rm:0});const t=this.M,e=this.nv();if(t.k!==e){const s=this.F();t.P=s,t.k=e,t.A=3*s/12,t.V=3*s/12,t.Ji=9*s/12,t.L=0,t.Rm=4*s/12,t.Gi.In()}return this.M}pv(t){this.Yf.style.cursor=t===1?"ew-resize":"default"}Sm(){const t=this.Dp.Qt(),e=t.N();e.leftPriceScale.visible||this.fm===null||(this.gm.removeChild(this.fm.Xf()),this.fm.m(),this.fm=null),e.rightPriceScale.visible||this.pm===null||(this.Mm.removeChild(this.pm.Xf()),this.pm.m(),this.pm=null);const s={Vc:this.Dp.Qt().Vc()},n=()=>e.leftPriceScale.borderVisible&&t.Et().N().borderVisible,r=()=>t.Fc();e.leftPriceScale.visible&&this.fm===null&&(this.fm=new mo("left",e,s,n,r),this.gm.appendChild(this.fm.Xf())),e.rightPriceScale.visible&&this.pm===null&&(this.pm=new mo("right",e,s,n,r),this.Mm.appendChild(this.pm.Xf()))}}var Qo;const zf=!!ai&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(i=>i.brand.includes("Chromium"))&&!!ai&&((Qo=navigator==null?void 0:navigator.userAgentData)!=null&&Qo.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class If{constructor(t,e,s){var n;this.Am=[],this.zm=[],this.Lm=0,this.sl=0,this.Mo=0,this.Om=0,this.Nm=0,this.Fm=null,this.Wm=!1,this.Sv=new xt,this.xv=new xt,this.Ku=new xt,this.Hm=null,this.Um=null,this.Rp=t,this.Ps=e,this.o_=s,this.kp=document.createElement("div"),this.kp.classList.add("tv-lightweight-charts"),this.kp.style.overflow="hidden",this.kp.style.direction="ltr",this.kp.style.width="100%",this.kp.style.height="100%",(n=this.kp).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.$m=document.createElement("table"),this.$m.setAttribute("cellspacing","0"),this.kp.appendChild(this.$m),this.qm=this.Ym.bind(this),Zs(this.Ps)&&this.jm(!0),this.ts=new bf(this.Zu.bind(this),this.Ps,s),this.Qt().uc().i(this.Km.bind(this),this),this.Xm=new Bf(this,this.o_),this.$m.appendChild(this.Xm.Xf());const r=e.autoSize&&this.Zm();let o=this.Ps.width,l=this.Ps.height;if(r||o===0||l===0){const a=t.getBoundingClientRect();o=o||a.width,l=l||a.height}this.Gm(o,l),this.Jm(),t.appendChild(this.kp),this.Qm(),this.ts.Et().Iu().i(this.ts.Bh.bind(this.ts),this),this.ts.Vo().i(this.ts.Bh.bind(this.ts),this)}Qt(){return this.ts}N(){return this.Ps}Uf(){return this.Am}tw(){return this.Xm}m(){this.jm(!1),this.Lm!==0&&window.cancelAnimationFrame(this.Lm),this.ts.uc().u(this),this.ts.Et().Iu().u(this),this.ts.Vo().u(this),this.ts.m();for(const t of this.Am)this.$m.removeChild(t.Xf()),t.Kv().u(this),t.Xv().u(this),t.m();this.Am=[];for(const t of this.zm)this.iw(t);this.zm=[],k(this.Xm).m(),this.kp.parentElement!==null&&this.kp.parentElement.removeChild(this.kp),this.Ku.m(),this.Sv.m(),this.xv.m(),this.sw()}Gm(t,e,s=!1){if(this.sl===e&&this.Mo===t)return;const n=function(l){const a=Math.floor(l.width),c=Math.floor(l.height);return pt({width:a-a%2,height:c-c%2})}(pt({width:t,height:e}));this.sl=n.height,this.Mo=n.width;const r=this.sl+"px",o=this.Mo+"px";k(this.kp).style.height=r,k(this.kp).style.width=o,this.$m.style.height=r,this.$m.style.width=o,s?this.nw(_t.gn(),performance.now()):this.ts.Bh()}av(t){t===void 0&&(t=_t.gn());for(let e=0;e<this.Am.length;e++)this.Am[e].av(t.en(e).tn);this.Ps.timeScale.visible&&this.Xm.av(t.nn())}hr(t){var n;const e=Zs(this.Ps);this.ts.hr(t);const s=Zs(this.Ps);s!==e&&this.jm(s),(n=t.layout)!=null&&n.panes&&this.ew(),this.Qm(),this.rw(t)}Kv(){return this.Sv}Xv(){return this.xv}uc(){return this.Ku}hw(){this.Fm!==null&&(this.nw(this.Fm,performance.now()),this.Fm=null);const t=this.aw(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const s=k(e.getContext("2d"));return this.aw(s),e}lw(t){return t==="left"&&!this.ow()||t==="right"&&!this._w()||this.Am.length===0?0:k(t==="left"?this.Am[0].sm():this.Am[0].nm()).hv()}uw(){return this.Ps.autoSize&&this.Hm!==null}tp(){return this.kp}cw(t){this.Um=t,this.Um?this.tp().style.setProperty("cursor",t):this.tp().style.removeProperty("cursor")}dw(){return this.Um}fw(t){return Vt(this.Am[t]).Zf()}ew(){this.zm.forEach(t=>{t.kt()})}rw(t){(t.autoSize!==void 0||!this.Hm||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.Hm&&this.Zm(),t.autoSize===!1&&this.Hm!==null&&this.sw(),t.autoSize||t.width===void 0&&t.height===void 0||this.Gm(t.width||this.Mo,t.height||this.sl))}aw(t){let e=0,s=0;const n=this.Am[0],r=(l,a)=>{let c=0;for(let h=0;h<this.Am.length;h++){const u=this.Am[h],d=k(l==="left"?u.sm():u.nm()),f=d.Gf();if(t!==null&&d.Jf(t,a,c),c+=f.height,h<this.Am.length-1){const g=this.zm[h],v=g.Gf();t!==null&&g.Jf(t,a,c),c+=v.height}}};this.ow()&&(r("left",0),e+=k(n.sm()).Gf().width);for(let l=0;l<this.Am.length;l++){const a=this.Am[l],c=a.Gf();if(t!==null&&a.Jf(t,e,s),s+=c.height,l<this.Am.length-1){const h=this.zm[l],u=h.Gf();t!==null&&h.Jf(t,e,s),s+=u.height}}e+=n.Gf().width,this._w()&&(r("right",e),e+=k(n.nm()).Gf().width);const o=(l,a,c)=>{k(l==="left"?this.Xm.xm():this.Xm.Cm()).Jf(k(t),a,c)};if(this.Ps.timeScale.visible){const l=this.Xm.Gf();if(t!==null){let a=0;this.ow()&&(o("left",a,s),a=k(n.sm()).Gf().width),this.Xm.Jf(t,a,s),a+=l.width,this._w()&&o("right",a,s)}s+=l.height}return pt({width:e,height:s})}pw(){let t=0,e=0,s=0;for(const b of this.Am)this.ow()&&(e=Math.max(e,k(b.sm()).sv(),this.Ps.leftPriceScale.minimumWidth)),this._w()&&(s=Math.max(s,k(b.nm()).sv(),this.Ps.rightPriceScale.minimumWidth)),t+=b.Io();e=an(e),s=an(s);const n=this.Mo,r=this.sl,o=Math.max(n-e-s,0),l=1*this.zm.length,a=this.Ps.timeScale.visible;let c=a?Math.max(this.Xm.ym(),this.Ps.timeScale.minimumHeight):0;var h;c=(h=c)+h%2;const u=l+c,d=r<u?0:r-u,f=d/t;let g=0;const v=window.devicePixelRatio||1;for(let b=0;b<this.Am.length;++b){const w=this.Am[b];w.zv(this.ts.$s()[b]);let x=0,y=0;y=b===this.Am.length-1?Math.ceil((d-g)*v)/v:Math.round(w.Io()*f*v)/v,x=Math.max(y,2),g+=x,w.rv(pt({width:o,height:x})),this.ow()&&w.Gv(e,"left"),this._w()&&w.Gv(s,"right"),w.hp()&&this.ts.cc(w.hp(),x)}this.Xm.km(pt({width:a?o:0,height:c}),a?e:0,a?s:0),this.ts.Eo(o),this.Om!==e&&(this.Om=e),this.Nm!==s&&(this.Nm=s)}jm(t){t?this.kp.addEventListener("wheel",this.qm,{passive:!1}):this.kp.removeEventListener("wheel",this.qm)}mw(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return zf?1/window.devicePixelRatio:1}Ym(t){if(!(t.deltaX!==0&&this.Ps.handleScroll.mouseWheel||t.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const e=this.mw(t),s=e*t.deltaX/100,n=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),n!==0&&this.Ps.handleScale.mouseWheel){const r=Math.sign(n)*Math.min(1,Math.abs(n)),o=t.clientX-this.kp.getBoundingClientRect().left;this.Qt().Mc(o,r)}s!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().bc(-80*s)}nw(t,e){var n;const s=t.nn();s===3&&this.ww(),s!==3&&s!==2||(this.gw(t),this.Mw(t,e),this.Xm.kt(),this.Am.forEach(r=>{r.Ov()}),((n=this.Fm)==null?void 0:n.nn())===3&&(this.Fm.vn(t),this.ww(),this.gw(this.Fm),this.Mw(this.Fm,e),t=this.Fm,this.Fm=null)),this.av(t)}Mw(t,e){for(const s of t.pn())this.mn(s,e)}gw(t){const e=this.ts.$s();for(let s=0;s<e.length;s++)t.en(s).sn&&e[s].Go()}mn(t,e){const s=this.ts.Et();switch(t.an){case 0:s.Eu();break;case 1:s.Au(t.Wt);break;case 2:s.dn(t.Wt);break;case 3:s.fn(t.Wt);break;case 4:s.bu();break;case 5:t.Wt.Tu(e)||s.fn(t.Wt.Ru(e))}}Zu(t){this.Fm!==null?this.Fm.vn(t):this.Fm=t,this.Wm||(this.Wm=!0,this.Lm=window.requestAnimationFrame(e=>{if(this.Wm=!1,this.Lm=0,this.Fm!==null){const s=this.Fm;this.Fm=null,this.nw(s,e);for(const n of s.pn())if(n.an===5&&!n.Wt.Tu(e)){this.Qt()._n(n.Wt);break}}}))}ww(){this.Jm()}iw(t){this.$m.removeChild(t.Xf()),t.m()}Jm(){const t=this.ts.$s(),e=t.length,s=this.Am.length;for(let n=e;n<s;n++){const r=Vt(this.Am.pop());this.$m.removeChild(r.Xf()),r.Kv().u(this),r.Xv().u(this),r.m();const o=this.zm.pop();o!==void 0&&this.iw(o)}for(let n=s;n<e;n++){const r=new Dn(this,t[n]);if(r.Kv().i(this.bw.bind(this,r),this),r.Xv().i(this.Sw.bind(this,r),this),this.Am.push(r),n>0){const o=new Mf(this,n-1,n);this.zm.push(o),this.$m.insertBefore(o.Xf(),this.Xm.Xf())}this.$m.insertBefore(r.Xf(),this.Xm.Xf())}for(let n=0;n<e;n++){const r=t[n],o=this.Am[n];o.hp()!==r?o.zv(r):o.Av()}this.Qm(),this.pw()}xw(t,e,s,n){var u;const r=new Map;t!==null&&this.ts.js().forEach(d=>{const f=d.Xs().Fr(t);f!==null&&r.set(d,f)});let o;if(t!==null){const d=(u=this.ts.Et().ss(t))==null?void 0:u.originalTime;d!==void 0&&(o=d)}const l=this.Qt().hc(),a=l!==null&&l.n_ instanceof Ms?l.n_:void 0,c=l!==null&&l.e_!==void 0?l.e_.Kn:void 0,h=this.Cw(n);return{Pw:o,Re:t??void 0,kw:e??void 0,yw:h!==-1?h:void 0,Tw:a,Rw:r,Dw:c,Vw:s??void 0}}Cw(t){let e=-1;if(t)e=this.Am.indexOf(t);else{const s=this.Qt()._c().Us();s!==null&&(e=this.Qt().$s().indexOf(s))}return e}bw(t,e,s,n){this.Sv.p(()=>this.xw(e,s,n,t))}Sw(t,e,s,n){this.xv.p(()=>this.xw(e,s,n,t))}Km(t,e,s){var n;this.cw(((n=this.Qt().hc())==null?void 0:n.h_)??null),this.Ku.p(()=>this.xw(t,e,s))}Qm(){const t=this.Ps.timeScale.visible?"":"none";this.Xm.Xf().style.display=t}ow(){return this.Am[0].hp().Wo().N().visible}_w(){return this.Am[0].hp().Ho().N().visible}Zm(){return"ResizeObserver"in window&&(this.Hm=new ResizeObserver(t=>{const e=t[t.length-1];e&&this.Gm(e.contentRect.width,e.contentRect.height)}),this.Hm.observe(this.Rp,{box:"border-box"}),!0)}sw(){this.Hm!==null&&this.Hm.disconnect(),this.Hm=null}}function Zs(i){return!!(i.handleScroll.mouseWheel||i.handleScale.mouseWheel)}function Lf(i){return i.open===void 0&&i.value===void 0}function Nf(i){return function(t){return t.open!==void 0}(i)||function(t){return t.value!==void 0}(i)}function go(i,t,e,s){const n=e.value,r={Re:t,wt:i,Wt:[n,n,n,n],Pw:s};return e.color!==void 0&&(r.R=e.color),r}function Df(i,t,e,s){const n=e.value,r={Re:t,wt:i,Wt:[n,n,n,n],Pw:s};return e.lineColor!==void 0&&(r.vt=e.lineColor),e.topColor!==void 0&&(r.mr=e.topColor),e.bottomColor!==void 0&&(r.wr=e.bottomColor),r}function Ff(i,t,e,s){const n=e.value,r={Re:t,wt:i,Wt:[n,n,n,n],Pw:s};return e.topLineColor!==void 0&&(r.gr=e.topLineColor),e.bottomLineColor!==void 0&&(r.Mr=e.bottomLineColor),e.topFillColor1!==void 0&&(r.br=e.topFillColor1),e.topFillColor2!==void 0&&(r.Sr=e.topFillColor2),e.bottomFillColor1!==void 0&&(r.Cr=e.bottomFillColor1),e.bottomFillColor2!==void 0&&(r.Pr=e.bottomFillColor2),r}function Of(i,t,e,s){const n={Re:t,wt:i,Wt:[e.open,e.high,e.low,e.close],Pw:s};return e.color!==void 0&&(n.R=e.color),n}function jf(i,t,e,s){const n={Re:t,wt:i,Wt:[e.open,e.high,e.low,e.close],Pw:s};return e.color!==void 0&&(n.R=e.color),e.borderColor!==void 0&&(n.Ht=e.borderColor),e.wickColor!==void 0&&(n.vr=e.wickColor),n}function Wf(i,t,e,s,n){const r=Vt(n)(e),o=Math.max(...r),l=Math.min(...r),a=r[r.length-1],c=[a,o,l,a],{time:h,color:u,...d}=e;return{Re:t,wt:i,Wt:c,Pw:s,se:d,R:u}}function yi(i){return i.Wt!==void 0}function vo(i,t){return t.customValues!==void 0&&(i.Iw=t.customValues),i}function Ne(i){return(t,e,s,n,r,o)=>function(l,a){return a?a(l):Lf(l)}(s,o)?vo({wt:t,Re:e,Pw:n},s):vo(i(t,e,s,n,r),s)}function bo(i){return{Candlestick:Ne(jf),Bar:Ne(Of),Area:Ne(Df),Baseline:Ne(Ff),Histogram:Ne(go),Line:Ne(go),Custom:Ne(Wf)}[i]}function wo(i){return{Re:0,Bw:new Map,Hh:i}}function xo(i,t){if(i!==void 0&&i.length!==0)return{Ew:t.key(i[0].wt),Aw:t.key(i[i.length-1].wt)}}function yo(i){let t;return i.forEach(e=>{t===void 0&&(t=e.Pw)}),Vt(t)}class Vf{constructor(t){this.zw=new Map,this.Lw=new Map,this.Ow=new Map,this.Nw=[],this.o_=t}m(){this.zw.clear(),this.Lw.clear(),this.Ow.clear(),this.Nw=[]}Fw(t,e){let s=this.zw.size!==0,n=!1;const r=this.Lw.get(t);if(r!==void 0)if(this.Lw.size===1)s=!1,n=!0,this.zw.clear();else for(const a of this.Nw)a.pointData.Bw.delete(t)&&(n=!0);let o=[];if(e.length!==0){const a=e.map(f=>f.time),c=this.o_.createConverterToInternalObj(e),h=bo(t.Rr()),u=t.da(),d=t.pa();o=e.map((f,g)=>{const v=c(f.time),b=this.o_.key(v);let w=this.zw.get(b);w===void 0&&(w=wo(v),this.zw.set(b,w),n=!0);const x=h(v,w.Re,f,a[g],u,d);return w.Bw.set(t,x),x})}s&&this.Ww(),this.Hw(t,o);let l=-1;if(n){const a=[];this.zw.forEach(c=>{a.push({timeWeight:0,time:c.Hh,pointData:c,originalTime:yo(c.Bw)})}),a.sort((c,h)=>this.o_.key(c.time)-this.o_.key(h.time)),l=this.Uw(a)}return this.$w(t,l,function(a,c,h){const u=xo(a,h),d=xo(c,h);if(u!==void 0&&d!==void 0)return{qw:!1,zh:u.Aw>=d.Aw&&u.Ew>=d.Ew}}(this.Lw.get(t),r,this.o_))}Ec(t){return this.Fw(t,[])}Yw(t,e,s){const n=e;(function(b){b.Pw===void 0&&(b.Pw=b.time)})(n),this.o_.preprocessData(e);const r=this.o_.createConverterToInternalObj([e])(e.time),o=this.Ow.get(t);if(!s&&o!==void 0&&this.o_.key(r)<this.o_.key(o))throw new Error(`Cannot update oldest data, last time=${o}, new time=${r}`);let l=this.zw.get(this.o_.key(r));if(s&&l===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const a=l===void 0;l===void 0&&(l=wo(r),this.zw.set(this.o_.key(r),l));const c=bo(t.Rr()),h=t.da(),u=t.pa(),d=c(r,l.Re,e,n.Pw,h,u);l.Bw.set(t,d),s?this.jw(t,d,l.Re):this.Kw(t,d);const f={zh:yi(d),qw:s};if(!a)return this.$w(t,-1,f);const g={timeWeight:0,time:l.Hh,pointData:l,originalTime:yo(l.Bw)},v=li(this.Nw,this.o_.key(g.time),(b,w)=>this.o_.key(b.time)<w);this.Nw.splice(v,0,g);for(let b=v;b<this.Nw.length;++b)Js(this.Nw[b].pointData,b);return this.o_.fillWeightsForPoints(this.Nw,v),this.$w(t,v,f)}Kw(t,e){let s=this.Lw.get(t);s===void 0&&(s=[],this.Lw.set(t,s));const n=s.length!==0?s[s.length-1]:null;n===null||this.o_.key(e.wt)>this.o_.key(n.wt)?yi(e)&&s.push(e):yi(e)?s[s.length-1]=e:s.splice(-1,1),this.Ow.set(t,e.wt)}jw(t,e,s){const n=this.Lw.get(t);if(n===void 0)return;const r=li(n,s,(o,l)=>o.Re<l);yi(e)?n[r]=e:n.splice(r,1)}Hw(t,e){e.length!==0?(this.Lw.set(t,e.filter(yi)),this.Ow.set(t,e[e.length-1].wt)):(this.Lw.delete(t),this.Ow.delete(t))}Ww(){for(const t of this.Nw)t.pointData.Bw.size===0&&this.zw.delete(this.o_.key(t.time))}Uw(t){let e=-1;for(let s=0;s<this.Nw.length&&s<t.length;++s){const n=this.Nw[s],r=t[s];if(this.o_.key(n.time)!==this.o_.key(r.time)){e=s;break}r.timeWeight=n.timeWeight,Js(r.pointData,s)}if(e===-1&&this.Nw.length!==t.length&&(e=Math.min(this.Nw.length,t.length)),e===-1)return-1;for(let s=e;s<t.length;++s)Js(t[s].pointData,s);return this.o_.fillWeightsForPoints(t,e),this.Nw=t,e}Xw(){if(this.Lw.size===0)return null;let t=0;return this.Lw.forEach(e=>{e.length!==0&&(t=Math.max(t,e[e.length-1].Re))}),t}$w(t,e,s){const n={Oo:new Map,Et:{ou:this.Xw()}};if(e!==-1)this.Lw.forEach((r,o)=>{n.Oo.set(o,{se:r,Zw:o===t?s:void 0})}),this.Lw.has(t)||n.Oo.set(t,{se:[],Zw:s}),n.Et.Gw=this.Nw,n.Et.Jw=e;else{const r=this.Lw.get(t);n.Oo.set(t,{se:r||[],Zw:s})}return n}}function Js(i,t){i.Re=t,i.Bw.forEach(e=>{e.Re=t})}function Af(i,t){return i.wt<t}function Yf(i,t){return t<i.wt}function jl(i,t,e){const s=t.Uh(),n=t.bi(),r=li(i,s,Af),o=zl(i,n,Yf);if(!e)return{from:r,to:o};let l=r,a=o;return r>0&&r<i.length&&i[r].wt>=s&&(l=r-1),o>0&&o<i.length&&i[o-1].wt<=n&&(a=o+1),{from:l,to:a}}class On{constructor(t,e,s){this.Qw=!0,this.tg=!0,this.ig=!0,this.sg=[],this.ng=null,this.Jn=t,this.Qn=e,this.eg=s}kt(t){this.Qw=!0,t==="data"&&(this.tg=!0),t==="options"&&(this.ig=!0)}Tt(){return this.Jn.Vt()?(this.rg(),this.ng===null?null:this.hg):null}ag(){this.sg=this.sg.map(t=>({...t,...this.Jn.Rh().Dr(t.wt)}))}lg(){this.ng=null}rg(){this.tg&&(this.og(),this.tg=!1),this.ig&&(this.ag(),this.ig=!1),this.Qw&&(this._g(),this.Qw=!1)}_g(){const t=this.Jn.Ft(),e=this.Qn.Et();if(this.lg(),e.Ki()||t.Ki())return;const s=e.Pe();if(s===null||this.Jn.Xs().zr()===0)return;const n=this.Jn.zt();n!==null&&(this.ng=jl(this.sg,s,this.eg),this.ug(t,e,n.Wt),this.cg())}}class Hf{constructor(t,e){this.dg=t,this.Yi=e}nt(t,e,s){this.dg.draw(t,this.Yi,e,s)}}class Uf extends On{constructor(t,e,s){super(t,e,!1),this.sh=s,this.hg=new Hf(this.sh.renderer(),n=>{const r=t.zt();return r===null?null:t.Ft().Nt(n,r.Wt)})}fa(t){return this.sh.priceValueBuilder(t)}va(t){return this.sh.isWhitespace(t)}og(){const t=this.Jn.Rh();this.sg=this.Jn.Xs().Hr().map(e=>({wt:e.Re,_t:NaN,...t.Dr(e.Re),fg:e.se}))}ug(t,e){e._u(this.sg,Ni(this.ng))}cg(){this.sh.update({bars:this.sg.map(Gf),barSpacing:this.Qn.Et().vu(),visibleRange:this.ng},this.Jn.N())}}function Gf(i){return{x:i._t,time:i.wt,originalData:i.fg,barColor:i.cr}}const Xf={color:"#2196f3"},Kf=(i,t,e)=>{const s=ye(e);return new Uf(i,t,s)};function jn(i){const t={value:i.Wt[3],time:i.Pw};return i.Iw!==void 0&&(t.customValues=i.Iw),t}function So(i){const t=jn(i);return i.R!==void 0&&(t.color=i.R),t}function Qf(i){const t=jn(i);return i.vt!==void 0&&(t.lineColor=i.vt),i.mr!==void 0&&(t.topColor=i.mr),i.wr!==void 0&&(t.bottomColor=i.wr),t}function qf(i){const t=jn(i);return i.gr!==void 0&&(t.topLineColor=i.gr),i.Mr!==void 0&&(t.bottomLineColor=i.Mr),i.br!==void 0&&(t.topFillColor1=i.br),i.Sr!==void 0&&(t.topFillColor2=i.Sr),i.Cr!==void 0&&(t.bottomFillColor1=i.Cr),i.Pr!==void 0&&(t.bottomFillColor2=i.Pr),t}function Wl(i){const t={open:i.Wt[0],high:i.Wt[1],low:i.Wt[2],close:i.Wt[3],time:i.Pw};return i.Iw!==void 0&&(t.customValues=i.Iw),t}function Zf(i){const t=Wl(i);return i.R!==void 0&&(t.color=i.R),t}function Jf(i){const t=Wl(i),{R:e,Ht:s,vr:n}=i;return e!==void 0&&(t.color=e),s!==void 0&&(t.borderColor=s),n!==void 0&&(t.wickColor=n),t}function un(i){return{Area:Qf,Line:So,Baseline:qf,Histogram:So,Bar:Zf,Candlestick:Jf,Custom:tm}[i]}function tm(i){const t=i.Pw;return{...i.se,time:t}}const em={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},im={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},sm={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Bn,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},tn={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},nm={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function Co(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:sm,crosshair:em,grid:im,overlayPriceScales:{...tn},leftPriceScale:{...tn,visible:!1},rightPriceScale:{...tn,visible:!0},timeScale:nm,localization:{locale:ai?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Vl{constructor(t,e,s){this.Wf=t,this.pg=e,this.vg=s??0}applyOptions(t){this.Wf.Qt().lc(this.pg,t,this.vg)}options(){return this.Yi().N()}width(){return Ss(this.pg)?this.Wf.lw(this.pg):0}setVisibleRange(t){this.setAutoScale(!1),this.Yi().Wl(new Ft(t.from,t.to))}getVisibleRange(){const t=this.Yi().Qe();return t===null?null:{from:t.$e(),to:t.qe()}}setAutoScale(t){this.applyOptions({autoScale:t})}Yi(){return k(this.Wf.Qt().oc(this.pg,this.vg)).Ft}}class rm{constructor(t,e,s,n){this.Wf=t,this.Pt=s,this.mg=e,this.wg=n}getHeight(){return this.Pt.$t()}setHeight(t){const e=this.Wf.Qt(),s=e.Hc(this.Pt);e.fc(s,t)}getStretchFactor(){return this.Pt.Io()}setStretchFactor(t){this.Pt.Bo(t),this.Wf.Qt().Bh()}paneIndex(){return this.Wf.Qt().Hc(this.Pt)}moveTo(t){const e=this.paneIndex();e!==t&&(Et(t>=0&&t<this.Wf.Uf().length,"Invalid pane index"),this.Wf.Qt().mc(e,t))}getSeries(){return this.Pt.Oo().map(t=>this.mg(t))??[]}getHTMLElement(){const t=this.Wf.Uf();return t&&t.length!==0&&t[this.paneIndex()]?t[this.paneIndex()].Xf():null}attachPrimitive(t){this.Pt.ua(t),t.attached&&t.attached({chart:this.wg,requestUpdate:()=>this.Pt.Qt().Bh()})}detachPrimitive(t){this.Pt.ca(t)}priceScale(t){if(this.Pt.Do(t)===null)throw new Error(`Cannot find price scale with id: ${t}`);return new Vl(this.Wf,t,this.paneIndex())}setPreserveEmptyPane(t){this.Pt.zo(t)}preserveEmptyPane(){return this.Pt.Lo()}addCustomSeries(t,e={},s=0){return this.wg.addCustomSeries(t,e,s)}addSeries(t,e={}){return this.wg.addSeries(t,e,this.paneIndex())}}const om={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Mo{constructor(t){this.ir=t}applyOptions(t){this.ir.hr(t)}options(){return this.ir.N()}gg(){return this.ir}}class lm{constructor(t,e,s,n,r,o){this.Mg=new xt,this.Jn=t,this.bg=e,this.Sg=s,this.o_=r,this.wg=n,this.xg=o}m(){this.Mg.m()}priceFormatter(){return this.Jn.ra()}priceToCoordinate(t){const e=this.Jn.zt();return e===null?null:this.Jn.Ft().Nt(t,e.Wt)}coordinateToPrice(t){const e=this.Jn.zt();return e===null?null:this.Jn.Ft().Ts(t,e.Wt)}barsInLogicalRange(t){if(t===null)return null;const e=new ni(new si(t.from,t.to)).k_(),s=this.Jn.Xs();if(s.Ki())return null;const n=s.Fr(e.Uh(),1),r=s.Fr(e.bi(),-1),o=k(s.Lr()),l=k(s.Ks());if(n!==null&&r!==null&&n.Re>r.Re)return{barsBefore:t.from-o,barsAfter:l-t.to};const a={barsBefore:n===null||n.Re===o?t.from-o:n.Re-o,barsAfter:r===null||r.Re===l?l-t.to:l-r.Re};return n!==null&&r!==null&&(a.from=n.Pw,a.to=r.Pw),a}setData(t){this.o_,this.Jn.Rr(),this.bg.Cg(this.Jn,t),this.Pg("full")}update(t,e=!1){this.Jn.Rr(),this.bg.kg(this.Jn,t,e),this.Pg("update")}dataByIndex(t,e){const s=this.Jn.Xs().Fr(t,e);return s===null?null:un(this.seriesType())(s)}data(){const t=un(this.seriesType());return this.Jn.Xs().Hr().map(e=>t(e))}subscribeDataChanged(t){this.Mg.i(t)}unsubscribeDataChanged(t){this.Mg._(t)}applyOptions(t){this.Jn.hr(t)}options(){return me(this.Jn.N())}priceScale(){return this.Sg.priceScale(this.Jn.Ft().wa(),this.getPane().paneIndex())}createPriceLine(t){const e=Xt(me(om),t),s=this.Jn.Oh(e);return new Mo(s)}removePriceLine(t){this.Jn.Nh(t.gg())}priceLines(){return this.Jn.Fh().map(t=>new Mo(t))}seriesType(){return this.Jn.Rr()}attachPrimitive(t){this.Jn.ua(t),t.attached&&t.attached({chart:this.wg,series:this,requestUpdate:()=>this.Jn.Qt().Bh(),horzScaleBehavior:this.o_})}detachPrimitive(t){this.Jn.ca(t),t.detached&&t.detached(),this.Jn.Qt().Bh()}getPane(){const t=this.Jn,e=k(this.Jn.Qt().Hn(t));return this.xg(e)}moveToPane(t){this.Jn.Qt().Oc(this.Jn,t)}seriesOrder(){const t=this.Jn.Qt().Hn(this.Jn);return t===null?-1:t.Oo().indexOf(this.Jn)}setSeriesOrder(t){const e=this.Jn.Qt().Hn(this.Jn);e!==null&&e.Qo(this.Jn,t)}Pg(t){this.Mg.v()&&this.Mg.p(t)}}class am{constructor(t,e,s){this.yg=new xt,this.z_=new xt,this.wm=new xt,this.ts=t,this.uh=t.Et(),this.Xm=e,this.uh.Du().i(this.Tg.bind(this)),this.uh.Vu().i(this.Rg.bind(this)),this.Xm.Pm().i(this.Dg.bind(this)),this.o_=s}m(){this.uh.Du().u(this),this.uh.Vu().u(this),this.Xm.Pm().u(this),this.yg.m(),this.z_.m(),this.wm.m()}scrollPosition(){return this.uh.wu()}scrollToPosition(t,e){e?this.uh.yu(t,1e3):this.ts.fn(t)}scrollToRealTime(){this.uh.ku()}getVisibleRange(){const t=this.uh.su();return t===null?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.o_.convertHorzItemToInternal(t.from),to:this.o_.convertHorzItemToInternal(t.to)},s=this.uh.hu(e);this.ts.zc(s)}getVisibleLogicalRange(){const t=this.uh.iu();return t===null?null:{from:t.Uh(),to:t.bi()}}setVisibleLogicalRange(t){Et(t.from<=t.to,"The from index cannot be after the to index."),this.ts.zc(t)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.Eu()}logicalToCoordinate(t){const e=this.ts.Et();return e.Ki()?null:e.qt(t)}coordinateToLogical(t){return this.uh.Ki()?null:this.uh.uu(t)}timeToIndex(t,e){const s=this.o_.convertHorzItemToInternal(t);return this.uh.J_(s,e)}timeToCoordinate(t){const e=this.timeToIndex(t,!1);return e===null?null:this.uh.qt(e)}coordinateToTime(t){const e=this.ts.Et(),s=e.uu(t),n=e.ss(s);return n===null?null:n.originalTime}width(){return this.Xm.Zf().width}height(){return this.Xm.Zf().height}subscribeVisibleTimeRangeChange(t){this.yg.i(t)}unsubscribeVisibleTimeRangeChange(t){this.yg._(t)}subscribeVisibleLogicalRangeChange(t){this.z_.i(t)}unsubscribeVisibleLogicalRangeChange(t){this.z_._(t)}subscribeSizeChange(t){this.wm.i(t)}unsubscribeSizeChange(t){this.wm._(t)}applyOptions(t){this.uh.hr(t)}options(){return{...me(this.uh.N()),barSpacing:this.uh.vu()}}Tg(){this.yg.v()&&this.yg.p(this.getVisibleRange())}Rg(){this.z_.v()&&this.z_.p(this.getVisibleLogicalRange())}Dg(t){this.wm.p(t.width,t.height)}}function cm(i){if(i===void 0||i.type==="custom")return;const t=i;t.minMove!==void 0&&t.precision===void 0&&(t.precision=function(e){if(e>=1)return 0;let s=0;for(;s<8;s++){const n=Math.round(e);if(Math.abs(n-e)<1e-8)return s;e*=10}return s}(t.minMove))}function Po(i){return function(t){if(Xi(t.handleScale)){const s=t.handleScale;t.handleScale={axisDoubleClickReset:{time:s,price:s},axisPressedMouseMove:{time:s,price:s},mouseWheel:s,pinch:s}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:s,axisDoubleClickReset:n}=t.handleScale;Xi(s)&&(t.handleScale.axisPressedMouseMove={time:s,price:s}),Xi(n)&&(t.handleScale.axisDoubleClickReset={time:n,price:n})}const e=t.handleScroll;Xi(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(i),i}class hm{constructor(t,e,s){this.Vg=new Map,this.Ig=new Map,this.Bg=new xt,this.Eg=new xt,this.Ag=new xt,this.$u=new WeakMap,this.zg=new Vf(e);const n=s===void 0?me(Co()):Xt(me(Co()),Po(s));this.Lg=e,this.Wf=new If(t,n,e),this.Wf.Kv().i(o=>{this.Bg.v()&&this.Bg.p(this.Og(o()))},this),this.Wf.Xv().i(o=>{this.Eg.v()&&this.Eg.p(this.Og(o()))},this),this.Wf.uc().i(o=>{this.Ag.v()&&this.Ag.p(this.Og(o()))},this);const r=this.Wf.Qt();this.Ng=new am(r,this.Wf.tw(),this.Lg)}remove(){this.Wf.Kv().u(this),this.Wf.Xv().u(this),this.Wf.uc().u(this),this.Ng.m(),this.Wf.m(),this.Vg.clear(),this.Ig.clear(),this.Bg.m(),this.Eg.m(),this.Ag.m(),this.zg.m()}resize(t,e,s){this.autoSizeActive()||this.Wf.Gm(t,e,s)}addCustomSeries(t,e={},s=0){const n=(r=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...Xf,...r.defaultOptions()},Fg:Kf,Wg:r}))(ye(t));return this.Hg(n,e,s)}addSeries(t,e={},s=0){return this.Hg(t,e,s)}removeSeries(t){const e=Vt(this.Vg.get(t)),s=this.zg.Ec(e);this.Wf.Qt().Ec(e),this.Ug(s),this.Vg.delete(t),this.Ig.delete(e)}Cg(t,e){this.Ug(this.zg.Fw(t,e))}kg(t,e,s){this.Ug(this.zg.Yw(t,e,s))}subscribeClick(t){this.Bg.i(t)}unsubscribeClick(t){this.Bg._(t)}subscribeCrosshairMove(t){this.Ag.i(t)}unsubscribeCrosshairMove(t){this.Ag._(t)}subscribeDblClick(t){this.Eg.i(t)}unsubscribeDblClick(t){this.Eg._(t)}priceScale(t,e=0){return new Vl(this.Wf,t,e)}timeScale(){return this.Ng}applyOptions(t){this.Wf.hr(Po(t))}options(){return this.Wf.N()}takeScreenshot(){return this.Wf.hw()}addPane(t=!1){const e=this.Wf.Qt().Uc();return e.zo(t),this.$g(e)}removePane(t){this.Wf.Qt().dc(t)}swapPanes(t,e){this.Wf.Qt().vc(t,e)}autoSizeActive(){return this.Wf.uw()}chartElement(){return this.Wf.tp()}panes(){return this.Wf.Qt().$s().map(t=>this.$g(t))}paneSize(t=0){const e=this.Wf.fw(t);return{height:e.height,width:e.width}}setCrosshairPosition(t,e,s){const n=this.Vg.get(s);if(n===void 0)return;const r=this.Wf.Qt().Hn(n);r!==null&&this.Wf.Qt().Tc(t,e,r)}clearCrosshairPosition(){this.Wf.Qt().Rc(!0)}horzBehaviour(){return this.Lg}Hg(t,e={},s=0){Et(t.Fg!==void 0),cm(e.priceFormat),t.type==="Candlestick"&&function(a){a.borderColor!==void 0&&(a.borderUpColor=a.borderColor,a.borderDownColor=a.borderColor),a.wickColor!==void 0&&(a.wickUpColor=a.wickColor,a.wickDownColor=a.wickColor)}(e);const n=Xt(me(Ml),me(t.defaultOptions),e),r=t.Fg,o=new Ms(this.Wf.Qt(),t.type,n,r,t.Wg);this.Wf.Qt().Ic(o,s);const l=new lm(o,this,this,this,this.Lg,a=>this.$g(a));return this.Vg.set(l,o),this.Ig.set(o,l),l}Ug(t){const e=this.Wf.Qt();e.Dc(t.Et.ou,t.Et.Gw,t.Et.Jw),t.Oo.forEach((s,n)=>n.ht(s.se,s.Zw)),e.Et().j_(),e.pu()}qg(t){return Vt(this.Ig.get(t))}Og(t){const e=new Map;t.Rw.forEach((n,r)=>{const o=r.Rr(),l=un(o)(n);if(o!=="Custom")Et(Nf(l));else{const a=r.pa();Et(!a||a(l)===!1)}e.set(this.qg(r),l)});const s=t.Tw!==void 0&&this.Ig.has(t.Tw)?this.qg(t.Tw):void 0;return{time:t.Pw,logical:t.Re,point:t.kw,paneIndex:t.yw,hoveredSeries:s,hoveredObjectId:t.Dw,seriesData:e,sourceEvent:t.Vw}}$g(t){let e=this.$u.get(t);return e||(e=new rm(this.Wf,s=>this.qg(s),t,this),this.$u.set(t,e)),e}}function um(i){if(Wi(i)){const t=document.getElementById(i);return Et(t!==null,`Cannot find element in DOM with id=${i}`),t}return i}function dm(i,t,e){const s=um(i),n=new hm(s,t,e);return t.setOptions(n.options()),n}function pm(i,t){return dm(i,new lo,lo.ad(t))}class ks extends On{constructor(t,e){super(t,e,!0)}ug(t,e,s){e._u(this.sg,Ni(this.ng)),t.$l(this.sg,s,Ni(this.ng))}Yg(t,e){return{wt:t,gt:e,_t:NaN,ut:NaN}}og(){const t=this.Jn.Rh();this.sg=this.Jn.Xs().Hr().map(e=>{const s=e.Wt[3];return this.jg(e.Re,s,t)})}}function Al(i,t,e,s,n,r,o){if(t.length===0||s.from>=t.length||s.to<=0)return;const{context:l,horizontalPixelRatio:a,verticalPixelRatio:c}=i,h=t[s.from];let u=r(i,h),d=h;if(s.to-s.from<2){const f=n/2;l.beginPath();const g={_t:h._t-f,ut:h.ut},v={_t:h._t+f,ut:h.ut};l.moveTo(g._t*a,g.ut*c),l.lineTo(v._t*a,v.ut*c),o(i,u,g,v)}else{const f=(v,b)=>{o(i,u,d,b),l.beginPath(),u=v,d=b};let g=d;l.beginPath(),l.moveTo(h._t*a,h.ut*c);for(let v=s.from+1;v<s.to;++v){g=t[v];const b=r(i,g);switch(e){case 0:l.lineTo(g._t*a,g.ut*c);break;case 1:l.lineTo(g._t*a,t[v-1].ut*c),b!==u&&(f(b,g),l.lineTo(g._t*a,t[v-1].ut*c)),l.lineTo(g._t*a,g.ut*c);break;case 2:{const[w,x]=fm(t,v-1,v);l.bezierCurveTo(w._t*a,w.ut*c,x._t*a,x.ut*c,g._t*a,g.ut*c);break}}e!==1&&b!==u&&(f(b,g),l.moveTo(g._t*a,g.ut*c))}(d!==g||d===g&&e===1)&&o(i,u,d,g)}}const ko=6;function en(i,t){return{_t:i._t-t._t,ut:i.ut-t.ut}}function Ro(i,t){return{_t:i._t/t,ut:i.ut/t}}function fm(i,t,e){const s=Math.max(0,t-1),n=Math.min(i.length-1,e+1);var r,o;return[(r=i[t],o=Ro(en(i[e],i[s]),ko),{_t:r._t+o._t,ut:r.ut+o.ut}),en(i[e],Ro(en(i[n],i[t]),ko))]}function mm(i,t){const e=i.context;e.strokeStyle=t,e.stroke()}class Yl extends he{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(this.rt===null)return;const{ot:e,lt:s,Kg:n,Xg:r,ct:o,Xt:l,Zg:a}=this.rt;if(s===null)return;const c=t.context;c.lineCap="butt",c.lineWidth=o*t.verticalPixelRatio,He(c,l),c.lineJoin="round";const h=this.Gg.bind(this);r!==void 0&&Al(t,e,r,s,n,h,mm),a&&function(u,d,f,g,v){if(g.to-g.from<=0)return;const{horizontalPixelRatio:b,verticalPixelRatio:w,context:x}=u;let y=null;const S=Math.max(1,Math.floor(b))%2/2,C=f*w+S;for(let P=g.to-1;P>=g.from;--P){const _=d[P];if(_){const R=v(u,_);R!==y&&(x.beginPath(),y!==null&&x.fill(),x.fillStyle=R,y=R);const I=Math.round(_._t*b)+S,F=_.ut*w;x.moveTo(I,F),x.arc(I,F,C,0,2*Math.PI)}}x.fill()}(t,e,a,s,h)}}class Hl extends Yl{Gg(t,e){return e.vt}}class gm extends ks{constructor(){super(...arguments),this.hg=new Hl}jg(t,e,s){return{...this.Yg(t,e),...s.Dr(t)}}cg(){const t=this.Jn.N(),e={ot:this.sg,Xt:t.lineStyle,Xg:t.lineVisible?t.lineType:void 0,ct:t.lineWidth,Zg:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,lt:this.ng,Kg:this.Qn.Et().vu()};this.hg.ht(e)}}const vm={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Fg:(i,t)=>new gm(i,t)};function bm(i,t,e,s,n){const{context:r,horizontalPixelRatio:o,verticalPixelRatio:l}=t;r.lineTo(n._t*o,i*l),r.lineTo(s._t*o,i*l),r.closePath(),r.fillStyle=e,r.fill()}class Ul extends he{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(this.rt===null)return;const{ot:e,lt:s,Kg:n,ct:r,Xt:o,Xg:l}=this.rt,a=this.rt.eM??(this.rt.rM?0:t.mediaSize.height);if(s===null)return;const c=t.context;c.lineCap="butt",c.lineJoin="round",c.lineWidth=r,He(c,o),c.lineWidth=1,Al(t,e,l,s,n,this.hM.bind(this),bm.bind(null,a))}}class Wn{aM(t,e){const s=this.lM,{oM:n,_M:r,uM:o,cM:l,eM:a,dM:c,fM:h}=e;if(this.pM===void 0||s===void 0||s.oM!==n||s._M!==r||s.uM!==o||s.cM!==l||s.eM!==a||s.dM!==c||s.fM!==h){const{verticalPixelRatio:u}=t,d=a||c>0?u:1,f=c*d,g=h===t.bitmapSize.height?h:h*d,v=(a??0)*d,b=t.context.createLinearGradient(0,f,0,g);if(b.addColorStop(0,n),a!=null){const w=ii((v-f)/(g-f),0,1);b.addColorStop(w,r),b.addColorStop(w,o)}b.addColorStop(1,l),this.pM=b,this.lM=e}return this.pM}}class wm extends Ul{constructor(){super(...arguments),this.vM=new Wn}hM(t,e){const s=this.rt;return this.vM.aM(t,{oM:e.br,_M:e.Sr,uM:e.Cr,cM:e.Pr,eM:s.eM,dM:s.dM??0,fM:s.fM??t.bitmapSize.height})}}class xm extends Yl{constructor(){super(...arguments),this.mM=new Wn}Gg(t,e){const s=this.rt;return this.mM.aM(t,{oM:e.gr,_M:e.gr,uM:e.Mr,cM:e.Mr,eM:s.eM,dM:s.dM??0,fM:s.fM??t.bitmapSize.height})}}class ym extends ks{constructor(t,e){super(t,e),this.hg=new zn,this.wM=new wm,this.gM=new xm,this.hg.st([this.wM,this.gM])}jg(t,e,s){return{...this.Yg(t,e),...s.Dr(t)}}cg(){const t=this.Jn.zt();if(t===null)return;const e=this.Jn.N(),s=this.Jn.Ft().Nt(e.baseValue.price,t.Wt),n=this.Qn.Et().vu();if(this.ng===null||this.sg.length===0)return;let r,o;if(e.relativeGradient){r=this.sg[this.ng.from].ut,o=this.sg[this.ng.from].ut;for(let l=this.ng.from;l<this.ng.to;l++){const a=this.sg[l];a.ut<r&&(r=a.ut),a.ut>o&&(o=a.ut)}}this.wM.ht({ot:this.sg,ct:e.lineWidth,Xt:e.lineStyle,Xg:e.lineType,eM:s,dM:r,fM:o,rM:!1,lt:this.ng,Kg:n}),this.gM.ht({ot:this.sg,ct:e.lineWidth,Xt:e.lineStyle,Xg:e.lineVisible?e.lineType:void 0,Zg:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,eM:s,dM:r,fM:o,lt:this.ng,Kg:n})}}const Sm={type:"Baseline",isBuiltIn:!0,defaultOptions:{baseValue:{type:"price",price:0},relativeGradient:!1,topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Fg:(i,t)=>new ym(i,t)};class Cm extends Ul{constructor(){super(...arguments),this.vM=new Wn}hM(t,e){var s;return this.vM.aM(t,{oM:e.mr,_M:"",uM:"",cM:e.wr,dM:((s=this.rt)==null?void 0:s.dM)??0,fM:t.bitmapSize.height})}}class Mm extends ks{constructor(t,e){super(t,e),this.hg=new zn,this.MM=new Cm,this.bM=new Hl,this.hg.st([this.MM,this.bM])}jg(t,e,s){return{...this.Yg(t,e),...s.Dr(t)}}cg(){const t=this.Jn.N();if(this.ng===null||this.sg.length===0)return;let e;if(t.relativeGradient){e=this.sg[this.ng.from].ut;for(let s=this.ng.from;s<this.ng.to;s++){const n=this.sg[s];n.ut<e&&(e=n.ut)}}this.MM.ht({Xg:t.lineType,ot:this.sg,Xt:t.lineStyle,ct:t.lineWidth,eM:null,dM:e,rM:t.invertFilledArea,lt:this.ng,Kg:this.Qn.Et().vu()}),this.bM.ht({Xg:t.lineVisible?t.lineType:void 0,ot:this.sg,Xt:t.lineStyle,ct:t.lineWidth,lt:this.ng,Kg:this.Qn.Et().vu(),Zg:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}const Pm={type:"Area",isBuiltIn:!0,defaultOptions:{topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,relativeGradient:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Fg:(i,t)=>new Mm(i,t)};class km extends he{constructor(){super(...arguments),this.Yt=null,this.SM=0,this.xM=0}ht(t){this.Yt=t}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.Yt===null||this.Yt.Xs.length===0||this.Yt.lt===null)return;this.SM=this.CM(e),this.SM>=2&&Math.max(1,Math.floor(e))%2!=this.SM%2&&this.SM--,this.xM=this.Yt.PM?Math.min(this.SM,Math.floor(e)):this.SM;let n=null;const r=this.xM<=this.SM&&this.Yt.vu>=Math.floor(1.5*e);for(let o=this.Yt.lt.from;o<this.Yt.lt.to;++o){const l=this.Yt.Xs[o];n!==l.cr&&(t.fillStyle=l.cr,n=l.cr);const a=Math.floor(.5*this.xM),c=Math.round(l._t*e),h=c-a,u=this.xM,d=h+u-1,f=Math.min(l.Kl,l.Xl),g=Math.max(l.Kl,l.Xl),v=Math.round(f*s)-a,b=Math.round(g*s)+a,w=Math.max(b-v,this.xM);t.fillRect(h,v,u,w);const x=Math.ceil(1.5*this.SM);if(r){if(this.Yt.kM){const P=c-x;let _=Math.max(v,Math.round(l.jl*s)-a),R=_+u-1;R>v+w-1&&(R=v+w-1,_=R-u+1),t.fillRect(P,_,h-P,R-_+1)}const y=c+x;let S=Math.max(v,Math.round(l.Zl*s)-a),C=S+u-1;C>v+w-1&&(C=v+w-1,S=C-u+1),t.fillRect(d+1,S,y-d,C-S+1)}}}CM(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(s,n){return Math.floor(.3*s*n)}(k(this.Yt).vu,t)))}}class Gl extends On{constructor(t,e){super(t,e,!1)}ug(t,e,s){e._u(this.sg,Ni(this.ng)),t.Yl(this.sg,s,Ni(this.ng))}yM(t,e,s){return{wt:t,qh:e.Wt[0],Yh:e.Wt[1],jh:e.Wt[2],Kh:e.Wt[3],_t:NaN,jl:NaN,Kl:NaN,Xl:NaN,Zl:NaN}}og(){const t=this.Jn.Rh();this.sg=this.Jn.Xs().Hr().map(e=>this.jg(e.Re,e,t))}}class Rm extends Gl{constructor(){super(...arguments),this.hg=new km}jg(t,e,s){return{...this.yM(t,e,s),...s.Dr(t)}}cg(){const t=this.Jn.N();this.hg.ht({Xs:this.sg,vu:this.Qn.Et().vu(),kM:t.openVisible,PM:t.thinBars,lt:this.ng})}}const _m={type:"Bar",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Fg:(i,t)=>new Rm(i,t)};class Em extends he{constructor(){super(...arguments),this.Yt=null,this.SM=0}ht(t){this.Yt=t}et(t){if(this.Yt===null||this.Yt.Xs.length===0||this.Yt.lt===null)return;const{horizontalPixelRatio:e}=t;this.SM=function(r,o){if(r>=2.5&&r<=4)return Math.floor(3*o);const l=1-.2*Math.atan(Math.max(4,r)-4)/(.5*Math.PI),a=Math.floor(r*l*o),c=Math.floor(r*o),h=Math.min(a,c);return Math.max(Math.floor(o),h)}(this.Yt.vu,e),this.SM>=2&&Math.floor(e)%2!=this.SM%2&&this.SM--;const s=this.Yt.Xs;this.Yt.TM&&this.RM(t,s,this.Yt.lt),this.Yt.Mi&&this._v(t,s,this.Yt.lt);const n=this.DM(e);(!this.Yt.Mi||this.SM>2*n)&&this.VM(t,s,this.Yt.lt)}RM(t,e,s){if(this.Yt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="",a=Math.min(Math.floor(r),Math.floor(this.Yt.vu*r));a=Math.max(Math.floor(r),Math.min(a,this.SM));const c=Math.floor(.5*a);let h=null;for(let u=s.from;u<s.to;u++){const d=e[u];d.pr!==l&&(n.fillStyle=d.pr,l=d.pr);const f=Math.round(Math.min(d.jl,d.Zl)*o),g=Math.round(Math.max(d.jl,d.Zl)*o),v=Math.round(d.Kl*o),b=Math.round(d.Xl*o);let w=Math.round(r*d._t)-c;const x=w+a-1;h!==null&&(w=Math.max(h+1,w),w=Math.min(w,x));const y=x-w+1;n.fillRect(w,v,y,f-v),n.fillRect(w,g+1,y,b-g),h=x}}DM(t){let e=Math.floor(1*t);this.SM<=2*e&&(e=Math.floor(.5*(this.SM-1)));const s=Math.max(Math.floor(t),e);return this.SM<=2*s?Math.max(Math.floor(t),Math.floor(1*t)):s}_v(t,e,s){if(this.Yt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="";const a=this.DM(r);let c=null;for(let h=s.from;h<s.to;h++){const u=e[h];u.dr!==l&&(n.fillStyle=u.dr,l=u.dr);let d=Math.round(u._t*r)-Math.floor(.5*this.SM);const f=d+this.SM-1,g=Math.round(Math.min(u.jl,u.Zl)*o),v=Math.round(Math.max(u.jl,u.Zl)*o);if(c!==null&&(d=Math.max(c+1,d),d=Math.min(d,f)),this.Yt.vu*r>2*a)Mp(n,d,g,f-d+1,v-g+1,a);else{const b=f-d+1;n.fillRect(d,g,b,v-g+1)}c=f}}VM(t,e,s){if(this.Yt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="";const a=this.DM(r);for(let c=s.from;c<s.to;c++){const h=e[c];let u=Math.round(Math.min(h.jl,h.Zl)*o),d=Math.round(Math.max(h.jl,h.Zl)*o),f=Math.round(h._t*r)-Math.floor(.5*this.SM),g=f+this.SM-1;if(h.cr!==l){const v=h.cr;n.fillStyle=v,l=v}this.Yt.Mi&&(f+=a,u+=a,g-=a,d-=a),u>d||n.fillRect(f,u,g-f+1,d-u+1)}}}class $m extends Gl{constructor(){super(...arguments),this.hg=new Em}jg(t,e,s){return{...this.yM(t,e,s),...s.Dr(t)}}cg(){const t=this.Jn.N();this.hg.ht({Xs:this.sg,vu:this.Qn.Et().vu(),TM:t.wickVisible,Mi:t.borderVisible,lt:this.ng})}}const Tm={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},Fg:(i,t)=>new $m(i,t)};class Bm extends he{constructor(){super(...arguments),this.Yt=null,this.IM=[]}ht(t){this.Yt=t,this.IM=[]}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.Yt===null||this.Yt.ot.length===0||this.Yt.lt===null)return;this.IM.length||this.BM(e);const n=Math.max(1,Math.floor(s)),r=Math.round(this.Yt.EM*s)-Math.floor(n/2),o=r+n;for(let l=this.Yt.lt.from;l<this.Yt.lt.to;l++){const a=this.Yt.ot[l],c=this.IM[l-this.Yt.lt.from],h=Math.round(a.ut*s);let u,d;t.fillStyle=a.cr,h<=r?(u=h,d=o):(u=r,d=h-Math.floor(n/2)+n),t.fillRect(c.Uh,u,c.bi-c.Uh+1,d-u)}}BM(t){if(this.Yt===null||this.Yt.ot.length===0||this.Yt.lt===null)return void(this.IM=[]);const e=Math.ceil(this.Yt.vu*t)<=1?0:Math.max(1,Math.floor(t)),s=Math.round(this.Yt.vu*t)-e;this.IM=new Array(this.Yt.lt.to-this.Yt.lt.from);for(let r=this.Yt.lt.from;r<this.Yt.lt.to;r++){const o=this.Yt.ot[r],l=Math.round(o._t*t);let a,c;if(s%2){const h=(s-1)/2;a=l-h,c=l+h}else{const h=s/2;a=l-h,c=l+h-1}this.IM[r-this.Yt.lt.from]={Uh:a,bi:c,AM:l,ne:o._t*t,wt:o.wt}}for(let r=this.Yt.lt.from+1;r<this.Yt.lt.to;r++){const o=this.IM[r-this.Yt.lt.from],l=this.IM[r-this.Yt.lt.from-1];o.wt===l.wt+1&&o.Uh-l.bi!==e+1&&(l.AM>l.ne?l.bi=o.Uh-e-1:o.Uh=l.bi+e+1)}let n=Math.ceil(this.Yt.vu*t);for(let r=this.Yt.lt.from;r<this.Yt.lt.to;r++){const o=this.IM[r-this.Yt.lt.from];o.bi<o.Uh&&(o.bi=o.Uh);const l=o.bi-o.Uh+1;n=Math.min(l,n)}if(e>0&&n<4)for(let r=this.Yt.lt.from;r<this.Yt.lt.to;r++){const o=this.IM[r-this.Yt.lt.from];o.bi-o.Uh+1>n&&(o.AM>o.ne?o.bi-=1:o.Uh+=1)}}}class zm extends ks{constructor(){super(...arguments),this.hg=new Bm}jg(t,e,s){return{...this.Yg(t,e),...s.Dr(t)}}cg(){const t={ot:this.sg,vu:this.Qn.Et().vu(),lt:this.ng,EM:this.Jn.Ft().Nt(this.Jn.N().base,k(this.Jn.zt()).Wt)};this.hg.ht(t)}}const Im={type:"Histogram",isBuiltIn:!0,defaultOptions:{color:"#26a69a",base:0},Fg:(i,t)=>new zm(i,t)};class Xl{constructor(t,e){this.Pt=t,this.zM=e,this.LM()}detach(){this.Pt.detachPrimitive(this.zM)}getPane(){return this.Pt}applyOptions(t){var e,s;(s=(e=this.zM).hr)==null||s.call(e,t)}LM(){this.Pt.attachPrimitive(this.zM)}}const Lm={visible:!0,horzAlign:"center",vertAlign:"center",lines:[]},Nm={color:"rgba(0, 0, 0, 0.5)",fontSize:48,fontFamily:Bn,fontStyle:"",text:""};class Dm{constructor(t){this.OM=new Map,this.Yt=t}draw(t){t.useMediaCoordinateSpace(e=>{if(!this.Yt.visible)return;const{context:s,mediaSize:n}=e;let r=0;for(const l of this.Yt.lines){if(l.text.length===0)continue;s.font=l.k;const a=this.NM(s,l.text);a>n.width?l.xu=n.width/a:l.xu=1,r+=l.lineHeight*l.xu}let o=0;switch(this.Yt.vertAlign){case"top":o=0;break;case"center":o=Math.max((n.height-r)/2,0);break;case"bottom":o=Math.max(n.height-r,0)}for(const l of this.Yt.lines){s.save(),s.fillStyle=l.color;let a=0;switch(this.Yt.horzAlign){case"left":s.textAlign="left",a=l.lineHeight/2;break;case"center":s.textAlign="center",a=n.width/2;break;case"right":s.textAlign="right",a=n.width-1-l.lineHeight/2}s.translate(a,o),s.textBaseline="top",s.font=l.k,s.scale(l.xu,l.xu),s.fillText(l.text,0,l.FM),s.restore(),o+=l.lineHeight*l.xu}})}NM(t,e){const s=this.WM(t.font);let n=s.get(e);return n===void 0&&(n=t.measureText(e).width,s.set(e,n)),n}WM(t){let e=this.OM.get(t);return e===void 0&&(e=new Map,this.OM.set(t,e)),e}}class Fm{constructor(t){this.Ps=_o(t)}kt(t){this.Ps=_o(t)}renderer(){return new Dm(this.Ps)}}function Om(i){return{...i,k:oi(i.fontSize,i.fontFamily,i.fontStyle),lineHeight:i.lineHeight||1.2*i.fontSize,FM:0,xu:0}}function _o(i){return{...i,lines:i.lines.map(Om)}}function jm(i){return{...Nm,...i}}function Eo(i){var t;return{...Lm,...i,lines:((t=i.lines)==null?void 0:t.map(jm))??[]}}class Wm{constructor(t){this.Ps=Eo(t),this.HM=[new Fm(this.Ps)]}updateAllViews(){this.HM.forEach(t=>t.kt(this.Ps))}paneViews(){return this.HM}attached({requestUpdate:t}){this.UM=t}detached(){this.UM=void 0}hr(t){this.Ps=Eo({...this.Ps,...t}),this.UM&&this.UM()}}function Vm(i,t){return new Xl(i,new Wm(t))}const Am={alpha:1,padding:0};class Ym{constructor(t){this.Yt=t}draw(t){t.useMediaCoordinateSpace(e=>{const s=e.context,n=this.$M(this.Yt,e.mediaSize);n&&this.Yt.qM&&(s.globalAlpha=this.Yt.alpha??1,s.drawImage(this.Yt.qM,n._t,n.ut,n.Qi,n.$t))})}$M(t,e){const{maxHeight:s,maxWidth:n,YM:r,jM:o,padding:l}=t,a=Math.round(e.width/2),c=Math.round(e.height/2),h=l??0;let u=e.width-2*h,d=e.height-2*h;s&&(d=Math.min(d,s)),n&&(u=Math.min(u,n));const f=u/o,g=d/r,v=Math.min(f,g),b=o*v,w=r*v;return{_t:a-.5*b,ut:c-.5*w,$t:w,Qi:b}}}class Hm{constructor(t){this.KM=null,this.XM=0,this.ZM=0,this.Ps=t,this.M=$o(this.Ps,this.KM,this.XM,this.ZM)}GM(t){t.JM!==void 0&&(this.XM=t.JM),t.QM!==void 0&&(this.ZM=t.QM),t.tb!==void 0&&(this.KM=t.tb),this.kt()}ib(t){this.Ps=t,this.kt()}zOrder(){return"bottom"}kt(){this.M=$o(this.Ps,this.KM,this.XM,this.ZM)}renderer(){return new Ym(this.M)}}function $o(i,t,e,s){return{...i,qM:t,jM:e,YM:s}}function To(i){return{...Am,...i}}class Um{constructor(t,e){this.sb=null,this.nb=t,this.Ps=To(e),this.HM=[new Hm(this.Ps)]}updateAllViews(){this.HM.forEach(t=>t.kt())}paneViews(){return this.HM}attached(t){const{requestUpdate:e}=t;this.eb=e,this.sb=new Image,this.sb.onload=()=>{var r,o;const s=((r=this.sb)==null?void 0:r.naturalHeight)??1,n=((o=this.sb)==null?void 0:o.naturalWidth)??1;this.HM.forEach(l=>l.GM({QM:s,JM:n,tb:this.sb})),this.eb&&this.eb()},this.sb.src=this.nb}detached(){this.eb=void 0,this.sb=null}hr(t){this.Ps=To({...this.Ps,...t}),this.rb(),this.UM&&this.UM()}UM(){this.eb&&this.eb()}rb(){this.HM.forEach(t=>t.ib(this.Ps))}}function Gm(i,t,e){return new Xl(i,new Um(t,e))}class Xm{constructor(t,e){this.Jn=t,this.ah=e,this.LM()}detach(){this.Jn.detachPrimitive(this.ah)}getSeries(){return this.Jn}applyOptions(t){this.ah&&this.ah.hr&&this.ah.hr(t)}LM(){this.Jn.attachPrimitive(this.ah)}}const Km={zOrder:"normal"};function $i(i,t){return Ln(Math.min(Math.max(i,12),30)*t)}function ci(i,t){switch(i){case"arrowDown":case"arrowUp":return $i(t,1);case"circle":return $i(t,.8);case"square":return $i(t,.7)}}function Kl(i){return function(t){const e=Math.ceil(t);return e%2!=0?e-1:e}($i(i,1))}function Ql(i){return Math.max($i(i,.1),3)}function Bo(i,t,e){return t?i:e?Math.ceil(i/2):0}function zo(i,t,e,s){const n=(ci("arrowUp",s)-1)/2*e.hb,r=(Ln(s/2)-1)/2*e.hb;t.beginPath(),i?(t.moveTo(e._t-n,e.ut),t.lineTo(e._t,e.ut-n),t.lineTo(e._t+n,e.ut),t.lineTo(e._t+r,e.ut),t.lineTo(e._t+r,e.ut+n),t.lineTo(e._t-r,e.ut+n),t.lineTo(e._t-r,e.ut)):(t.moveTo(e._t-n,e.ut),t.lineTo(e._t,e.ut+n),t.lineTo(e._t+n,e.ut),t.lineTo(e._t+r,e.ut),t.lineTo(e._t+r,e.ut-n),t.lineTo(e._t-r,e.ut-n),t.lineTo(e._t-r,e.ut)),t.fill()}function Io(i,t,e,s,n,r){const o=(ci("arrowUp",s)-1)/2,l=(Ln(s/2)-1)/2;return n>=t-l-2&&n<=t+l+2&&r>=(i?e:e-o)-2&&r<=(i?e+o:e)+2?!0:(()=>{if(n<t-o-3||n>t+o+3||r<(i?e-o-3:e)||r>(i?e:e+o+3))return!1;const a=Math.abs(n-t);return Math.abs(r-e)+3>=a/2})()}class Qm{constructor(){this.Yt=null,this.On=new Fi,this.F=-1,this.W="",this.Fp="",this.ab="normal"}ht(t){this.Yt=t}Nn(t,e,s){this.F===t&&this.W===e||(this.F=t,this.W=e,this.Fp=oi(t,e),this.On.In()),this.ab=s}jn(t,e){if(this.Yt===null||this.Yt.lt===null)return null;for(let s=this.Yt.lt.from;s<this.Yt.lt.to;s++){const n=this.Yt.ot[s];if(n&&Zm(n,t,e))return{zOrder:"normal",externalId:n.Kn??""}}return null}draw(t){this.ab!=="aboveSeries"&&t.useBitmapCoordinateSpace(e=>{this.et(e)})}drawBackground(t){this.ab==="aboveSeries"&&t.useBitmapCoordinateSpace(e=>{this.et(e)})}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.Yt!==null&&this.Yt.lt!==null){t.textBaseline="middle",t.font=this.Fp;for(let n=this.Yt.lt.from;n<this.Yt.lt.to;n++){const r=this.Yt.ot[n];r.ri!==void 0&&(r.ri.Qi=this.On.Vi(t,r.ri.lb),r.ri.$t=this.F,r.ri._t=r._t-r.ri.Qi/2),qm(r,t,e,s)}}}}function qm(i,t,e,s){t.fillStyle=i.R,i.ri!==void 0&&function(n,r,o,l,a,c){n.save(),n.scale(a,c),n.fillText(r,o,l),n.restore()}(t,i.ri.lb,i.ri._t,i.ri.ut,e,s),function(n,r,o){if(n.zr!==0){switch(n.ob){case"arrowDown":return void zo(!1,r,o,n.zr);case"arrowUp":return void zo(!0,r,o,n.zr);case"circle":return void function(l,a,c){const h=(ci("circle",c)-1)/2;l.beginPath(),l.arc(a._t,a.ut,h*a.hb,0,2*Math.PI,!1),l.fill()}(r,o,n.zr);case"square":return void function(l,a,c){const h=ci("square",c),u=(h-1)*a.hb/2,d=a._t-u,f=a.ut-u;l.fillRect(d,f,h*a.hb,h*a.hb)}(r,o,n.zr)}n.ob}}(i,t,function(n,r,o){const l=Math.max(1,Math.floor(r))%2/2;return{_t:Math.round(n._t*r)+l,ut:n.ut*o,hb:r}}(i,e,s))}function Zm(i,t,e){return!(i.ri===void 0||!function(s,n,r,o,l,a){const c=o/2;return l>=s&&l<=s+r&&a>=n-c&&a<=n+c}(i.ri._t,i.ri.ut,i.ri.Qi,i.ri.$t,t,e))||function(s,n,r){if(s.zr===0)return!1;switch(s.ob){case"arrowDown":return Io(!0,s._t,s.ut,s.zr,n,r);case"arrowUp":return Io(!1,s._t,s.ut,s.zr,n,r);case"circle":return function(o,l,a,c,h){const u=2+ci("circle",a)/2,d=o-c,f=l-h;return Math.sqrt(d*d+f*f)<=u}(s._t,s.ut,s.zr,n,r);case"square":return function(o,l,a,c,h){const u=ci("square",a),d=(u-1)/2,f=o-d,g=l-d;return c>=f&&c<=f+u&&h>=g&&h<=g+u}(s._t,s.ut,s.zr,n,r)}}(i,t,e)}function Lo(i){return i==="atPriceTop"||i==="atPriceBottom"||i==="atPriceMiddle"}function Jm(i,t,e,s,n,r,o,l){const a=function(g,v){if(Lo(v.position)&&v.price!==void 0)return v.price;if("value"in(b=g)&&typeof b.value=="number")return g.value;var b;if(function(w){return"open"in w&&"high"in w&&"low"in w&&"close"in w}(g)){if(v.position==="inBar")return g.close;if(v.position==="aboveBar")return g.high;if(v.position==="belowBar")return g.low}}(e,t);if(a===void 0)return;const c=Lo(t.position),h=l.timeScale(),u=Ue(t.size)?Math.max(t.size,0):1,d=Kl(h.options().barSpacing)*u,f=d/2;switch(i.zr=d,t.position){case"inBar":case"atPriceMiddle":return i.ut=k(o.priceToCoordinate(a)),void(i.ri!==void 0&&(i.ri.ut=i.ut+f+r+.6*n));case"aboveBar":case"atPriceTop":{const g=c?0:s._b;return i.ut=k(o.priceToCoordinate(a))-f-g,i.ri!==void 0&&(i.ri.ut=i.ut-f-.6*n,s._b+=1.2*n),void(c||(s._b+=d+r))}case"belowBar":case"atPriceBottom":{const g=c?0:s.ub;return i.ut=k(o.priceToCoordinate(a))+f+g,i.ri!==void 0&&(i.ri.ut=i.ut+f+r+.6*n,s.ub+=1.2*n),void(c||(s.ub+=d+r))}}}class tg{constructor(t,e,s){this.cb=[],this.xt=!0,this.fb=!0,this.Gt=new Qm,this.ge=t,this.Dp=e,this.Yt={ot:[],lt:null},this.Ps=s}renderer(){if(!this.ge.options().visible)return null;this.xt&&this.pb();const t=this.Dp.options().layout;return this.Gt.Nn(t.fontSize,t.fontFamily,this.Ps.zOrder),this.Gt.ht(this.Yt),this.Gt}mb(t){this.cb=t,this.kt("data")}kt(t){this.xt=!0,t==="data"&&(this.fb=!0)}wb(t){this.xt=!0,this.Ps=t}zOrder(){return this.Ps.zOrder==="aboveSeries"?"top":this.Ps.zOrder}pb(){const t=this.Dp.timeScale(),e=this.cb;this.fb&&(this.Yt.ot=e.map(c=>({wt:c.time,_t:0,ut:0,zr:0,ob:c.shape,R:c.color,Kn:c.id,gb:c.gb,ri:void 0})),this.fb=!1);const s=this.Dp.options().layout;this.Yt.lt=null;const n=t.getVisibleLogicalRange();if(n===null)return;const r=new si(Math.floor(n.from),Math.ceil(n.to));if(this.ge.data()[0]===null||this.Yt.ot.length===0)return;let o=NaN;const l=Ql(t.options().barSpacing),a={_b:l,ub:l};this.Yt.lt=jl(this.Yt.ot,r,!0);for(let c=this.Yt.lt.from;c<this.Yt.lt.to;c++){const h=e[c];h.time!==o&&(a._b=l,a.ub=l,o=h.time);const u=this.Yt.ot[c];u._t=k(t.logicalToCoordinate(h.time)),h.text!==void 0&&h.text.length>0&&(u.ri={lb:h.text,_t:0,ut:0,Qi:0,$t:0});const d=this.ge.dataByIndex(h.time,0);d!==null&&Jm(u,h,d,a,s.fontSize,l,this.ge,this.Dp)}this.xt=!1}}function No(i){return{...Km,...i}}class eg{constructor(t){this.sh=null,this.cb=[],this.Mb=[],this.bb=null,this.ge=null,this.Dp=null,this.Sb=!0,this.xb=null,this.Cb=null,this.Pb=null,this.kb=!0,this.Ps=No(t)}attached(t){this.yb(),this.Dp=t.chart,this.ge=t.series,this.sh=new tg(this.ge,k(this.Dp),this.Ps),this.eb=t.requestUpdate,this.ge.subscribeDataChanged(e=>this.Pg(e)),this.kb=!0,this.UM()}UM(){this.eb&&this.eb()}detached(){this.ge&&this.bb&&this.ge.unsubscribeDataChanged(this.bb),this.Dp=null,this.ge=null,this.sh=null,this.bb=null}mb(t){this.kb=!0,this.cb=t,this.yb(),this.Sb=!0,this.Cb=null,this.UM()}Tb(){return this.cb}paneViews(){return this.sh?[this.sh]:[]}updateAllViews(){this.Rb()}hitTest(t,e){var s;return this.sh?((s=this.sh.renderer())==null?void 0:s.jn(t,e))??null:null}autoscaleInfo(t,e){if(this.sh){const s=this.Db();if(s)return{priceRange:null,margins:s}}return null}hr(t){this.Ps=No({...this.Ps,...t}),this.UM&&this.UM()}Db(){const t=k(this.Dp).timeScale().options().barSpacing;if(this.Sb||t!==this.Pb){if(this.Pb=t,this.cb.length>0){const e=Ql(t),s=1.5*Kl(t)+2*e,n=this.Vb();this.xb={above:Bo(s,n.aboveBar,n.inBar),below:Bo(s,n.belowBar,n.inBar)}}else this.xb=null;this.Sb=!1}return this.xb}Vb(){return this.Cb===null&&(this.Cb=this.cb.reduce((t,e)=>(t[e.position]||(t[e.position]=!0),t),{inBar:!1,aboveBar:!1,belowBar:!1,atPriceTop:!1,atPriceBottom:!1,atPriceMiddle:!1})),this.Cb}yb(){var n;if(!this.kb||!this.Dp||!this.ge)return;const t=this.Dp.timeScale(),e=(n=this.ge)==null?void 0:n.data();if(t.getVisibleLogicalRange()==null||!this.ge||e.length===0)return void(this.Mb=[]);const s=t.timeToIndex(k(e[0].time),!0);this.Mb=this.cb.map((r,o)=>{const l=t.timeToIndex(r.time,!0),a=l<s?1:-1,c=k(this.ge).dataByIndex(l,a),h={time:t.timeToIndex(k(c).time,!1),position:r.position,shape:r.shape,color:r.color,id:r.id,gb:o,text:r.text,size:r.size,price:r.price,Pw:r.time};if(r.position==="atPriceTop"||r.position==="atPriceBottom"||r.position==="atPriceMiddle"){if(r.price===void 0)throw new Error(`Price is required for position ${r.position}`);return{...h,position:r.position,price:r.price}}return{...h,position:r.position,price:r.price}}),this.kb=!1}Rb(t){this.sh&&(this.yb(),this.sh.mb(this.Mb),this.sh.wb(this.Ps),this.sh.kt(t))}Pg(t){this.kb=!0,this.UM()}}class ig extends Xm{constructor(t,e,s){super(t,e),s&&this.setMarkers(s)}setMarkers(t){this.ah.mb(t)}markers(){return this.ah.Tb()}}function sg(i,t,e){const s=new ig(i,new eg(e??{}));return t&&s.setMarkers(t),s}const ng={...Ml,color:"#2196f3"};let ke=(0,m.createContext)(null);ke.displayName="ChartContext";let Do={addDefaultPane:!1},rg=({container:i,onClick:t,onCrosshairMove:e,onInit:s,options:n={},onDblClick:r})=>{let[o,l]=(0,m.useState)(!1),a=(0,m.useRef)({_chart:null,api(){return this._chart},init(){if(this._chart===null){let c=pm(i,{...Do,...n});this._chart=c,s&&s(this._chart)}return o||l(!0),this._chart},clear(){this._chart!==null&&(l(!1),this._chart.remove(),this._chart=null)}});return(0,m.useLayoutEffect)(()=>(a.current.init(),()=>{a.current.clear()}),[]),(0,m.useLayoutEffect)(()=>{if(i){if(t){var c;(c=a.current.api())===null||c===void 0||c.subscribeClick(t)}return()=>{if(t){var h;(h=a.current.api())===null||h===void 0||h.unsubscribeClick(t)}}}},[t]),(0,m.useLayoutEffect)(()=>{if(i){if(e){var c;(c=a.current.api())===null||c===void 0||c.subscribeCrosshairMove(e)}return()=>{if(e){var h;(h=a.current.api())===null||h===void 0||h.unsubscribeCrosshairMove(e)}}}},[e]),(0,m.useLayoutEffect)(()=>{if(i){if(r){var c;(c=a.current.api())===null||c===void 0||c.subscribeDblClick(r)}return()=>{if(r){var h;(h=a.current.api())===null||h===void 0||h.unsubscribeDblClick(r)}}}},[r]),(0,m.useLayoutEffect)(()=>{var c;i&&((c=a.current.api())===null||c===void 0||c.applyOptions({...Do,...n}))},[n]),{chartApiRef:a,isReady:o}},og=({children:i,container:t,onClick:e,onCrosshairMove:s,onInit:n,options:r})=>{let{chartApiRef:{current:o},isReady:l}=rg({container:t,onClick:e,onCrosshairMove:s,onInit:n,options:r});return kt.createElement(ke.Provider,{value:{chartApiRef:o,isReady:l}},i)},Bt=(0,m.forwardRef)(({children:i,containerProps:t,...e},s)=>{let[n,r]=(0,m.useState)(),o=(0,m.useCallback)(l=>{r(l),s&&(typeof s=="function"?o(l):s.current=l)},[s]);return kt.createElement("div",{ref:o,...t},!!n&&kt.createElement(og,{container:n,...e},i))});Bt.displayName="ChartWrapper";let Vn=(0,m.createContext)(null);Vn.displayName="TimeScaleContext";let lg="1.2.0";function Fo(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}class di extends Error{constructor(t,{isOperational:e=!0,cause:s,docsPath:n}={}){super(t),Fo(this,"isOperational",void 0),Fo(this,"cause",void 0),this.name=this.constructor.name??"InternalError",this.isOperational=e,this.cause=s,this.message=`${t??"An error occurred"}`,n&&(this.message=`${this.message}

Docs: see ${"https://ukorvl.github.io/lightweight-charts-react-components/docs/"+n}`),this.message=`${this.message}

Version: lightweight-charts-react-components@${lg}`,Object.setPrototypeOf(this,di.prototype)}}let ce=(i,t)=>{let e=(0,m.useContext)(i);if(!e){let s=i.name??i.displayName??"Context";throw new di(`${s} not found.`,{isOperational:!0})}return e},ag=({onVisibleTimeRangeChange:i,onVisibleLogicalRangeChange:t,onSizeChange:e,visibleRange:s,visibleLogicalRange:n,options:r={}})=>{let{isReady:o,chartApiRef:l}=ce(ke),[a,c]=(0,m.useState)(!1),h=(0,m.useRef)({_timeScale:null,api(){return this._timeScale},init(){if(this._timeScale)return this._timeScale;let u=l==null?void 0:l.api();return u?(this._timeScale=u.timeScale(),this._timeScale.applyOptions(r),s&&this._timeScale.setVisibleRange(s),n&&this._timeScale.setVisibleLogicalRange(n),i&&this._timeScale.subscribeVisibleTimeRangeChange(i),t&&this._timeScale.subscribeVisibleLogicalRangeChange(t),e&&this._timeScale.subscribeSizeChange(e),c(!0),this._timeScale):null},clear(){this._timeScale=null,c(!1)}});return(0,m.useLayoutEffect)(()=>{o&&h.current.init()},[o]),(0,m.useLayoutEffect)(()=>()=>{h.current.clear()},[]),(0,m.useLayoutEffect)(()=>{if(l&&r){var u,d;(d=h.current)===null||d===void 0||(u=d.api())===null||u===void 0||u.applyOptions(r)}},[r]),(0,m.useLayoutEffect)(()=>{if(l){if(e){var u,d;(d=h.current)===null||d===void 0||(u=d.api())===null||u===void 0||u.subscribeSizeChange(e)}return()=>{if(e){var f,g;(g=h.current)===null||g===void 0||(f=g.api())===null||f===void 0||f.unsubscribeSizeChange(e)}}}},[e]),(0,m.useLayoutEffect)(()=>{if(l){if(t){var u,d;(d=h.current)===null||d===void 0||(u=d.api())===null||u===void 0||u.subscribeVisibleLogicalRangeChange(t)}return()=>{if(t){var f,g;(g=h.current)===null||g===void 0||(f=g.api())===null||f===void 0||f.unsubscribeVisibleLogicalRangeChange(t)}}}},[t]),(0,m.useLayoutEffect)(()=>{if(l){if(i){var u,d;(d=h.current)===null||d===void 0||(u=d.api())===null||u===void 0||u.subscribeVisibleTimeRangeChange(i)}return()=>{if(i){var f,g;(g=h.current)===null||g===void 0||(f=g.api())===null||f===void 0||f.unsubscribeVisibleTimeRangeChange(i)}}}},[i]),(0,m.useLayoutEffect)(()=>{if(l&&s){var u,d;(d=h.current)===null||d===void 0||(u=d.api())===null||u===void 0||u.setVisibleRange(s)}},[s]),(0,m.useLayoutEffect)(()=>{if(l&&n){var u,d;(d=h.current)===null||d===void 0||(u=d.api())===null||u===void 0||u.setVisibleLogicalRange(n)}},[n]),{timeScaleApiRef:h,isReady:a}},zt=(0,m.forwardRef)(({children:i,...t},e)=>{let{timeScaleApiRef:{current:s},isReady:n}=ag(t);return(0,m.useImperativeHandle)(e,()=>s,[s]),kt.createElement(Vn.Provider,{value:{timeScaleApiRef:s,isReady:n}},i)});zt.displayName="TimeScale";let An=(0,m.createContext)(null);An.displayName="PaneContext";let Yn=()=>{let i=(0,m.useContext)(An);return{isInsidePane:!!i,isPaneReady:!!(i!=null&&i.isReady),paneApiRef:i==null?void 0:i.paneApiRef}},cg=({options:i={},id:t})=>{let{isReady:e,chartApiRef:s}=ce(ke),{isInsidePane:n,isPaneReady:r}=Yn(),o=(0,m.useRef)({_priceScale:null,api(){return this._priceScale},init(){if(!this._priceScale){let l=s==null?void 0:s.api();if(!l)return null;this._priceScale=l.priceScale(t),this._priceScale.applyOptions(i)}return this._priceScale},setId(l){this._priceScale!==null&&s!==null&&(this._priceScale=s.api().priceScale(l),this._priceScale.applyOptions(i))},clear(){this._priceScale=null}});return(0,m.useLayoutEffect)(()=>{if(e){if(!n)throw new di("PriceScale must be used inside a pane. Please ensure that the component is wrapped in a pane component.",{isOperational:!0,docsPath:""});r&&o.current.init()}},[e,n,r]),(0,m.useLayoutEffect)(()=>()=>{o.current.clear()},[]),(0,m.useLayoutEffect)(()=>{var l;s&&((l=o.current)===null||l===void 0||l.setId(t))},[t]),(0,m.useLayoutEffect)(()=>{if(s&&i){var l,a;(a=o.current)===null||a===void 0||(l=a.api())===null||l===void 0||l.applyOptions(i)}},[i]),o},dn=(0,m.forwardRef)((i,t)=>{let e=cg(i);return(0,m.useImperativeHandle)(t,()=>e.current,[e]),null});dn.displayName="PriceScale";let hg=({deps:i})=>{let{timeScaleApiRef:t,isReady:e}=ce(Vn);(0,m.useLayoutEffect)(()=>{if(!e||!t)return;let s=t.api();queueMicrotask(()=>{s&&s.fitContent()})},[...i,e])},Ot=({deps:i})=>(hg({deps:i}),null),Vi=(0,m.createContext)({seriesApiRef:null,isReady:!1});Vi.displayName="SeriesContext";let ug=({type:i,data:t,options:e={},reactive:s=!0,seriesOrder:n,...r})=>{let{isReady:o,chartApiRef:l}=ce(ke),{isPaneReady:a,isInsidePane:c,paneApiRef:h}=Yn(),[u,d]=(0,m.useState)(!1),f=(0,m.useRef)({_series:null,api(){return this._series},init(){if(!this._series){var g,v,b;let w=l==null?void 0:l.api();if(!w)return null;let x=c?h==null||(g=h.api())===null||g===void 0?void 0:g.paneIndex():void 0;if(i==="Custom"){let y=r.plugin;if(!y)throw new di("Custom series requires a plugin to be defined");this._series=w.addCustomSeries(y,e,x)}else this._series=w.addSeries(dg[i],e,x);(v=this._series)===null||v===void 0||v.setData(t),n!==void 0&&((b=this._series)===null||b===void 0||b.setSeriesOrder(n)),d(!0)}return this._series},clear(){if(this._series!==null){var g;l==null||(g=l.api())===null||g===void 0||g.removeSeries(this._series),this._series=null,d(!1)}}});return(0,m.useLayoutEffect)(()=>{o&&(!c||a)&&f.current.init()},[o,c,a]),(0,m.useLayoutEffect)(()=>()=>{f.current.clear()},[]),(0,m.useLayoutEffect)(()=>{if(l&&t&&s){var g;(g=f.current.api())===null||g===void 0||g.setData(t)}},[t,s]),(0,m.useLayoutEffect)(()=>{if(l&&e){var g;(g=f.current.api())===null||g===void 0||g.applyOptions(e)}},[e]),(0,m.useLayoutEffect)(()=>{if(l&&n!==void 0){var g;(g=f.current.api())===null||g===void 0||g.setSeriesOrder(n)}},[n]),{isReady:u,seriesApiRef:f}},dg={Line:vm,Candlestick:Tm,Histogram:Im,Area:Pm,Baseline:Sm,Bar:_m},Re=(0,m.forwardRef)(({children:i,...t},e)=>{let{seriesApiRef:{current:s},isReady:n}=ug(t);return(0,m.useImperativeHandle)(e,()=>s,[s]),kt.createElement(Vi.Provider,{value:{seriesApiRef:s,isReady:n}},i)});Re.displayName="SeriesTemplate";let ae=(0,m.forwardRef)(({children:i,...t},e)=>kt.createElement(Re,{type:"Line",ref:e,...t},i));ae.displayName="LineSeries";let Hn=(0,m.forwardRef)(({children:i,...t},e)=>kt.createElement(Re,{type:"Histogram",ref:e,...t},i));Hn.displayName="HistogramSeries";let _e=(0,m.forwardRef)(({children:i,...t},e)=>kt.createElement(Re,{type:"Candlestick",ref:e,...t},i));_e.displayName="CandlestickSeries";let Ke=(0,m.forwardRef)(({children:i,...t},e)=>kt.createElement(Re,{type:"Area",ref:e,...t},i));Ke.displayName="AreaSeries";let ql=(0,m.forwardRef)(({children:i,...t},e)=>kt.createElement(Re,{type:"Baseline",ref:e,...t},i));ql.displayName="BaselineSeries";let Zl=(0,m.forwardRef)(({children:i,...t},e)=>kt.createElement(Re,{type:"Bar",ref:e,...t},i));Zl.displayName="BarSeries";let Jl=(0,m.forwardRef)(({children:i,...t},e)=>kt.createElement(Re,{type:"Custom",ref:e,...t},i));Jl.displayName="CustomSeries";let pg=({options:i,price:t})=>{let{isReady:e,seriesApiRef:s}=ce(Vi),n=(0,m.useRef)({_priceLine:null,api(){return this._priceLine},init(){if(!this._priceLine){let r=s==null?void 0:s.api();if(!r)return null;this._priceLine=r.createPriceLine({price:t,...i})}return this._priceLine},clear(){if(this._priceLine!==null){var r;s==null||(r=s.api())===null||r===void 0||r.removePriceLine(this._priceLine),this._priceLine=null}}});return(0,m.useLayoutEffect)(()=>{e&&n.current.init()},[e]),(0,m.useLayoutEffect)(()=>()=>{n.current.clear()},[]),(0,m.useLayoutEffect)(()=>{if(s&&i){var r;(r=n.current.api())===null||r===void 0||r.applyOptions(i)}},[i]),(0,m.useLayoutEffect)(()=>{if(s&&t){var r;(r=n.current.api())===null||r===void 0||r.applyOptions({price:t})}},[t]),n},us=(0,m.forwardRef)((i,t)=>{let e=pg(i);return(0,m.useImperativeHandle)(t,()=>e.current,[e]),null});us.displayName="PriceLine";let fg=({reactive:i=!0,markers:t})=>{let{isReady:e,seriesApiRef:s}=ce(Vi),n=(0,m.useRef)({_markers:null,api(){return this._markers},init(){if(this._markers===null){let r=s==null?void 0:s.api();if(!r)return null;this._markers=sg(r,t)}return this._markers},clear(){this._markers!==null&&(this._markers.detach(),this._markers=null)}});return(0,m.useLayoutEffect)(()=>{e&&n.current.init()},[e]),(0,m.useLayoutEffect)(()=>()=>{n.current.clear()},[]),(0,m.useLayoutEffect)(()=>{if(s&&t&&i){var r;(r=n.current.api())===null||r===void 0||r.setMarkers(t)}},[t,i]),n},ta=(0,m.forwardRef)(({...i},t)=>{let e=fg(i);return(0,m.useImperativeHandle)(t,()=>e.current,[e]),null});ta.displayName="Markers";let mg=i=>{let{isReady:t,chartApiRef:e}=ce(ke),{isPaneReady:s,isInsidePane:n,paneApiRef:r}=Yn(),o=(0,m.useRef)({_watermark:null,api(){return this._watermark},init(){if(this._watermark===null){let l=e==null?void 0:e.api(),a=r==null?void 0:r.api();if(!l||!a)return null;if(gg(i)){let{type:c,...h}=i;this._watermark=Vm(a,h)}else{let{type:c,src:h,...u}=i;this._watermark=Gm(a,h,u)}}return this._watermark},clear(){this._watermark!==null&&(this._watermark.detach(),this._watermark=null)}});return(0,m.useLayoutEffect)(()=>{if(t){if(!n)throw new di("Watermark must be used inside a pane. Please ensure that the component is wrapped in a pane component.",{isOperational:!0,docsPath:""});s&&o.current.init()}},[t,s,n]),(0,m.useLayoutEffect)(()=>()=>{o.current.clear()},[]),(0,m.useLayoutEffect)(()=>{var l;if(!e||!i)return;let{type:a,...c}=i;(l=o.current.api())===null||l===void 0||l.applyOptions(c)},[i]),o},gg=i=>i.type==="text",ea=(i,t)=>{let e=mg(i);return(0,m.useImperativeHandle)(t,()=>e.current,[e]),null},Rs=(0,m.forwardRef)((i,t)=>ea({...i,type:"text"},t)),ia=(0,m.forwardRef)((i,t)=>ea({...i,type:"image"},t));Rs.displayName="WatermarkText",ia.displayName="WatermarkImage";let vg=({render:i,plugin:t})=>{let{isReady:e,chartApiRef:s}=ce(ke),{isReady:n,seriesApiRef:r}=ce(Vi),o=(0,m.useRef)({_primitive:null,api(){return this._primitive},init(){if(!this._primitive){let l=r==null?void 0:r.api(),a=s==null?void 0:s.api();if(!a||!l)return null;let c=t||i({chart:a,series:l});l.attachPrimitive(c),this._primitive=c}return this._primitive},clear(){if(this._primitive!==null){var l;r==null||(l=r.api())===null||l===void 0||l.detachPrimitive(this._primitive),this._primitive=null}}});return(0,m.useLayoutEffect)(()=>{e&&n&&o.current.init()},[n,e]),(0,m.useLayoutEffect)(()=>()=>{o.current.clear()},[]),o},sa=(0,m.forwardRef)((i,t)=>{let e=vg(i);return(0,m.useImperativeHandle)(t,()=>e.current,[e]),null});sa.displayName="SeriesPrimitive";let bg=({stretchFactor:i}={})=>{let{chartApiRef:t,isReady:e}=ce(ke),[s,n]=(0,m.useState)(!1),r=(0,m.useRef)({_pane:null,api(){return this._pane},init(){let o=t==null?void 0:t.api();if(!o)return null;let l=o.addPane(!0);return this._pane=l,n(!0),i!==void 0&&this._pane.setStretchFactor(i),this._pane},clear(){if(this._pane!==null){var o;t==null||(o=t.api())===null||o===void 0||o.removePane(this._pane.paneIndex()),n(!1),this._pane=null}}});return(0,m.useLayoutEffect)(()=>{e&&r.current.init()},[e]),(0,m.useLayoutEffect)(()=>()=>{r.current.clear()},[]),(0,m.useLayoutEffect)(()=>{if(i===void 0)return;let o=r.current.api();o&&o.setStretchFactor(i)},[i]),{paneApiRef:r,isReady:s}},je=(0,m.forwardRef)(({children:i,stretchFactor:t},e)=>{let{paneApiRef:{current:s},isReady:n}=bg({stretchFactor:t});return(0,m.useImperativeHandle)(e,()=>s,[s]),kt.createElement(An.Provider,{value:{paneApiRef:s,isReady:n}},i)});je.displayName="Pane";const Oo=i=>{let t;const e=new Set,s=(c,h)=>{const u=typeof c=="function"?c(t):c;if(!Object.is(u,t)){const d=t;t=h??(typeof u!="object"||u===null)?u:Object.assign({},t,u),e.forEach(f=>f(t,d))}},n=()=>t,l={setState:s,getState:n,getInitialState:()=>a,subscribe:c=>(e.add(c),()=>e.delete(c))},a=t=i(s,n,l);return l},wg=i=>i?Oo(i):Oo,xg=i=>i;function yg(i,t=xg){const e=kt.useSyncExternalStore(i.subscribe,()=>t(i.getState()),()=>t(i.getInitialState()));return kt.useDebugValue(e),e}const jo=i=>{const t=wg(i),e=s=>yg(t,s);return Object.assign(e,t),e},yt=i=>i?jo(i):jo,Nt=(i,{lastItemTime:t}={})=>{const e=t?le(t).subtract(i,"day"):le().subtract(i,"day");let s=Math.floor(Math.random()*100);return Sl(i).map((n,r)=>{const o=Math.floor(Math.random()*21)-10;return s=Math.max(0,s+o),{time:e.add(r,"day").format("YYYY-MM-DD"),value:s}})},pi=i=>{const t=le().subtract(i,"day");let e=Math.max(1,Math.random()*100);return Sl(i).map((s,n)=>{const r=e,o=r+Math.random()*10;let l=r-Math.random()*10;l=Math.max(0,l);const c=Math.max(o,l+.01),h=l+Math.random()*(c-l);return e=h,{time:t.add(n,"day").format("YYYY-MM-DD"),open:r,high:c,low:l,close:h}})},Un=(i,{upColor:t,downColor:e}={})=>{const s=Nt(i);return s.map((n,r)=>{const l=!(r===0)&&n.value<s[r-1].value;return{time:n.time,value:n.value,color:l?e:t}})};let Si=null;const Sg=i=>{const t=le(i.time.toString()).add(1,"day").format("YYYY-MM-DD"),e=i.close,s=Math.random()*e/10+1,n=Math.random()>.5?1:-1,r=s*n,o=5,l=e+r>=o?e+r:e-r<-5?e-r:e+r,a=Math.max(e,l)+s/2,c=Math.min(e,l)-s/2,h=c>=o?c:Math.max(e,l);return{time:t,open:e,high:a,low:h,close:l}},Cg=yt(i=>({reactive:!0,resizeOnUpdate:!1,data:pi(50),setReactive:t=>i({reactive:t}),setResizeOnUpdate:t=>i({resizeOnUpdate:t}),setData:t=>i(()=>({data:t})),startSimulation:()=>{Si||(Si=setInterval(()=>{i(t=>{const e=t.data[t.data.length-1],s=Sg(e);return{data:t.data.length>=300?[...t.data.slice(1),s]:[...t.data,s]}})},1e3))},stopSimulation:()=>{Si&&(clearInterval(Si),Si=null)}})),Mg=()=>{const{reactive:i,setReactive:t,resizeOnUpdate:e,setResizeOnUpdate:s,data:n,startSimulation:r,stopSimulation:o}=Cg(),l=m.useRef(null),{isOnScreen:a}=Xd({ref:l,margin:"100px"});return m.useEffect(()=>(a?r():o(),()=>{o()}),[a,r,o]),p.jsxs(Yt,{title:"Realtime updates",subTitle:"Updating the chart in real-time",sampleConfig:At.RealTime,children:[p.jsxs(ws,{sx:{flexDirection:"row",gap:2},children:[p.jsx(Fe,{control:p.jsx(ki,{checked:i,onChange:c=>t(c.target.checked),slotProps:{input:{"aria-label":"controlled"}}}),label:"Reactive"}),p.jsx(Fe,{control:p.jsx(ki,{checked:e,onChange:c=>s(c.target.checked),slotProps:{input:{"aria-label":"controlled"}}}),label:"Resize on update"})]}),p.jsxs(Bt,{containerProps:{style:{flexGrow:"1"}},options:ui,ref:l,children:[p.jsx(_e,{data:n,reactive:i}),p.jsx(zt,{children:p.jsx(Ot,{deps:e?[n.length]:[]})})]})]})},pn=Nt(50),Pg=pi(50),kg=Un(50,{upColor:M.orange,downColor:M.blue100}),fn={Candlestick:{Component:_e,options:{upColor:M.green,downColor:M.red,borderUpColor:M.green,borderDownColor:M.red,wickUpColor:M.green,wickDownColor:M.red}},Line:{Component:ae},Bar:{Component:Zl,options:{upColor:M.green,downColor:M.red}},Area:{Component:Ke,options:{topColor:M.pink,bottomColor:`${M.pink}20`,lineColor:M.pink}},Histogram:{Component:Hn},Baseline:{Component:ql,options:{baseValue:{type:"price",price:(Math.min(...pn.map(i=>i.value))+Math.max(...pn.map(i=>i.value)))/2},topLineColor:M.green,bottomLineColor:M.red}}},na=i=>{switch(i){case"Line":case"Area":case"Baseline":return pn;case"Candlestick":case"Bar":return Pg;case"Histogram":return kg;default:return[]}},Gn=yt(i=>({activeTab:"Candlestick",setActiveTab:t=>i({activeTab:t})})),mn=yt(i=>({seriesComponent:_e,seriesData:na(Gn.getState().activeTab),setSeriesData:t=>i({seriesData:t}),setSeriesComponent:t=>i({seriesComponent:t})}));Gn.subscribe(i=>{var e;const t=i.activeTab;mn.getState().setSeriesComponent(((e=fn[t])==null?void 0:e.Component)??null),mn.getState().setSeriesData(na(t))});const Rg=()=>{var o;const{activeTab:i,setActiveTab:t}=Gn(),{seriesData:e,seriesComponent:s}=mn(),n=((o=fn[i])==null?void 0:o.options)||{},r=l=>({id:`line-series-tab-${l}`,"aria-controls":`basic-series-tabpanel-${l}`});return p.jsxs(Yt,{title:"Basic series",subTitle:"Different series types basic usage",sampleConfig:At.BasicSeries,children:[p.jsx(En,{value:i,onChange:(l,a)=>t(a),"aria-label":"basic series tabs",sx:{marginBottom:2},allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",children:$n(fn).map(l=>p.jsx(_n,{value:l,label:l,...r(l)},l))}),p.jsxs(Bt,{options:ui,containerProps:{style:{flexGrow:"1"}},children:[s&&p.jsx(s,{data:e,options:n,reactive:!1}),p.jsx(zt,{children:p.jsx(Ot,{deps:[]})})]})]})},_g={maskImage:"linear-gradient(to left, white 90%, transparent 100%)",WebkitMaskImage:"linear-gradient(to left, white 90%, transparent 100%)"},Eg={maskImage:"linear-gradient(to right, white 90%, transparent 100%)",WebkitMaskImage:"linear-gradient(to right, white 90%, transparent 100%)"},$g={maskImage:"linear-gradient(to top, white 90%, transparent 100%)",WebkitMaskImage:"linear-gradient(to top, white 90%, transparent 100%)"},Tg={maskImage:"linear-gradient(to bottom, white 90%, transparent 100%)",WebkitMaskImage:"linear-gradient(to bottom, white 90%, transparent 100%)"},Bg={maskImage:`
    linear-gradient(to right, transparent 0%, white 10%, white 90%, transparent 100%)`,WebkitMaskImage:`
    linear-gradient(to right, transparent 0%, white 10%, white 90%, transparent 100%)`},zg={maskImage:`
    linear-gradient(to top, transparent 0%, white 10%, white 90%, transparent 100%)`,WebkitMaskImage:`
    linear-gradient(to top, transparent 0%, white 10%, white 90%, transparent 100%)`},Ig=({top:i,right:t,bottom:e,left:s})=>{const n={...s&&_g,...t&&Eg,...i&&$g,...e&&Tg};return s&&t&&Object.assign(n,Bg),i&&e&&Object.assign(n,zg),n},_s=({children:i,direction:t="row",gap:e=2,sx:s})=>{const n=m.useRef(null),[r,o]=m.useState({left:!1,right:!1,top:!1,bottom:!1});return m.useLayoutEffect(()=>{const l=n.current;if(!l)return;const a=()=>{const{scrollLeft:c,scrollWidth:h,clientWidth:u,scrollTop:d,scrollHeight:f,clientHeight:g}=l,v=c>0,b=c+u<h,w=d>0,x=d+g<f;o({left:v,right:b,top:w,bottom:x})};return a(),l.addEventListener("scroll",a),window.addEventListener("resize",a),()=>{l.removeEventListener("scroll",a),window.removeEventListener("resize",a)}},[]),p.jsx(Ae,{component:"div",direction:t,ref:n,sx:{...s,overflow:"auto",minWidth:0,scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},...Ig(r)},children:p.jsx(Ae,{component:"div",gap:e,direction:t,sx:{flexShrink:0},flexWrap:"nowrap",children:i})})},Lg=(i,t=14)=>{const e=[];for(let s=t-1;s<i.length;s++){const r=i.slice(s-t+1,s+1).reduce((o,l)=>o+l.value,0)/t;e.push({time:i[s].time,value:r})}return e},Ng=(i,t=14)=>{const e=2/(t+1),s=[];let n=i[0].value;for(let r=0;r<i.length;r++){if(r===0){s.push({time:i[r].time,value:n});continue}const o=i[r].value*e+n*(1-e);s.push({time:i[r].time,value:o}),n=o}return s},ra=100,gn=Nt(ra),Dg=Nt(ra),Fg={"Asset B":{data:Dg,Component:ae,chipColor:M.violet,options:{color:M.violet}},"SMA 14":{data:Lg(gn,14),Component:ae,chipColor:M.green,options:{color:M.green,priceLineVisible:!1,lineWidth:2}},"EMA 14":{data:Ng(gn),Component:ae,chipColor:M.orange100,options:{color:M.orange100,priceLineVisible:!1,lineWidth:2}}},Og=yt(i=>({visibleSeries:[],toggleSeriesVisibility:t=>i(e=>({visibleSeries:e.visibleSeries.includes(t)?e.visibleSeries.filter(n=>n!==t):[...e.visibleSeries,t]}))})),Wo=({label:i,selected:t,onClick:e,color:s})=>p.jsx(Lc,{label:i,variant:t?"filled":"outlined",onClick:e,tabIndex:e?0:-1,sx:{backgroundColor:t?s:"transparent",borderColor:s,color:t?M.white:s,"&:hover":{backgroundColor:t?s:"transparent"},...e?{"&:focus":{outline:`2px solid ${s}`}}:{}}}),jg=()=>{const{visibleSeries:i,toggleSeriesVisibility:t}=Og(),e=Kd(Fg);return p.jsxs(Yt,{title:"Compare series",subTitle:"Compare different series and metrics on the same chart",sampleConfig:At.CompareSeries,children:[p.jsxs(_s,{sx:{marginBottom:2,paddingBlock:1},children:[p.jsx(Wo,{label:"Asset A",color:M.blue100,selected:!0}),e.map(([s,{chipColor:n}])=>p.jsx(Wo,{label:s,color:n,selected:i.includes(s),onClick:()=>t(s)},s))]}),p.jsxs(Bt,{options:Gt({crosshair:{mode:Di.Normal}}),containerProps:{style:{flexGrow:"1"}},children:[p.jsx(Ke,{data:gn,options:{topColor:M.blue100,bottomColor:`${M.blue100}10`,lineColor:M.blue100,lineWidth:2}}),e.filter(([s])=>i.includes(s)).map(([s,{Component:n,data:r,options:o}])=>p.jsx(n,{data:r,options:o},s)),p.jsx(zt,{children:p.jsx(Ot,{deps:[]})})]})]})},Wg={...ng,colors:["#2962FF","#E1575A","#F28E2C","rgb(164, 89, 209)","rgb(27, 156, 133)"]};function Vg(i){return Math.floor(i*.5)}function Ag(i,t,e=1,s){const n=Math.round(t*i),r=Math.round(e*t),o=Vg(r);return{position:n-o,length:r}}function Yg(i,t,e){const s=Math.round(e*i),n=Math.round(e*t);return{position:Math.min(s,n),length:Math.abs(n-s)+1}}class Hg{constructor(){ee(this,"_data",null);ee(this,"_options",null)}draw(t,e){t.useBitmapCoordinateSpace(s=>this._drawImpl(s,e))}update(t,e){this._data=t,this._options=e}_drawImpl(t,e){if(this._data===null||this._data.bars.length===0||this._data.visibleRange===null||this._options===null)return;const s=this._options,n=this._data.barSpacing,r=this._data.bars.map(l=>{var d;const a=(d=l.originalData.customValues)==null?void 0:d.values.length,c=n/(a+1),u=c/2+l.x-n/2+c/2;return{singleBarWidth:c,singleBars:l.originalData.customValues.values.map((f,g)=>({y:e(f)??0,color:s.colors[g%s.colors.length],x:u+g*c}))}}),o=e(0)??0;for(let l=this._data.visibleRange.from;l<this._data.visibleRange.to;l++){const a=r[l];let c;a.singleBars.forEach(h=>{const u=Yg(o,h.y,t.verticalPixelRatio),d=Ag(h.x,t.horizontalPixelRatio,a.singleBarWidth);t.context.beginPath(),t.context.fillStyle=h.color;const f=c?d.position-c:0;t.context.fillRect(d.position-f,u.position,d.length+f,u.length),c=d.position+d.length})}}}class Ug{constructor(){ee(this,"_renderer");this._renderer=new Hg}priceValueBuilder(t){const{values:e}=t.customValues??{values:[]};return[0,...e]}isWhitespace(t){var e,s;return!((s=(e=t.customValues)==null?void 0:e.values)!=null&&s.length)}renderer(){return this._renderer}update(t,e){this._renderer.update(t,e)}defaultOptions(){return Wg}}const Gg=()=>p.jsx(Yt,{title:"Custom series",subTitle:"Custom series plugin usage (grouped bars)",sampleConfig:At.CustomSeries,children:p.jsxs(Bt,{options:ui,containerProps:{style:{flexGrow:"1"}},children:[p.jsx(Jl,{data:[{time:"2021-01-01",customValues:{values:[1,2,3]}},{time:"2021-01-02",customValues:{values:[2,3,4]}},{time:"2021-01-03",customValues:{values:[3,4,5]}}],plugin:new Ug}),p.jsx(zt,{children:p.jsx(Ot,{deps:[]})})]})}),Xg=Nt(100),Kg=yt((i,t)=>({data:Xg,loading:!1,fetchMoreData:async e=>{const{data:s}=t();i({loading:!0});try{i({loading:!0}),await qd(500);const n=Nt(e,{lastItemTime:s[0].time});i({data:[...n,...s]}),i({loading:!1})}catch{i({loading:!1})}}})),Qg=()=>{const{data:i,loading:t,fetchMoreData:e}=Kg(),s=Ce(),n=m.useMemo(()=>ji(l=>{const{from:a}=l;e(Math.floor(50-a))},150),[e]),r=m.useCallback(l=>{t||!l||l.from<5&&n(l)},[n,t]),o=m.useMemo(()=>Gt(t?{layout:{background:{color:`${M.gray}05`},textColor:M.gray}}:{}),[Gt,t]);return p.jsx(Yt,{title:"Infinite data",subTitle:"Load more data on scroll",sampleConfig:At.InfiniteData,children:p.jsx(Bt,{options:o,containerProps:{style:{flexGrow:"1"}},children:p.jsxs(je,{children:[p.jsx(ae,{data:i,options:{color:M.green}}),p.jsx(zt,{options:{barSpacing:10,fixRightEdge:!0},onVisibleLogicalRangeChange:r,children:p.jsx(Ot,{deps:[]})}),p.jsx(Rs,{visible:t,lines:[{text:"Loading more data...",color:`${M.gray}75`,fontSize:32,fontFamily:s.typography.fontFamily}]})]})})})},qg=yt(i=>({legendVisible:!0,setLegendVisible:t=>i({legendVisible:t})})),vn=pi(40),oa=i=>"close"in i&&"open"in i&&"high"in i&&"low"in i,Zg=i=>{if(typeof i=="number")return le(i*1e3).format("YYYY-MM-DD");if(typeof i=="object"){const t=new Date(i.year,i.month-1,i.day);return le(t).format("YYYY-MM-DD")}return i},bn=({open:i,high:t,low:e,close:s,time:n})=>{const r=i>s,o=r?"-":"+",l=Math.abs(s-i);return{open:i.toFixed(1),high:t.toFixed(1),low:e.toFixed(1),close:s.toFixed(1),time:Zg(n),color:r?M.red:M.green,change:`${o}${l.toFixed(1)} (${o}${(l/i*100).toFixed(2)}%)`}},Jg=i=>{const t=i.dataByIndex(Number.MAX_SAFE_INTEGER,-1);return!t||!oa(t)?null:bn(t)},tv=i=>{const t=m.useRef(null),[e,s]=m.useState(()=>bn(vn[vn.length-1])),n=m.useCallback(r=>{if(!i||!t.current)return;const o=t.current.api();if(!o||!r)return;if(!r.time){const c=Jg(o);s(h=>(h==null?void 0:h.time)!==(c==null?void 0:c.time)?c:h);return}const l=r.seriesData.get(o);if(!oa(l)){s(null);return}const a=bn(l);s(c=>(c==null?void 0:c.time)!==a.time?a:c)},[s,i]);return{ref:t,legendData:e,onCrosshairMove:n}},ev=({children:i})=>p.jsx(Oi,{sx:{position:"absolute",top:0,left:0,backgroundColor:`${M.blue200}95`,padding:2,zIndex:10},children:i}),iv=()=>{const{legendVisible:i,setLegendVisible:t}=qg(),{ref:e,legendData:s,onCrosshairMove:n}=tv(i);return p.jsxs(Yt,{title:"Legend",subTitle:"Display legend on the chart",sampleConfig:At.Legend,children:[p.jsx(ws,{sx:{marginBottom:2},children:p.jsx(Fe,{control:p.jsx(yl,{checked:i,onChange:()=>t(!i),slotProps:{input:{"aria-label":"controlled"}}}),label:"Show legend"})}),p.jsxs(Oi,{height:"100%",flexDirection:"column",position:"relative",children:[p.jsxs(Bt,{options:Gt({crosshair:{mode:Di.Normal}}),containerProps:{style:{height:"100%"}},onCrosshairMove:n,children:[p.jsx(_e,{ref:e,data:vn,options:{upColor:M.green,downColor:M.red,borderUpColor:M.green,borderDownColor:M.red,wickUpColor:M.green,wickDownColor:M.red}}),p.jsx(zt,{children:p.jsx(Ot,{deps:[]})})]}),s!==null&&i&&p.jsxs(ev,{children:[p.jsx(mt,{variant:"h6",gutterBottom:!0,children:"Your awesome chart legend"}),p.jsx(mt,{variant:"body2",children:s.time}),p.jsxs(Ae,{direction:"row",useFlexGap:!0,gap:1.2,children:[p.jsxs(mt,{variant:"overline",children:["O:"," ",p.jsx(mt,{color:s.color,variant:"overline",children:s.open})]}),p.jsxs(mt,{variant:"overline",children:["H:"," ",p.jsx(mt,{color:s.color,variant:"overline",children:s.high})]}),p.jsxs(mt,{variant:"overline",children:["L:"," ",p.jsx(mt,{color:s.color,variant:"overline",children:s.low})]}),p.jsxs(mt,{variant:"overline",children:["C:"," ",p.jsx(mt,{color:s.color,variant:"overline",children:s.close})]}),p.jsx(mt,{color:s.color,variant:"overline",children:s.change})]})]})]})]})},sv=yt((i,t)=>({basicMarkersVisible:!0,setBasicMarkersVisible:e=>i({basicMarkersVisible:e}),getMarkersData:()=>{const{basicMarkersVisible:e}=t();return e?nv:[]}})),Pi=pi(40),nv=[{time:Pi[5].time,color:M.green,shape:"arrowUp",text:"Buy",position:"belowBar",size:2},{time:Pi[25].time,color:M.red,shape:"arrowDown",text:"Sell",position:"aboveBar",size:2},{time:Pi[35].time,price:Math.max(...Pi.map(i=>i.high)),color:M.orange,shape:"circle",text:"D",position:"atPriceTop",size:2}],rv=()=>{const{getMarkersData:i,basicMarkersVisible:t,setBasicMarkersVisible:e}=sv();return p.jsxs(Yt,{title:"Markers",subTitle:"Various markers display on the chart",sampleConfig:At.Markers,children:[p.jsx(ws,{sx:{marginBottom:2},children:p.jsx(Fe,{control:p.jsx(yl,{checked:t,onChange:()=>e(!t),slotProps:{input:{"aria-label":"controlled"}}}),label:"Basic markers"})}),p.jsxs(Bt,{options:ui,containerProps:{style:{flexGrow:"1"}},children:[p.jsx(_e,{data:Pi,options:{priceLineVisible:!1,upColor:"transparent",downColor:M.blue,borderUpColor:M.blue,borderDownColor:M.blue,wickUpColor:M.blue,wickDownColor:M.blue},children:p.jsx(ta,{markers:i()})}),p.jsx(zt,{children:p.jsx(Ot,{deps:[]})})]})]})},ov=(i,t=14)=>{const e=i.map(a=>a.close),s=[];let n=0,r=0,o=null,l=null;for(let a=0;a<e.length;a++){if(a===0){s.push({time:i[a].time});continue}const c=e[a]-e[a-1],h=Math.max(c,0),u=Math.max(-c,0);if(a<t){n+=h,r+=u,s.push({time:i[a].time});continue}a===t?(n+=h,r+=u,o=n/t,l=r/t):(o=(o*(t-1)+h)/t,l=(l*(t-1)+u)/t);const f=100-100/(1+(l===0?100:o/l));s.push({time:i[a].time,value:f})}return s},Xn=pi(100),lv=ov(Xn,14),av=Un(100).map((i,t)=>{const e=Xn[t];return{time:e.time,value:i.value,color:e.close>e.open?`${M.green}90`:`${M.red}90`}}),Vo=({text:i})=>{const t=Ce();return p.jsx(Rs,{lines:[{text:i,color:`${M.blue}90`,fontSize:12,fontFamily:t.typography.fontFamily}],horzAlign:"center",vertAlign:"center"})},cv=()=>p.jsx(Yt,{title:"Panes",subTitle:"Multiple panes on the same chart",sampleConfig:At.Panes,children:p.jsxs(Bt,{options:Gt({layout:{panes:{enableResize:!0,separatorColor:M.gray100}}}),containerProps:{style:{flexGrow:"1"}},children:[p.jsx(zt,{children:p.jsx(Ot,{deps:[]})}),p.jsx(je,{stretchFactor:3,children:p.jsx(_e,{data:Xn,options:{upColor:"transparent",downColor:M.orange100,borderUpColor:M.blue,borderDownColor:M.orange100,wickUpColor:M.blue,wickDownColor:M.orange100,priceLineVisible:!1}})}),p.jsxs(je,{stretchFactor:1,children:[p.jsxs(ae,{data:lv,options:{priceLineVisible:!1,color:M.blue100,lineWidth:2,priceScaleId:"right"},children:[p.jsx(us,{price:70,options:{color:M.violet,lineWidth:1,lineStyle:3,axisLabelVisible:!0}}),p.jsx(us,{price:30,options:{color:M.violet,lineWidth:1,lineStyle:3,axisLabelVisible:!0}})]}),p.jsx(Vo,{text:"RSI-14"})]}),p.jsxs(je,{stretchFactor:1,children:[p.jsx(Hn,{data:av,options:{priceLineVisible:!1}}),p.jsx(Vo,{text:"VOLUME"})]})]})}),wn=pi(60);let Ti=0,ds=0;for(let i=0;i<wn.length;i++){const t=wn[i];t.high>ds&&(ds=t.high),(t.low<Ti||Ti===0)&&(Ti=t.low)}const hv=(ds+Ti)/2,la={price:ds,options:{title:"Max Price",color:M.violet,lineWidth:2,axisLabelVisible:!0,lineStyle:0}},aa={price:Ti,options:{title:"Min Price",color:M.red,lineWidth:2,axisLabelVisible:!0,lineStyle:0}},ca={price:hv,options:{title:"Average Price",color:M.pink,lineWidth:2,axisLabelVisible:!0,lineStyle:3}},ha=yt(i=>({maxPriceVisible:!0,minPriceVisible:!0,avgPriceVisible:!0,setMaxPriceVisible:t=>i({maxPriceVisible:t}),setMinPriceVisible:t=>i({minPriceVisible:t}),setAvgPriceVisible:t=>i({avgPriceVisible:t})})),ua=yt(i=>({priceLines:[la,aa,ca],setPriceLines:t=>i({priceLines:t})}));ha.subscribe(i=>{const{maxPriceVisible:t,minPriceVisible:e,avgPriceVisible:s}=i,n=[];t&&n.push(la),e&&n.push(aa),s&&n.push(ca),ua.getState().setPriceLines(n)});const uv=()=>{const{maxPriceVisible:i,minPriceVisible:t,avgPriceVisible:e,setAvgPriceVisible:s,setMaxPriceVisible:n,setMinPriceVisible:r}=ha(),{priceLines:o}=ua();return p.jsxs(Yt,{title:"PriceLines",subTitle:"Multiple price lines with titles",sampleConfig:At.PriceLines,children:[p.jsx(_s,{sx:{marginBottom:2},children:p.jsxs(ws,{sx:{flexDirection:"row",gap:2},children:[p.jsx(Fe,{control:p.jsx(ki,{checked:i,onChange:l=>n(l.target.checked),slotProps:{input:{"aria-label":"controlled"}}}),label:"Max price"}),p.jsx(Fe,{control:p.jsx(ki,{checked:e,onChange:l=>s(l.target.checked),slotProps:{input:{"aria-label":"controlled"}}}),label:"Avg price"}),p.jsx(Fe,{control:p.jsx(ki,{checked:t,onChange:l=>r(l.target.checked),slotProps:{input:{"aria-label":"controlled"}}}),label:"Min price"})]})}),p.jsxs(Bt,{options:Gt({timeScale:{fixRightEdge:!0,fixLeftEdge:!0}}),containerProps:{style:{flexGrow:"1"}},children:[p.jsx(zt,{children:p.jsx(Ot,{deps:[]})}),p.jsx(_e,{data:wn,options:{upColor:"transparent",downColor:M.blue,borderUpColor:M.blue,borderDownColor:M.blue,wickUpColor:M.blue,wickDownColor:M.blue,priceLineVisible:!1},children:o.map(({price:l,options:a})=>p.jsx(us,{options:a,price:l},`${a==null?void 0:a.title}-${l}`))})]})]})};var ti=255,Se=100,dv=i=>{var{r:t,g:e,b:s,a:n}=i,r=Math.max(t,e,s),o=r-Math.min(t,e,s),l=o?r===t?(e-s)/o:r===e?2+(s-t)/o:4+(t-e)/o:0;return{h:60*(l<0?l+6:l),s:r?o/r*Se:0,v:r/ti*Se,a:n}},pv=i=>{var{h:t,s:e,v:s,a:n}=i,r=(200-e)*s/Se;return{h:t,s:r>0&&r<200?e*s/Se/(r<=Se?r:200-r)*Se:0,l:r/2,a:n}},da=i=>{var{r:t,g:e,b:s}=i,n=t<<16|e<<8|s;return"#"+(r=>new Array(7-r.length).join("0")+r)(n.toString(16))},fv=i=>{var{r:t,g:e,b:s,a:n}=i,r=typeof n=="number"&&(n*255|256).toString(16).slice(1);return""+da({r:t,g:e,b:s})+(r||"")},pa=i=>dv(mv(i)),mv=i=>{var t=i.replace("#","");/^#?/.test(i)&&t.length===3&&(i="#"+t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2));var e=new RegExp("[A-Za-z0-9]{2}","g"),[s,n,r=0,o]=i.match(e).map(l=>parseInt(l,16));return{r:s,g:n,b:r,a:(o??255)/ti}},fa=i=>{var{h:t,s:e,v:s,a:n}=i,r=t/60,o=e/Se,l=s/Se,a=Math.floor(r)%6,c=r-Math.floor(r),h=ti*l*(1-o),u=ti*l*(1-o*c),d=ti*l*(1-o*(1-c));l*=ti;var f={};switch(a){case 0:f.r=l,f.g=d,f.b=h;break;case 1:f.r=u,f.g=l,f.b=h;break;case 2:f.r=h,f.g=l,f.b=d;break;case 3:f.r=h,f.g=u,f.b=l;break;case 4:f.r=d,f.g=h,f.b=l;break;case 5:f.r=l,f.g=h,f.b=u;break}return f.r=Math.round(f.r),f.g=Math.round(f.g),f.b=Math.round(f.b),xe({},f,{a:n})},gv=i=>{var{r:t,g:e,b:s}=i;return{r:t,g:e,b:s}},vv=i=>{var{h:t,s:e,l:s}=i;return{h:t,s:e,l:s}},ma=i=>da(fa(i)),bv=i=>{var{h:t,s:e,v:s}=i;return{h:t,s:e,v:s}},wv=i=>{var{r:t,g:e,b:s}=i,n=function(h){return h<=.04045?h/12.92:Math.pow((h+.055)/1.055,2.4)},r=n(t/255),o=n(e/255),l=n(s/255),a={};return a.x=r*.4124+o*.3576+l*.1805,a.y=r*.2126+o*.7152+l*.0722,a.bri=r*.0193+o*.1192+l*.9505,a},xv=i=>{var t,e,s,n,r,o,l,a,c;return typeof i=="string"&&ga(i)?(o=pa(i),a=i):typeof i!="string"&&(o=i),o&&(s=bv(o),r=pv(o),n=fa(o),c=fv(n),a=ma(o),e=vv(r),t=gv(n),l=wv(t)),{rgb:t,hsl:e,hsv:s,rgba:n,hsla:r,hsva:o,hex:a,hexa:c,xy:l}},ga=i=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(i);function Ao(i){var t=m.useRef(i);return m.useEffect(()=>{t.current=i}),m.useCallback((e,s)=>t.current&&t.current(e,s),[])}var Bi=i=>"touches"in i,Yo=i=>{!Bi(i)&&i.preventDefault&&i.preventDefault()},Ho=function(t,e,s){return e===void 0&&(e=0),s===void 0&&(s=1),t>s?s:t<e?e:t},Uo=(i,t)=>{var e=i.getBoundingClientRect(),s=Bi(t)?t.touches[0]:t;return{left:Ho((s.pageX-(e.left+window.pageXOffset))/e.width),top:Ho((s.pageY-(e.top+window.pageYOffset))/e.height),width:e.width,height:e.height,x:s.pageX-(e.left+window.pageXOffset),y:s.pageY-(e.top+window.pageYOffset)}},yv=["prefixCls","className","onMove","onDown"],va=kt.forwardRef((i,t)=>{var{prefixCls:e="w-color-interactive",className:s,onMove:n,onDown:r}=i,o=tl(i,yv),l=m.useRef(null),a=m.useRef(!1),[c,h]=m.useState(!1),u=Ao(n),d=Ao(r),f=x=>a.current&&!Bi(x)?!1:(a.current=Bi(x),!0),g=m.useCallback(x=>{if(Yo(x),!!l.current){var y=Bi(x)?x.touches.length>0:x.buttons>0;if(!y){h(!1);return}u==null||u(Uo(l.current,x),x)}},[u]),v=m.useCallback(()=>h(!1),[]),b=m.useCallback(x=>{x?(window.addEventListener(a.current?"touchmove":"mousemove",g),window.addEventListener(a.current?"touchend":"mouseup",v)):(window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",v),window.removeEventListener("touchmove",g),window.removeEventListener("touchend",v))},[g,v]);m.useEffect(()=>(b(c),()=>{b(!1)}),[c,g,v,b]);var w=m.useCallback(x=>{Yo(x.nativeEvent),f(x.nativeEvent)&&l.current&&(d==null||d(Uo(l.current,x.nativeEvent),x.nativeEvent),h(!0))},[d]);return p.jsx("div",xe({},o,{className:[e,s||""].filter(Boolean).join(" "),style:xe({},o.style,{touchAction:"none"}),ref:l,tabIndex:0,onMouseDown:w,onTouchStart:w}))});va.displayName="Interactive";var Sv="rgb(255 255 255) 0px 0px 0px 1.5px, rgb(0 0 0 / 30%) 0px 0px 1px 1px inset, rgb(0 0 0 / 40%) 0px 0px 1px 2px",Cv=i=>{var{className:t,color:e,left:s,top:n,style:r,prefixCls:o}=i,l=xe({},r,{position:"absolute",top:n,left:s}),a=o+"-pointer "+(t||"");return p.jsx("div",{className:a,style:l,children:p.jsx("div",{className:o+"-fill",style:{width:10,height:10,transform:"translate(-5px, -5px)",boxShadow:Sv,borderRadius:"50%",backgroundColor:"#fff"},children:p.jsx("div",{style:{inset:0,borderRadius:"50%",position:"absolute",backgroundColor:e}})})})},ba=Math.PI*2,Mv=(i,t)=>(i%t+t)%t,Pv=(i,t)=>Math.sqrt(i*i+t*t);function wa(i){var{width:t=0}=i,e=t/2;return{width:t,radius:e,cx:e,cy:e}}function kv(i,t){var{cx:e,cy:s}=wa(i),n=xa(i),r=(180+ya(i,t.h,!0))*(ba/360),o=t.s/100*n,l=i.direction==="clockwise"?-1:1;return{x:e+o*Math.cos(r)*l,y:s+o*Math.sin(r)*l}}function xa(i){var{width:t=0}=i;return t/2}function ya(i,t,e){var s=i.angle||0,n=i.direction;return e&&n==="clockwise"?t=s+t:n==="clockwise"?t=360-s+t:e&&n==="anticlockwise"?t=s+180-t:n==="anticlockwise"&&(t=s-t),Mv(t,360)}function Rv(i,t,e){var{cx:s,cy:n}=wa(i),r=xa(i);t=s-t,e=n-e;var o=ya(i,Math.atan2(-e,-t)*(360/ba)),l=Math.min(Pv(t,e),r);return{h:Math.round(o),s:Math.round(100/r*l)}}var _v=["prefixCls","radius","pointer","className","style","width","height","oval","direction","angle","color","onChange"],Ev="conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",$v="conic-gradient(red, magenta, blue, aqua, lime, yellow, red)",Sa=kt.forwardRef((i,t)=>{var{prefixCls:e="w-color-wheel",radius:s=0,pointer:n,className:r,style:o,width:l=200,height:a=200,oval:c,direction:h="anticlockwise",angle:u=180,color:d,onChange:f}=i,g=tl(i,_v),v=typeof d=="string"&&ga(d)?pa(d):d||{},b=d?ma(v):"",w=kv({width:l},v),x={top:"0",left:"0",color:b},y=(P,_)=>{var R=Rv({width:l},l-P.x,a-P.y),I={h:R.h,s:R.s,v:v.v,a:v.a};f&&f(xv(I))},S={zIndex:1,position:"absolute",transform:"translate("+w.x+"px, "+w.y+"px) "+(c==="x"||c==="X"?"scaleY(2)":c==="y"||c==="Y"?"scaleX(2)":"")},C=n&&typeof n=="function"?n(xe({prefixCls:e,style:S},x)):p.jsx(Cv,xe({prefixCls:e,style:S},x));return p.jsxs(va,xe({className:[e,r||""].filter(Boolean).join(" ")},g,{style:xe({position:"relative",width:l,transform:c==="x"||c==="X"?"scaleY(0.5)":c==="y"||c==="Y"?"scaleX(0.5)":"",height:a},o),ref:t,onMove:y,onDown:y,children:[C,p.jsx("div",{style:{position:"absolute",borderRadius:"50%",background:h==="anticlockwise"?Ev:$v,transform:"rotateZ("+(u+90)+"deg)",inset:0}}),p.jsx("div",{style:{position:"absolute",borderRadius:"50%",background:"radial-gradient(circle closest-side, #fff, transparent)",inset:0}}),p.jsx("div",{style:{backgroundColor:"#000",borderRadius:"50%",position:"absolute",inset:0,opacity:typeof v.v=="number"?1-v.v/100:0}})]}))});Sa.displayName="Wheel";const Tv={color:M.red,width:1,labelBgColor:M.red,labelTextColor:M.white};class Bv{constructor(t,e){this.options=t,this.x=e}draw(t){const{width:e,color:s}=this.options;t.useBitmapCoordinateSpace(n=>{if(this.x===null)return;const r=n.context,o=Math.round(n.horizontalPixelRatio*this.x),l=Math.round(e*n.horizontalPixelRatio),a=o-(l>>1);r.fillStyle=s,r.fillRect(a,0,l,n.bitmapSize.height)})}}class zv{constructor(t){ee(this,"x",null);this.primitive=t}renderer(){return new Bv(this.primitive.options,this.x)}update(){const t=this.primitive.chart.timeScale();this.x=t.timeToCoordinate(this.primitive.time)}}class Iv{constructor(t){ee(this,"x",null);this.primitive=t}update(){const t=this.primitive.chart.timeScale();this.x=t.timeToCoordinate(this.primitive.time)}coordinate(){return this.x??0}text(){return this.primitive.time.toString()}textColor(){return this.primitive.options.labelTextColor}backColor(){return this.primitive.options.labelBgColor}tickVisible(){return!1}}class Lv{constructor({chart:t,time:e,options:s}){ee(this,"_paneViews");ee(this,"_timeAxisViews");ee(this,"time");ee(this,"chart");ee(this,"options");this.time=e,this.chart=t,this.options={...Tv,...s},this._paneViews=[new zv(this)],this._timeAxisViews=[new Iv(this)]}updateAllViews(){this._paneViews.forEach(t=>t.update()),this._timeAxisViews.forEach(t=>t.update())}timeAxisViews(){return this._timeAxisViews}paneViews(){return this._paneViews}}const Nv=Nt(50),Dv=[{value:1,label:"1"},{value:3,label:"3"},{value:5,label:"5"}],Kn=yt(i=>({maxPrimitivesCount:3,setMaxPrimitivesCount:t=>i(()=>({maxPrimitivesCount:t}))})),Ca=yt(i=>({primitives:[],pushPrimitive:t=>i(e=>{const{primitives:s}=e,n=Kn.getState().maxPrimitivesCount;return{primitives:s.slice(s.length>=n?1:0).concat(t)}}),shiftPrimitives:t=>i(e=>{const{primitives:s}=e,n=[...s],r=t;return r>=n.length?n.length=0:n.splice(0,r),{primitives:n}})}));Kn.subscribe(i=>{const{maxPrimitivesCount:t}=i,{primitives:e,shiftPrimitives:s}=Ca.getState();if(e.length>t){const n=e.length-t;s(n)}});const Qn=(i,t,e,s,n)=>{const{tooltipHeight:r,tooltipWidth:o,yOffset:l=10,xOffset:a=10}=n,c=i.point.x,h=i.point.y;let u,d;switch(s){case"center":u=c-o/2,d=h-r/2;break;case"anchor":default:u=c+a,d=h+l;break}return u+o>t&&(u=s==="center"?t-o-a:u-o-a*2),d+r>e&&(d=s==="center"?e-r-l:d-r-l*2),u<0&&(u=a),d<0&&(d=l),{x:u,y:d}},Fv=kt[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],Ov=i=>{const t=m.useRef(i);return m.useEffect(()=>{t.current=i}),t};function jv(){}function Wv(i,t,e={}){const s=Av(e.polyfill),n=Ov(t);return Fv(()=>{let r=!1;const o=i&&"current"in i?i.current:i;if(!o)return jv;function l(a,c){r||n.current(a,c)}return s.subscribe(o,l),()=>{r=!0,s.unsubscribe(o,l)}},[i,s,n]),s.observer}function Vv(i){let t=!1,e=[];const s=new Map,n=new(i||window.ResizeObserver)((r,o)=>{e=e.concat(r);function l(){const a=new Set;for(let c=0;c<e.length;c++){if(a.has(e[c].target))continue;a.add(e[c].target);const h=s.get(e[c].target);h==null||h.forEach(u=>u(e[c],o))}e=[],t=!1}t||window.requestAnimationFrame(l),t=!0});return{observer:n,subscribe(r,o){var l;n.observe(r);const a=(l=s.get(r))!==null&&l!==void 0?l:[];a.push(o),s.set(r,a)},unsubscribe(r,o){var l;const a=(l=s.get(r))!==null&&l!==void 0?l:[];if(a.length===1){n.unobserve(r),s.delete(r);return}const c=a.indexOf(o);c!==-1&&a.splice(c,1),s.set(r,a)}}}let sn;const Av=i=>sn||(sn=Vv(i)),qn=i=>{const[t,e]=m.useState();return m.useLayoutEffect(()=>{i.current&&e(i.current.getBoundingClientRect())},[i]),Wv(i,s=>e(s.contentRect)),t},Go=10,Yv=({width:i,height:t,containerRef:e})=>{const s=qn(e),n=s==null?void 0:s.width,r=s==null?void 0:s.height,[o,l]=m.useState({x:null,y:null}),[a,c]=m.useState(!1),[h,u]=m.useState(null),d=m.useCallback(()=>{c(!1),l({x:null,y:null})},[]),f=a&&h!==null&&o.x!==null&&o.y!==null,g=m.useCallback(v=>{if(!n||!r)return;const b=v.time;if(b===void 0||v.point===void 0)return;const w=Qn(v,n,r,"center",{tooltipWidth:i,tooltipHeight:t,xOffset:Go,yOffset:Go});l(w),c(!0),u(b)},[n,r,i,t]);return{position:o,show:f,close:d,onChartClick:g,time:h}},Hv=({time:i,options:t})=>{const e=m.useCallback(({chart:s})=>new Lv({chart:s,time:i,options:t}),[i,t]);return p.jsx(sa,{render:e})},Uv=m.memo(Hv),Gv=({show:i,x:t,y:e,width:s=200,height:n=200,onAddPrimitive:r,onClose:o,time:l})=>{const[a,c]=m.useState(M.pink),h=s/1.618;return p.jsx(yn,{in:i,timeout:{enter:300},children:p.jsxs(Oi,{role:"tooltip","aria-live":"polite","aria-atomic":"true","aria-label":"Color Picker tooltip",sx:{width:s,height:n,position:"absolute",display:t!==null&&e!==null?"flex":"none",flexDirection:"column",justifyContent:"space-between",alignItems:"center",borderRadius:4,padding:2,boxShadow:2,backgroundColor:`${M.black}99`,zIndex:10,top:e,left:t},children:[p.jsxs(Ae,{alignItems:"center",children:[p.jsx(mt,{color:"primary",children:`Time: ${l}`}),p.jsx(mt,{color:"info",children:"Choose color:"})]}),p.jsx(Sa,{width:h,height:h,color:a,onChange:u=>{c(u.hex)}}),p.jsx(cl,{onClick:()=>{r&&r({uid:crypto.randomUUID(),time:l,options:{color:a,width:2,labelBgColor:a,labelTextColor:Zd(a)}}),o&&o()},variant:"outlined",children:"Add"})]})})},Xv=()=>{const i=Ce(),t=Ru(i.breakpoints.down("sm")),e=m.useRef(null),{maxPrimitivesCount:s,setMaxPrimitivesCount:n}=Kn(),{primitives:r,pushPrimitive:o}=Ca(),l=t?175:200,a=l*1.618,{close:c,position:{x:h,y:u},show:d,onChartClick:f,time:g}=Yv({width:l,height:a,containerRef:e});return p.jsxs(Yt,{title:"Primitives",subTitle:"Multiple primitives display on the chart",sampleConfig:At.Primitives,children:[p.jsx(_s,{sx:{marginBottom:2},children:p.jsxs(dl,{sx:{flexDirection:"row",alignItems:"center"},children:[p.jsx(ku,{htmlFor:"max-primitives-count",sx:{marginRight:1},children:"Max. primitives count:"}),p.jsx(Rn,{value:s,onChange:({target:v})=>n(v.value),size:"small",variant:"outlined",sx:{minWidth:120},inputProps:{"aria-label":"Max. primitives count"},id:"max-primitives-count",children:Dv.map(({value:v,label:b})=>p.jsx(gl,{value:v,children:b},b))})]})}),p.jsx(Fh,{onClickAway:c,children:p.jsx(Oi,{sx:{flexGrow:1,position:"relative"},role:"presentation",children:p.jsxs(Bt,{options:Gt({crosshair:{mode:Di.Normal}}),containerProps:{style:{height:"100%"}},ref:e,onClick:f,children:[p.jsx(ae,{data:Nv,options:{lineWidth:3,color:M.violet,priceLineVisible:!1},children:r.map(({uid:v,options:b,time:w})=>p.jsx(Uv,{time:w,options:b},v))}),p.jsx(zt,{onVisibleTimeRangeChange:c,children:p.jsx(Ot,{deps:[]})}),p.jsx(Gv,{show:d,x:h,y:u,time:g,onClose:c,onAddPrimitive:o,width:l,height:a})]})})})]})},es=(i,t=50)=>{const e=Math.floor(Date.now()/1e3),s=86400;let n=e-t*s;switch(i){case"1w":n=e-t*7*s;break;case"1m":n=e-t*30*s;break;case"1y":n=e-t*365*s;break}return Nt(t).map((r,o)=>{let l=n+o*s;switch(i){case"1w":l=n+o*s*7;break;case"1m":l=n+o*s*30;break;case"1y":l=n+o*s*365;break}return{time:l*1e3,value:r.value}})},zi={"1d":{formatter:i=>le(i).format("YYYY-MM-DD"),data:es("1d")},"1w":{formatter:i=>{const t=le(i);return`${t.format("YYYY")}, ${t.week()}w`},data:es("1w")},"1m":{formatter:i=>le(i).format("YYYY-MM"),data:es("1m")},"1y":{formatter:i=>le(i).format("YYYY"),data:es("1y")}},Ma=yt(i=>({range:"1d",setRange:t=>i({range:t})})),Pa=yt(i=>({data:zi["1d"].data,setData:t=>i({data:t})}));Ma.subscribe(i=>{const{range:t}=i;Pa.getState().setData(zi[t].data)});const Kv={bottomColor:`${M.blue100}05`,lineColor:M.cyan,topColor:M.cyan,lineWidth:2},Qv=()=>{const{range:i,setRange:t}=Ma(),{data:e}=Pa();return p.jsxs(Yt,{title:"Range switcher",subTitle:"Allows user to switch between different time ranges",sampleConfig:At.RangeSwitcher,children:[p.jsx(ah,{variant:"outlined","aria-label":"Basic button group",color:"secondary",sx:{marginBottom:2},children:$n(zi).map(s=>p.jsx(cl,{onClick:()=>t(s),variant:i===s?"contained":"outlined",children:s},s))}),p.jsxs(Bt,{options:Gt({localization:{timeFormatter:zi[i].formatter},timeScale:{tickMarkFormatter:zi[i].formatter}}),containerProps:{style:{flexGrow:"1"}},children:[p.jsx(Ke,{options:Kv,data:e}),p.jsx(zt,{children:p.jsx(Ot,{deps:[]})})]})]})},Zn=i=>t=>`${i} ${t.toFixed(2)}`,ka=Zn("Rs"),qv=Zn("AMD"),Zv=Nt(50),Jv=Un(50,{upColor:M.green,downColor:M.red}),tb=[{value:"normal",label:"Normal"},{value:"logarithmic",label:"Logarithmic"},{value:"percentage",label:"Percentage"},{value:"inverted",label:"Inverted"}],eb=[{value:"left",label:"Left"},{value:"right",label:"Right"}],ib=[{value:1,label:"1"},{value:2,label:"2"}],sb=[{value:"LKR",label:"LKR"},{value:"AMD",label:"AMD"}],nb=i=>{switch(i){case"normal":return{mode:Je.Normal,invertScale:!1};case"logarithmic":return{mode:Je.Logarithmic,invertScale:!1};case"percentage":return{mode:Je.Percentage,invertScale:!1};case"inverted":return{mode:Je.Normal,invertScale:!0}}},rb=yt(i=>({priceScalePosition:"right",setPriceScalePosition:t=>i({priceScalePosition:t})})),ob=yt(i=>({priceScalesNumber:1,setPriceScalesNumber:t=>i({priceScalesNumber:t})})),Jn=yt(i=>({priceScaleType:"normal",setPriceScaleType:t=>i({priceScaleType:t})})),Ra=yt(i=>({priceScaleOptions:{visible:!0},setPriceScaleOptions:t=>i({priceScaleOptions:t})})),tr=yt(i=>({currency:"LKR",setCurrency:t=>i({currency:t})})),er=yt(i=>({priceFormatter:ka,setPriceFormatter:t=>i({priceFormatter:t})}));Jn.subscribe(i=>{const{priceScaleType:t}=i,{priceScaleOptions:e,setPriceScaleOptions:s}=Ra.getState();s({...e,...nb(t)})});tr.subscribe(i=>{const{currency:t}=i,{setPriceFormatter:e}=er.getState();e(t==="LKR"?ka:t==="AMD"?qv:void 0)});Jn.subscribe(i=>{const{priceScaleType:t}=i,{setPriceFormatter:e}=er.getState();if(t!=="percentage"&&t!=="logarithmic"){const{currency:n}=tr.getState();e(Zn(n))}else e(void 0)});const is=({label:i,value:t,setValue:e,options:s,disabled:n})=>p.jsxs(dl,{sx:{minWidth:120},children:[p.jsx(yu,{children:i}),p.jsx(Rn,{inputProps:{"aria-label":i},value:t,onChange:({target:r})=>e(r.value),size:"small",disabled:n,variant:"outlined",children:s.map(({value:r,label:o})=>p.jsx(gl,{value:r,children:o},o))})]}),lb=()=>{const{priceScaleType:i,setPriceScaleType:t}=Jn(),{priceScalesNumber:e,setPriceScalesNumber:s}=ob(),{priceScalePosition:n,setPriceScalePosition:r}=rb(),{priceScaleOptions:o}=Ra(),{currency:l,setCurrency:a}=tr(),{priceFormatter:c}=er(),h=m.useMemo(()=>{const u=c?{localization:{priceFormatter:c}}:{};return Gt(e===1?{...u,...n==="left"?{leftPriceScale:{visible:!0},rightPriceScale:{visible:!1}}:{leftPriceScale:{visible:!1},rightPriceScale:{visible:!0}}}:{...u,leftPriceScale:{visible:!0},rightPriceScale:{visible:!0}})},[Gt,n,e,c]);return p.jsxs(Yt,{title:"Scales",subTitle:"Customize the scales of the chart",sampleConfig:At.Scales,children:[p.jsxs(_s,{sx:{marginBottom:2},children:[p.jsx(is,{label:"Price scales",value:e,setValue:u=>s(Number(u)),options:ib}),p.jsx(is,{label:"Price scale type",value:i,setValue:t,options:tb}),p.jsx(is,{label:"Price scale position",value:n,setValue:r,options:eb,disabled:e===2}),p.jsx(is,{label:"Price currency",value:l,setValue:a,options:sb,disabled:i==="logarithmic"||i==="percentage"})]}),p.jsxs(Bt,{options:h,containerProps:{style:{flexGrow:"1"}},children:[p.jsxs(je,{children:[p.jsx(Ke,{data:Zv,options:{lineColor:M.red,topColor:M.red,bottomColor:`${M.red}33`,lineWidth:2,priceScaleId:n},children:p.jsx(dn,{id:n,options:o})}),e===2&&p.jsx(Ke,{data:Jv,options:{lineColor:M.violet,topColor:M.violet,bottomColor:`${M.violet}33`,lineWidth:2,priceScaleId:n==="left"?"right":"left"},children:p.jsx(dn,{id:n==="left"?"right":"left",options:o})})]}),p.jsx(zt,{children:p.jsx(Ot,{deps:[]})})]})]})},ab=i=>{var t,e;return i.time!==void 0&&i.point!==void 0&&((t=i.point)==null?void 0:t.x)>0&&((e=i.point)==null?void 0:e.y)>0},cb=(i,t)=>{const e=m.useRef(null),s=qn(i),n=s==null?void 0:s.width,r=s==null?void 0:s.height,o={show:!1,price:"-",position:{x:null,y:null}},[l,a]=m.useState(o);return{onCrosshairMove:m.useCallback(h=>{if(!e.current||!n||!r)return;if(!ab(h)){a(o);return}const u=e.current.api();if(!u){a(o);return}const d=h.seriesData.get(u);if(!d){a(o);return}const f=d.value!==void 0?d.value.toFixed(2):"-",g=h.time;a(v=>v.time!==g?{show:!0,price:f,time:g,position:Qn(h,n,r,"anchor",t)}:v)},[n,r,t]),tooltipData:l,seriesRef:e}},hb=(i,t,e)=>{const s=qn(i),n=s==null?void 0:s.width,r=s==null?void 0:s.height,o={show:!1,data:null,position:{x:null,y:null}},[l,a]=m.useState(o);return{onCrosshairMove:m.useCallback(h=>{var g,v;if(!n||!r)return;if(!(h.time!==void 0&&h.point!==void 0&&((g=h.point)==null?void 0:g.x)>0&&((v=h.point)==null?void 0:v.y)>0)){a(o);return}const d=new Map;t.forEach((b,w)=>{var y;const x=(y=b.current)==null?void 0:y.api();if(x){const S=h.seriesData.get(x);S&&S.value!==void 0&&d.set(w,S.value!==void 0?S.value.toFixed(2):"-")}});const f=h.time;a(b=>b.time!==f?{show:!0,data:d,time:f,position:Qn(h,n,r,"anchor",e)}:b)},[n,r,e]),tooltipData:l}},ub=yt(i=>({activeTab:"Basic",setActiveTab:t=>i({activeTab:t})})),db=Nt(100),Xo=[{data:Nt(100),color:M.red},{data:Nt(100),color:M.green},{data:Nt(100),color:M.orange100},{data:Nt(100),color:M.pink}],_a=({show:i,x:t,y:e,children:s,ariaLabel:n,width:r,height:o,sx:l})=>p.jsx(yn,{in:i,timeout:{enter:400},children:p.jsx(Oi,{role:"tooltip","aria-live":"polite","aria-atomic":"true","aria-label":n,sx:{width:`${r}px`,height:`${o}px`,position:"absolute",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",borderRadius:1,paddingBlock:2,paddingInline:3,boxShadow:2,zIndex:10,top:e,left:t,...l},children:s})}),pb=()=>{const i=m.useRef(null),t=120,e=60,s=m.useMemo(()=>({tooltipHeight:e,tooltipWidth:t,yOffset:12,xOffset:12}),[e,t]),{onCrosshairMove:n,tooltipData:{time:r,price:o,position:l,show:a},seriesRef:c}=cb(i,s);return p.jsxs(Bt,{ref:i,options:Gt({crosshair:{vertLine:{style:0,color:M.blue},horzLine:{style:0,color:M.blue}}}),containerProps:{style:{flexGrow:"1",position:"relative"}},onCrosshairMove:n,children:[p.jsx(ae,{ref:c,data:db,options:{color:M.orange,lineWidth:2}}),p.jsxs(_a,{show:a,x:l.x,y:l.y,ariaLabel:`Tooltip with chart data for time ${r} is ${o}`,width:t,height:e,sx:{color:M.white,backgroundColor:M.violet},children:[p.jsx(mt,{fontSize:18,fontWeight:"bold","aria-hidden":!0,children:o}),p.jsx(mt,{variant:"caption","aria-hidden":!0,children:r})]}),p.jsx(zt,{children:p.jsx(Ot,{deps:[]})})]})},fb=()=>{const i=[m.useRef(null),m.useRef(null),m.useRef(null),m.useRef(null)],t=m.useRef(null),e=190,s=150,n=m.useMemo(()=>({tooltipHeight:s,tooltipWidth:e,yOffset:12,xOffset:12}),[s,e]),{onCrosshairMove:r,tooltipData:{time:o,data:l,position:a,show:c}}=hb(t,i,n);return p.jsxs(Bt,{ref:t,options:Gt({crosshair:{vertLine:{style:0,color:M.blue},horzLine:{visible:!1}}}),containerProps:{style:{flexGrow:"1",position:"relative"}},onCrosshairMove:r,children:[Xo.map(({data:h,color:u},d)=>p.jsx(ae,{ref:i[d],data:h,options:{color:u,lineWidth:2,priceLineVisible:!1}},d)),p.jsxs(_a,{show:c,x:a.x,y:a.y,ariaLabel:`Tooltip with chart data for time ${o} is ${l}`,width:e,height:s,sx:{color:M.blue200,backgroundColor:M.white,alignItems:"flex-start"},children:[Xo.map(({color:h},u)=>p.jsxs(Ae,{direction:"row",gap:"1ch",alignItems:"center",children:[p.jsx(Gd,{sx:{color:h,fontSize:"12px"}}),p.jsx(mt,{variant:"body1",fontWeight:"bold","aria-hidden":!0,children:`Asset ${String.fromCharCode(65+u)}: ${(l==null?void 0:l.get(u))??"-"}`})]},u)),p.jsx(mt,{width:"100%",textAlign:"center",variant:"caption","aria-hidden":!0,marginTop:1,children:o})]}),p.jsx(zt,{children:p.jsx(Ot,{deps:[]})})]})},Ko={Basic:pb,"Multiple series":fb},mb=()=>{const{activeTab:i,setActiveTab:t}=ub(),e=n=>({id:`tooltips-tab-${n}`,"aria-controls":`tooltips-tabpanel-${n}`}),s=Ko[i];return p.jsxs(Yt,{title:"Tooltips",subTitle:"Different tooltips on the chart",sampleConfig:At.Tooltips,children:[p.jsx(En,{value:i,onChange:(n,r)=>t(r),"aria-label":"tooltips tabs",sx:{marginBottom:2},allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",children:$n(Ko).map(n=>p.jsx(_n,{value:n,label:n,...e(n)},n))}),p.jsx(s,{})]})},gb=yt(i=>({visibleWatermark:"text",setWatermarkVisible:t=>i({visibleWatermark:t})})),vb=`
<svg width="800" height="800" viewBox="0 0 800 800" xmlns="http://www.w3.org/2000/svg">
  <polygon points="75 40.883 75 156.368 197.75 156.368 197.75 359.117 327.75 359.117 327.75 40.883 75 40.883"
           fill="none" stroke="${M.blue}" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"/>
  <polygon points="436.7 359.117 571.1 40.883 725 40.883 590.6 359.117 436.7 359.117"
           fill="none" stroke="${M.blue}" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"/>
  <circle cx="430.679" cy="93.803" r="65.168"
          fill="none" stroke="${M.blue}" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`,bb=i=>{const t=Ce();return{text:()=>p.jsx(Rs,{lines:[{text:"Your chart name",color:`${M.blue}50`,fontSize:24,fontFamily:t.typography.fontFamily},{text:"Some other text",color:`${M.pink}50`,fontSize:16,fontFamily:t.typography.fontFamily,fontStyle:"bold"}],horzAlign:"center",vertAlign:"top"}),image:()=>p.jsx(ia,{src:Qd(vb),alpha:.5,padding:20})}[i]},wb=Nt(100),xb=()=>{const{visibleWatermark:i,setWatermarkVisible:t}=gb(),e=bb(i),s=n=>({id:`watermark-tab-${n}`,"aria-controls":`watermark-tabpanel-${n}`});return p.jsxs(Yt,{title:"Watermark",subTitle:"Text and image watermarks on the chart",sampleConfig:At.Watermark,children:[p.jsx(En,{value:i,onChange:(n,r)=>t(r),"aria-label":"watermark tabs",sx:{marginBottom:2},children:["text","image"].map(n=>p.jsx(_n,{value:n,label:n,...s(n)},n))}),p.jsxs(Bt,{options:ui,containerProps:{style:{flexGrow:"1"}},children:[p.jsxs(je,{children:[p.jsx(Ke,{data:wb,options:{lineWidth:1,lineColor:M.pink,topColor:M.pink,bottomColor:M.blue200}}),p.jsx(e,{})]}),p.jsx(zt,{children:p.jsx(Ot,{deps:[]})})]})]})},yb=({children:i,component:t,...e})=>{const s=m.Children.count(i),n=s%2===1;return p.jsx(yr,{container:!0,spacing:{xs:2,sm:4},justifyContent:n?"center":"stretch",component:t??"div",...e,children:m.Children.map(i,(r,o)=>p.jsx(yr,{size:{xs:12,lg:n&&o===s-1?8:6},children:r},o))})},Lb=()=>p.jsxs(yb,{component:"section","aria-label":"Examples of library usage",children:[p.jsx(Rg,{}),p.jsx(Gg,{}),p.jsx(Qv,{}),p.jsx(cv,{}),p.jsx(xb,{}),p.jsx(iv,{}),p.jsx(jg,{}),p.jsx(lb,{}),p.jsx(mb,{}),p.jsx(rv,{}),p.jsx(Qg,{}),p.jsx(uv,{}),p.jsx(Xv,{}),p.jsx(Mg,{})]});export{Lb as default};
//# sourceMappingURL=Contents-CmqGC3-F.js.map
