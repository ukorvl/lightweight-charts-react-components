import{_ as x,r as g,R as N,a as I,j as p}from"./index-Bo1osUg8.js";var y=255,w=100,U=r=>{var{r:e,g:a,b:t,a:s}=r,n=Math.max(e,a,t),i=n-Math.min(e,a,t),o=i?n===e?(a-t)/i:n===a?2+(t-e)/i:4+(e-a)/i:0;return{h:60*(o<0?o+6:o),s:n?i/n*w:0,v:n/y*w,a:s}},V=r=>{var{h:e,s:a,v:t,a:s}=r,n=(200-a)*t/w;return{h:e,s:n>0&&n<200?a*t/w/(n<=w?n:200-n)*w:0,l:n/2,a:s}},X=r=>{var{r:e,g:a,b:t}=r,s=e<<16|a<<8|t;return"#"+(n=>new Array(7-n.length).join("0")+n)(s.toString(16))},$=r=>{var{r:e,g:a,b:t,a:s}=r,n=typeof s=="number"&&(s*255|256).toString(16).slice(1);return""+X({r:e,g:a,b:t})+(n||"")},S=r=>U(F(r)),F=r=>{var e=r.replace("#","");/^#?/.test(r)&&e.length===3&&(r="#"+e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2));var a=new RegExp("[A-Za-z0-9]{2}","g"),[t,s,n=0,i]=r.match(a).map(o=>parseInt(o,16));return{r:t,g:s,b:n,a:(i??255)/y}},W=r=>{var{h:e,s:a,v:t,a:s}=r,n=e/60,i=a/w,o=t/w,v=Math.floor(n)%6,u=n-Math.floor(n),h=y*o*(1-i),b=y*o*(1-i*u),d=y*o*(1-i*(1-u));o*=y;var l={};switch(v){case 0:l.r=o,l.g=d,l.b=h;break;case 1:l.r=b,l.g=o,l.b=h;break;case 2:l.r=h,l.g=o,l.b=d;break;case 3:l.r=h,l.g=b,l.b=o;break;case 4:l.r=d,l.g=h,l.b=o;break;case 5:l.r=o,l.g=h,l.b=b;break}return l.r=Math.round(l.r),l.g=Math.round(l.g),l.b=Math.round(l.b),x({},l,{a:s})},Z=r=>{var{r:e,g:a,b:t}=r;return{r:e,g:a,b:t}},J=r=>{var{h:e,s:a,l:t}=r;return{h:e,s:a,l:t}},L=r=>X(W(r)),Q=r=>{var{h:e,s:a,v:t}=r;return{h:e,s:a,v:t}},ee=r=>{var{r:e,g:a,b:t}=r,s=function(h){return h<=.04045?h/12.92:Math.pow((h+.055)/1.055,2.4)},n=s(e/255),i=s(a/255),o=s(t/255),v={};return v.x=n*.4124+i*.3576+o*.1805,v.y=n*.2126+i*.7152+o*.0722,v.bri=n*.0193+i*.1192+o*.9505,v},re=r=>{var e,a,t,s,n,i,o,v,u;return typeof r=="string"&&Y(r)?(i=S(r),v=r):typeof r!="string"&&(i=r),i&&(t=Q(i),n=V(i),s=W(i),u=$(s),v=L(i),a=J(n),e=Z(s),o=ee(e)),{rgb:e,hsl:a,hsv:t,rgba:s,hsla:n,hsva:i,hex:v,hexa:u,xy:o}},Y=r=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(r);function D(r){var e=g.useRef(r);return g.useEffect(()=>{e.current=r}),g.useCallback((a,t)=>e.current&&e.current(a,t),[])}var M=r=>"touches"in r,_=r=>{!M(r)&&r.preventDefault&&r.preventDefault()},j=function(e,a,t){return a===void 0&&(a=0),t===void 0&&(t=1),e>t?t:e<a?a:e},H=(r,e)=>{var a=r.getBoundingClientRect(),t=M(e)?e.touches[0]:e;return{left:j((t.pageX-(a.left+window.pageXOffset))/a.width),top:j((t.pageY-(a.top+window.pageYOffset))/a.height),width:a.width,height:a.height,x:t.pageX-(a.left+window.pageXOffset),y:t.pageY-(a.top+window.pageYOffset)}},ae=["prefixCls","className","onMove","onDown"],O=N.forwardRef((r,e)=>{var{prefixCls:a="w-color-interactive",className:t,onMove:s,onDown:n}=r,i=I(r,ae),o=g.useRef(null),v=g.useRef(!1),[u,h]=g.useState(!1),b=D(s),d=D(n),l=c=>v.current&&!M(c)?!1:(v.current=M(c),!0),m=g.useCallback(c=>{if(_(c),!!o.current){var R=M(c)?c.touches.length>0:c.buttons>0;if(!R){h(!1);return}b==null||b(H(o.current,c),c)}},[b]),f=g.useCallback(()=>h(!1),[]),k=g.useCallback(c=>{c?(window.addEventListener(v.current?"touchmove":"mousemove",m),window.addEventListener(v.current?"touchend":"mouseup",f)):(window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",f),window.removeEventListener("touchmove",m),window.removeEventListener("touchend",f))},[m,f]);g.useEffect(()=>(k(u),()=>{k(!1)}),[u,m,f,k]);var C=g.useCallback(c=>{_(c.nativeEvent),l(c.nativeEvent)&&o.current&&(d==null||d(H(o.current,c.nativeEvent),c.nativeEvent),h(!0))},[d]);return p.jsx("div",x({},i,{className:[a,t||""].filter(Boolean).join(" "),style:x({},i.style,{touchAction:"none"}),ref:o,tabIndex:0,onMouseDown:C,onTouchStart:C}))});O.displayName="Interactive";var te="rgb(255 255 255) 0px 0px 0px 1.5px, rgb(0 0 0 / 30%) 0px 0px 1px 1px inset, rgb(0 0 0 / 40%) 0px 0px 1px 2px",ne=r=>{var{className:e,color:a,left:t,top:s,style:n,prefixCls:i}=r,o=x({},n,{position:"absolute",top:s,left:t}),v=i+"-pointer "+(e||"");return p.jsx("div",{className:v,style:o,children:p.jsx("div",{className:i+"-fill",style:{width:10,height:10,transform:"translate(-5px, -5px)",boxShadow:te,borderRadius:"50%",backgroundColor:"#fff"},children:p.jsx("div",{style:{inset:0,borderRadius:"50%",position:"absolute",backgroundColor:a}})})})},P=Math.PI*2,oe=(r,e)=>(r%e+e)%e,se=(r,e)=>Math.sqrt(r*r+e*e);function B(r){var{width:e=0}=r,a=e/2;return{width:e,radius:a,cx:a,cy:a}}function ie(r,e){var{cx:a,cy:t}=B(r),s=q(r),n=(180+z(r,e.h,!0))*(P/360),i=e.s/100*s,o=r.direction==="clockwise"?-1:1;return{x:a+i*Math.cos(n)*o,y:t+i*Math.sin(n)*o}}function q(r){var{width:e=0}=r;return e/2}function z(r,e,a){var t=r.angle||0,s=r.direction;return a&&s==="clockwise"?e=t+e:s==="clockwise"?e=360-t+e:a&&s==="anticlockwise"?e=t+180-e:s==="anticlockwise"&&(e=t-e),oe(e,360)}function le(r,e,a){var{cx:t,cy:s}=B(r),n=q(r);e=t-e,a=s-a;var i=z(r,Math.atan2(-a,-e)*(360/P)),o=Math.min(se(e,a),n);return{h:Math.round(i),s:Math.round(100/n*o)}}var ve=["prefixCls","radius","pointer","className","style","width","height","oval","direction","angle","color","onChange"],ce="conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",ue="conic-gradient(red, magenta, blue, aqua, lime, yellow, red)",he=N.forwardRef((r,e)=>{var{prefixCls:a="w-color-wheel",radius:t=0,pointer:s,className:n,style:i,width:o=200,height:v=200,oval:u,direction:h="anticlockwise",angle:b=180,color:d,onChange:l}=r,m=I(r,ve),f=typeof d=="string"&&Y(d)?S(d):d||{},k=d?L(f):"",C=ie({width:o},f),c={top:"0",left:"0",color:k},R=(A,de)=>{var T=le({width:o},o-A.x,v-A.y),K={h:T.h,s:T.s,v:f.v,a:f.a};l&&l(re(K))},E={zIndex:1,position:"absolute",transform:"translate("+C.x+"px, "+C.y+"px) "+(u==="x"||u==="X"?"scaleY(2)":u==="y"||u==="Y"?"scaleX(2)":"")},G=s&&typeof s=="function"?s(x({prefixCls:a,style:E},c)):p.jsx(ne,x({prefixCls:a,style:E},c));return p.jsxs(O,x({className:[a,n||""].filter(Boolean).join(" ")},m,{style:x({position:"relative",width:o,transform:u==="x"||u==="X"?"scaleY(0.5)":u==="y"||u==="Y"?"scaleX(0.5)":"",height:v},i),ref:e,onMove:R,onDown:R,children:[G,p.jsx("div",{style:{position:"absolute",borderRadius:"50%",background:h==="anticlockwise"?ce:ue,transform:"rotateZ("+(b+90)+"deg)",inset:0}}),p.jsx("div",{style:{position:"absolute",borderRadius:"50%",background:"radial-gradient(circle closest-side, #fff, transparent)",inset:0}}),p.jsx("div",{style:{backgroundColor:"#000",borderRadius:"50%",position:"absolute",inset:0,opacity:typeof f.v=="number"?1-f.v/100:0}})]}))});he.displayName="Wheel";export{he as default};
//# sourceMappingURL=index-qBoDqEPB.js.map
